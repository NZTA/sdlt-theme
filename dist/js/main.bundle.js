!function(e){function t(t){for(var r,o,a=t[0],i=t[1],c=t[2],u=0,s=[];u<a.length;u++)o=a[u],Object.prototype.hasOwnProperty.call(C,o)&&C[o]&&s.push(C[o][0]),C[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(L&&L(t);s.length;)s.shift()();return D.push.apply(D,c||[]),n()}function n(){for(var e,t=0;t<D.length;t++){for(var n=D[t],r=!0,o=1;o<n.length;o++){var a=n[o];0!==C[a]&&(r=!1)}r&&(D.splice(t--,1),e=R(R.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!E[e]||!g[e])return;for(var n in g[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(b[n]=t[n]);0==--v&&0===O&&A()}(e,t),r&&r(e,t)};var o,a=!0,i="2e2358f96dc24f1ba854",c={},u=[],s=[];function l(t){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:o!==t,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)n._acceptedDependencies[e[r]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,p){case"idle":(b={})[t]=e[t],m("ready");break;case"ready":_(t);break;case"prepare":case"check":case"dispose":case"apply":(h=h||[]).push(t)}},check:k,apply:j,status:function(e){if(!e)return p;f.push(e)},addStatusHandler:function(e){f.push(e)},removeStatusHandler:function(e){var t=f.indexOf(e);t>=0&&f.splice(t,1)},data:c[t]};return o=void 0,n}var f=[],p="idle";function m(e){p=e;for(var t=0;t<f.length;t++)f[t].call(null,e)}var y,b,d,h,v=0,O=0,S={},g={},E={};function w(e){return+e+""===e?+e:e}function k(e){if("idle"!==p)throw new Error("check() is only allowed in idle status");return a=e,m("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,o=R.p+"hot/hot-update.json";r.open("GET",o,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+o+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return m(P()?"ready":"idle"),null;g={},S={},E=e.c,d=e.h,m("prepare");var t=new Promise((function(e,t){y={resolve:e,reject:t}}));for(var n in b={},C)T(n);return"prepare"===p&&0===O&&0===v&&A(),t}));var t}function T(e){var t;E[e]?(g[e]=!0,v++,(t=document.createElement("script")).charset="utf-8",t.src=R.p+"hot/hot-update.js",document.head.appendChild(t)):S[e]=!0}function A(){m("ready");var e=y;if(y=null,e)if(a)Promise.resolve().then((function(){return j(a)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in b)Object.prototype.hasOwnProperty.call(b,n)&&t.push(w(n));e.resolve(t)}}function j(t){if("ready"!==p)throw new Error("apply() is only allowed in ready status");return function t(n){var r,a,s,l,f;function p(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var o=r.pop(),a=o.id,i=o.chain;if((l=I[a])&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:i,moduleId:a};if(l.hot._main)return{type:"unaccepted",chain:i,moduleId:a};for(var c=0;c<l.parents.length;c++){var u=l.parents[c],s=I[u];if(s){if(s.hot._declinedDependencies[a])return{type:"declined",chain:i.concat([u]),moduleId:a,parentId:u};-1===t.indexOf(u)&&(s.hot._acceptedDependencies[a]?(n[u]||(n[u]=[]),y(n[u],[a])):(delete n[u],t.push(u),r.push({chain:i.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}P();var v={},O=[],S={},g=function(){console.warn("[HMR] unexpected require("+T.moduleId+") to disposed module")};for(var k in b)if(Object.prototype.hasOwnProperty.call(b,k)){var T;f=w(k),T=b[k]?p(f):{type:"disposed",moduleId:k};var A=!1,j=!1,_=!1,D="";switch(T.chain&&(D="\nUpdate propagation: "+T.chain.join(" -> ")),T.type){case"self-declined":n.onDeclined&&n.onDeclined(T),n.ignoreDeclined||(A=new Error("Aborted because of self decline: "+T.moduleId+D));break;case"declined":n.onDeclined&&n.onDeclined(T),n.ignoreDeclined||(A=new Error("Aborted because of declined dependency: "+T.moduleId+" in "+T.parentId+D));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(T),n.ignoreUnaccepted||(A=new Error("Aborted because "+f+" is not accepted"+D));break;case"accepted":n.onAccepted&&n.onAccepted(T),j=!0;break;case"disposed":n.onDisposed&&n.onDisposed(T),_=!0;break;default:throw new Error("Unexception type "+T.type)}if(A)return m("abort"),Promise.reject(A);if(j)for(f in S[f]=b[f],y(O,T.outdatedModules),T.outdatedDependencies)Object.prototype.hasOwnProperty.call(T.outdatedDependencies,f)&&(v[f]||(v[f]=[]),y(v[f],T.outdatedDependencies[f]));_&&(y(O,[T.moduleId]),S[f]=g)}var N,x=[];for(a=0;a<O.length;a++)f=O[a],I[f]&&I[f].hot._selfAccepted&&S[f]!==g&&!I[f].hot._selfInvalidated&&x.push({module:f,parents:I[f].parents.slice(),errorHandler:I[f].hot._selfAccepted});m("dispose"),Object.keys(E).forEach((function(e){!1===E[e]&&function(e){delete C[e]}(e)}));var U,L,Q=O.slice();for(;Q.length>0;)if(f=Q.pop(),l=I[f]){var M={},q=l.hot._disposeHandlers;for(s=0;s<q.length;s++)(r=q[s])(M);for(c[f]=M,l.hot.active=!1,delete I[f],delete v[f],s=0;s<l.children.length;s++){var F=I[l.children[s]];F&&((N=F.parents.indexOf(f))>=0&&F.parents.splice(N,1))}}for(f in v)if(Object.prototype.hasOwnProperty.call(v,f)&&(l=I[f]))for(L=v[f],s=0;s<L.length;s++)U=L[s],(N=l.children.indexOf(U))>=0&&l.children.splice(N,1);m("apply"),void 0!==d&&(i=d,d=void 0);for(f in b=void 0,S)Object.prototype.hasOwnProperty.call(S,f)&&(e[f]=S[f]);var B=null;for(f in v)if(Object.prototype.hasOwnProperty.call(v,f)&&(l=I[f])){L=v[f];var V=[];for(a=0;a<L.length;a++)if(U=L[a],r=l.hot._acceptedDependencies[U]){if(-1!==V.indexOf(r))continue;V.push(r)}for(a=0;a<V.length;a++){r=V[a];try{r(L)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:f,dependencyId:L[a],error:e}),n.ignoreErrored||B||(B=e)}}}for(a=0;a<x.length;a++){var H=x[a];f=H.module,u=H.parents,o=f;try{R(f)}catch(e){if("function"==typeof H.errorHandler)try{H.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:f,error:t,originalError:e}),n.ignoreErrored||B||(B=t),B||(B=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:f,error:e}),n.ignoreErrored||B||(B=e)}}if(B)return m("fail"),Promise.reject(B);if(h)return t(n).then((function(e){return O.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return m("idle"),new Promise((function(e){e(O)}))}(t=t||{})}function P(){if(h)return b||(b={}),h.forEach(_),h=void 0,!0}function _(t){Object.prototype.hasOwnProperty.call(b,t)||(b[t]=e[t])}var I={},C={2:0},D=[];function R(t){if(I[t])return I[t].exports;var n=I[t]={i:t,l:!1,exports:{},hot:l(t),parents:(s=u,u=[],s),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=I[e];if(!t)return R;var n=function(n){return t.hot.active?(I[n]?-1===I[n].parents.indexOf(e)&&I[n].parents.push(e):(u=[e],o=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),u=[]),R(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return R[e]},set:function(t){R[e]=t}}};for(var a in R)Object.prototype.hasOwnProperty.call(R,a)&&"e"!==a&&"t"!==a&&Object.defineProperty(n,a,r(a));return n.e=function(e){return"ready"===p&&m("prepare"),O++,R.e(e).then(t,(function(e){throw t(),e}));function t(){O--,"prepare"===p&&(S[e]||T(e),0===O&&0===v&&A())}},n.t=function(e,t){return 1&t&&(e=n(e)),R.t(e,-2&t)},n}(t)),n.l=!0,n.exports}R.m=e,R.c=I,R.d=function(e,t,n){R.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},R.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},R.t=function(e,t){if(1&t&&(e=R(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(R.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)R.d(n,r,function(t){return e[t]}.bind(null,r));return n},R.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return R.d(t,"a",t),t},R.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},R.p="/resources/themes/sdlt/dist/img/",R.h=function(){return i};var N=window.webpackJsonp=window.webpackJsonp||[],x=N.push.bind(N);N.push=t,N=N.slice();for(var U=0;U<N.length;U++)t(N[U]);var L=x;D.push([426,0]),n()}({179:function(e,t,n){e.exports=n.p+"../img/f0545538d29150bca803dd2e1d422c11.jpg"},189:function(e,t,n){e.exports=n.p+"../img/b2ce59ecfcc515cb33d81013163089b9.svg"},400:function(e,t,n){e.exports=n.p+"../img/41e304962a77cf734f9bfe9772ab12b9.svg"},401:function(e,t,n){e.exports=n.p+"../img/0e61629440d7a6d860ba88aad4af303a.svg"},402:function(e,t,n){e.exports=n.p+"../img/442b4a253c2be23661dc12e64f264053.svg"},403:function(e,t,n){e.exports=n.p+"../img/2d7ab2e275175116af7444a221be9f74.svg"},405:function(e,t,n){e.exports=n.p+"../img/44cca0ef5b0830924492e8a8413b854e.svg"},406:function(e,t,n){e.exports=n.p+"../img/fb467c695d06bcd18d012bd28ff6f583.svg"},407:function(e,t,n){e.exports=n.p+"../img/8b14213bb682c2ce2e8b21f3ce9bb6f0.svg"},408:function(e,t,n){e.exports=n.p+"../img/b002cf666ac7512c21ad21462efdf4e8.svg"},409:function(e,t,n){e.exports=n.p+"../img/4b4872cec3cb197b21f4d3ac1b8ee472.jpg"},410:function(e,t,n){e.exports=n.p+"../img/d1029db2ceff54ee06b8dafcf9f6a671.jpg"},426:function(e,t,n){n(195),e.exports=n(776)},57:function(e,t,n){e.exports=n.p+"../img/4aa06b86ab33745eda39a0996b2a31bd.svg"},654:function(e,t,n){var r={"./af":246,"./af.js":246,"./ar":247,"./ar-dz":248,"./ar-dz.js":248,"./ar-kw":249,"./ar-kw.js":249,"./ar-ly":250,"./ar-ly.js":250,"./ar-ma":251,"./ar-ma.js":251,"./ar-sa":252,"./ar-sa.js":252,"./ar-tn":253,"./ar-tn.js":253,"./ar.js":247,"./az":254,"./az.js":254,"./be":255,"./be.js":255,"./bg":256,"./bg.js":256,"./bm":257,"./bm.js":257,"./bn":258,"./bn-bd":259,"./bn-bd.js":259,"./bn.js":258,"./bo":260,"./bo.js":260,"./br":261,"./br.js":261,"./bs":262,"./bs.js":262,"./ca":263,"./ca.js":263,"./cs":264,"./cs.js":264,"./cv":265,"./cv.js":265,"./cy":266,"./cy.js":266,"./da":267,"./da.js":267,"./de":268,"./de-at":269,"./de-at.js":269,"./de-ch":270,"./de-ch.js":270,"./de.js":268,"./dv":271,"./dv.js":271,"./el":272,"./el.js":272,"./en-au":273,"./en-au.js":273,"./en-ca":274,"./en-ca.js":274,"./en-gb":275,"./en-gb.js":275,"./en-ie":276,"./en-ie.js":276,"./en-il":277,"./en-il.js":277,"./en-in":278,"./en-in.js":278,"./en-nz":279,"./en-nz.js":279,"./en-sg":280,"./en-sg.js":280,"./eo":281,"./eo.js":281,"./es":282,"./es-do":283,"./es-do.js":283,"./es-mx":284,"./es-mx.js":284,"./es-us":285,"./es-us.js":285,"./es.js":282,"./et":286,"./et.js":286,"./eu":287,"./eu.js":287,"./fa":288,"./fa.js":288,"./fi":289,"./fi.js":289,"./fil":290,"./fil.js":290,"./fo":291,"./fo.js":291,"./fr":292,"./fr-ca":293,"./fr-ca.js":293,"./fr-ch":294,"./fr-ch.js":294,"./fr.js":292,"./fy":295,"./fy.js":295,"./ga":296,"./ga.js":296,"./gd":297,"./gd.js":297,"./gl":298,"./gl.js":298,"./gom-deva":299,"./gom-deva.js":299,"./gom-latn":300,"./gom-latn.js":300,"./gu":301,"./gu.js":301,"./he":302,"./he.js":302,"./hi":303,"./hi.js":303,"./hr":304,"./hr.js":304,"./hu":305,"./hu.js":305,"./hy-am":306,"./hy-am.js":306,"./id":307,"./id.js":307,"./is":308,"./is.js":308,"./it":309,"./it-ch":310,"./it-ch.js":310,"./it.js":309,"./ja":311,"./ja.js":311,"./jv":312,"./jv.js":312,"./ka":313,"./ka.js":313,"./kk":314,"./kk.js":314,"./km":315,"./km.js":315,"./kn":316,"./kn.js":316,"./ko":317,"./ko.js":317,"./ku":318,"./ku.js":318,"./ky":319,"./ky.js":319,"./lb":320,"./lb.js":320,"./lo":321,"./lo.js":321,"./lt":322,"./lt.js":322,"./lv":323,"./lv.js":323,"./me":324,"./me.js":324,"./mi":325,"./mi.js":325,"./mk":326,"./mk.js":326,"./ml":327,"./ml.js":327,"./mn":328,"./mn.js":328,"./mr":329,"./mr.js":329,"./ms":330,"./ms-my":331,"./ms-my.js":331,"./ms.js":330,"./mt":332,"./mt.js":332,"./my":333,"./my.js":333,"./nb":334,"./nb.js":334,"./ne":335,"./ne.js":335,"./nl":336,"./nl-be":337,"./nl-be.js":337,"./nl.js":336,"./nn":338,"./nn.js":338,"./oc-lnc":339,"./oc-lnc.js":339,"./pa-in":340,"./pa-in.js":340,"./pl":341,"./pl.js":341,"./pt":342,"./pt-br":343,"./pt-br.js":343,"./pt.js":342,"./ro":344,"./ro.js":344,"./ru":345,"./ru.js":345,"./sd":346,"./sd.js":346,"./se":347,"./se.js":347,"./si":348,"./si.js":348,"./sk":349,"./sk.js":349,"./sl":350,"./sl.js":350,"./sq":351,"./sq.js":351,"./sr":352,"./sr-cyrl":353,"./sr-cyrl.js":353,"./sr.js":352,"./ss":354,"./ss.js":354,"./sv":355,"./sv.js":355,"./sw":356,"./sw.js":356,"./ta":357,"./ta.js":357,"./te":358,"./te.js":358,"./tet":359,"./tet.js":359,"./tg":360,"./tg.js":360,"./th":361,"./th.js":361,"./tk":362,"./tk.js":362,"./tl-ph":363,"./tl-ph.js":363,"./tlh":364,"./tlh.js":364,"./tr":365,"./tr.js":365,"./tzl":366,"./tzl.js":366,"./tzm":367,"./tzm-latn":368,"./tzm-latn.js":368,"./tzm.js":367,"./ug-cn":369,"./ug-cn.js":369,"./uk":370,"./uk.js":370,"./ur":371,"./ur.js":371,"./uz":372,"./uz-latn":373,"./uz-latn.js":373,"./uz.js":372,"./vi":374,"./vi.js":374,"./x-pseudo":375,"./x-pseudo.js":375,"./yo":376,"./yo.js":376,"./zh-cn":377,"./zh-cn.js":377,"./zh-hk":378,"./zh-hk.js":378,"./zh-mo":379,"./zh-mo.js":379,"./zh-tw":380,"./zh-tw.js":380};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=654},716:function(e,t){},776:function(e,t,n){"use strict";n.r(t);n(427),n(429),n(430),n(432),n(433),n(435),n(436),n(144),n(439),n(440),n(441),n(443),n(444),n(445),n(446),n(447),n(448),n(449),n(450),n(451),n(452),n(453),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(469),n(470),n(471),n(472),n(474),n(476),n(477),n(478),n(479),n(480),n(481),n(482),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(496),n(497),n(500),n(501),n(502),n(504),n(505),n(506),n(507),n(508),n(509),n(510),n(511),n(512),n(513),n(514),n(515),n(214),n(516),n(518),n(519),n(520),n(521),n(522),n(523),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),n(534),n(535),n(536),n(537),n(538),n(539),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(558),n(559),n(560),n(561),n(562),n(563),n(564),n(565),n(566);var r=n(0),o=n.n(r),a=n(81),i=n.n(a),c=n(10),u=n(785),s=n(783),l={HOME:{LOAD_HOME_STATE_STARTED:"LOAD_HOME_STATE_STARTED",LOAD_HOME_STATE_FAILED:"LOAD_HOME_STATE_FAILED",LOAD_HOME_STATE_FINISHED:"LOAD_HOME_STATE_FINISHED"},QUESTIONNAIRE:{LOAD_QUESTIONNAIRE_START_STATE:"LOAD_QUESTIONNAIRE_START_STATE",PUT_DATA_IN_QUESTIONNAIRE_ANSWER:"PUT_DATA_IN_QUESTIONNAIRE_ANSWER",MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION:"MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION",MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE:"MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE",FETCH_MY_SUBMISSION_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/REQUEST",FETCH_MY_SUBMISSION_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/SUCCESS",FETCH_MY_SUBMISSION_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/FAILURE",FETCH_AWAITING_APPROVAL_LIST_REQUEST:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/REQUEST",FETCH_AWAITING_APPROVAL_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_LIST_FAILURE:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/FAILURE",FETCH_MY_PRODUCT_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/REQUEST",FETCH_MY_PRODUCT_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/SUCCESS",FETCH_MY_PRODUCT_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/FAILURE",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/REQUEST",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/SUCCESS",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/FAILURE"},TASK:{LOAD_TASK_SUBMISSION:"ACTION_TASK_LOAD_TASK_SUBMISSION",PUT_DATA_IN_TASK_SUBMISSION:"ACTION_TASK_PUT_DATA_IN_TASK_SUBMISSION",MARK_TASK_QUESTION_NOT_APPLICABLE:"ACTION_TASK_MARK_TASK_QUESTION_NOT_APPLICABLE",MOVE_TO_ANOTHER_TASK_QUESTION:"ACTION_TASK_MOVE_TO_ANOTHER_TASK_QUESTION",COMPLETE_TASK_SUBMISSION:"ACTION_TASK_COMPLETE_TASK_SUBMISSION",EDIT_TASK_SUBMISSION:"ACTION_TASK_EDIT_TASK_SUBMISSION",SAVE_SELECTED_COMPONENT_REQUEST:"TASK/SAVE_SELECTED_COMPONENT/REQUEST",SAVE_SELECTED_COMPONENT_SUCCESS:"TASK/SAVE_SELECTED_COMPONENT/SUCCESS",SAVE_SELECTED_COMPONENT_FAILURE:"TASK/SAVE_SELECTED_COMPONENT/FAILURE",FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/REQUEST",FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/FAILURE"},COMPONENT_SELECTION:{SET_AVAILABLE_COMPONENTS:"ACTION_COMPONENT_SELECTION_SET_AVAILABLE_COMPONENTS",ADD_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_ADD_SELECTED_COMPONENT",REMOVE_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_REMOVE_SELECTED_COMPONENT",SET_JIRA_TICKETS:"ACTION_COMPONENT_SELECTION_SET_JIRA_TICKETS",SET_VIEW_MODE:"ACTION_COMPONENT_SELECTION_SET_VIEW_MODE",LOAD_SELECTED_COMPONENTS:"COMPONENTSELECTION/LOAD_SELECTED_COMPONENTS"},SRA:{LOAD_SECURITY_RISK_ASSESSMENT_REQUEST:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/REQUEST",LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/SUCCESS",LOAD_SECURITY_RISK_ASSESSMENT_FAILURE:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/FAILURE",LOAD_IMPACT_THRESHOLD:"SRA/LOAD_IMPACT_THRESHOLD"},CVA:{LOAD_CONTROL_VALIDATION_AUDIT_REQUEST:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/REQUEST",LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/SUCCESS",LOAD_CONTROL_VALIDATION_AUDIT_FAILURE:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/FAILURE",EMPTY_CONTROL_VALIDATION_AUDIT_DATA:"CVA/EMPTY_CONTROL_VALIDATION_AUDIT_DATA",UPDATE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/UPDATE_CONTROL_VALIDATION_AUDIT_DATA",SAVE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/SAVE_CONTROL_VALIDATION_AUDIT_DATA",RE_SYNC_WITH_JIRA_REQUEST:"CVA/RE_SYNC_WITH_JIRA/REQUEST",RE_SYNC_WITH_JIRA_SUCCESS:"CVA/RE_SYNC_WITH_JIRA/SUCCESS",RE_SYNC_WITH_JIRA_FAILURE:"CVA/RE_SYNC_WITH_JIRA/FAILURE"},UI:{LOAD_DATA_STARTED:"LOAD_DATA_STARTED",LOAD_DATA_FAILED:"LOAD_DATA_FAILED",LOAD_DATA_FINISHED:"LOAD_DATA_FINISHED"},USER:{SET_CURRENT_USER:"ACTION_USER_SET_CURRENT_USER"},SITE_CONFIG:{LOAD_SITE_CONFIG:"SITE_CONFIG/LOAD_SITE_CONFIG"}},f=n(41),p=n(189),m=n.n(p),y=n(400),b=n.n(y),d=n(401),h=n.n(d),v=n(402),O=n.n(v),S=n(403),g=n.n(S),E=n(5),w=n.n(E),k=n(7),T=n.n(k),A=n(404),j=n.n(A),P=n(121),I=n.n(P),C=n(1),D=n.n(C);function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var N=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"redirectToQuestionnaireEditing",value:function(e){window.location.href="/#/questionnaire/submission/".concat(e)}},{key:"redirectToQuestionnaireReview",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/review/".concat(e,"?token=").concat(t):"/#/questionnaire/review/".concat(e)}},{key:"redirectToQuestionnaireSummary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/summary/".concat(e,"?token=").concat(t):"/#/questionnaire/summary/".concat(e)}},{key:"redirectToTaskSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/task/submission/".concat(e);if(t&&(r="/task/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToComponentSelectionSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/component-selection/submission/".concat(e);if(t&&(r="/component-selection/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToSecurityRiskAssessment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/security-risk-assessment/submission/".concat(e);if(t&&(r="/security-risk-assessment/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToControlValidationAudit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/control-validation-audit/submission/".concat(e);if(t&&(r="/control-validation-audit/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToLogout",value:function(){window.location.href="/Security/Logout"}},{key:"redirectToLogin",value:function(){window.location.href="/Security/login?BackURL=%2F"}},{key:"redirectToHome",value:function(){window.location.href="/"}}],(n=null)&&R(t.prototype,n),r&&R(t,r),e}();function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"request",value:(o=regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=U({},t),r=n.query,o=n.variables,a=n.csrfToken,i={},a&&(i["X-CSRF-TOKEN"]=a),c={query:j()(r),variables:o},e.next=6,I.a.request({url:"/graphql",method:"post",data:c,headers:i});case 6:if(u=e.sent,s=u.data,!(l=D.a.get(s,"errors.0.message",null))){e.next=11;break}throw new Error(l);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){Q(a,n,r,i,c,"next",e)}function c(e){Q(a,n,r,i,c,"throw",e)}i(void 0)}))},function(e){return a.apply(this,arguments)})}],n&&M(t.prototype,n),r&&M(t,r),e}(),F=new Error("There is an error when fetching data..."),B=new Error("There is an error when parsing data...");function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var J=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseQuestionsFromJSON",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=t.schemaJSON,r=t.answersJSON,o=function(e){var t=JSON.parse(e);if(!t||!Array.isArray(t))throw B;return t}(n),a=function(e){if(!e)return{};var t=JSON.parse(e),n={};return t&&D.a.keys(t).forEach((function(e){n[D.a.toString(e)]=t[e]})),n}(r),i=function(e){var t="";return D.a.keys(e).forEach((function(n){var r=e[n];!t&&Boolean(D.a.get(r,"isCurrent",!1))&&(t=n)})),t}(a);return o.map((function(e,t){var n=D.a.toString(D.a.get(e,"ID","")),r=Boolean(D.a.get(a,"".concat(n,".hasAnswer"),!1)),o=Boolean(D.a.get(a,"".concat(n,".isApplicable"),!0)),c=!1;c=i?i===n:0===t;var u=null,s=null,l=r?D.a.get(a,"".concat(n,".inputs"),[]):[],f=r?D.a.get(a,"".concat(n,".actions"),[]):[],p=D.a.get(e,"AnswerInputFields",[]),m=D.a.get(e,"AnswerActionFields",[]);p&&Array.isArray(p)&&p.length>0&&(u=p.map((function(e){var t=D.a.toString(D.a.get(e,"InputType","")).toLowerCase();"multiple-choice: single selection"===t&&(t="radio"),"multiple-choice: multiple selection"===t&&(t="checkbox"),["text","email","textarea","product aspects","date","url","radio","checkbox","release date"].includes(t)||(t="text");var n=D.a.toString(D.a.get(e,"ID","")),r={id:n,label:D.a.toString(D.a.get(e,"Label","")),type:t,required:Boolean(D.a.toInteger(D.a.get(e,"Required",!1))),minLength:Number.parseInt(D.a.toString(D.a.get(e,"MinLength",0))),maxLength:Number.parseInt(D.a.toString(D.a.get(e,"MaxLength",0))),placeholder:D.a.toString(D.a.get(e,"PlaceHolder","")),options:D.a.has(e,"MultiChoiceAnswer")?JSON.parse(D.a.get(e,"MultiChoiceAnswer","")):"",defaultRadioButtonValue:D.a.has(e,"MultiChoiceSingleAnswerDefault")?D.a.toString(D.a.get(e,"MultiChoiceSingleAnswerDefault","")):"",defaultCheckboxValue:D.a.has(e,"MultiChoiceMultipleAnswerDefault")?D.a.get(e,"MultiChoiceMultipleAnswerDefault",""):"",data:null};if(l&&Array.isArray(l)&&l.length>0){var o=D.a.head(l.filter((function(e){return e.id===n})));if(o){var a=D.a.toString(D.a.get(o,"data",null));a&&(r.data=a)}}return r}))),m&&Array.isArray(m)&&m.length>0&&(s=m.map((function(e){var t=D.a.toString(D.a.get(e,"ActionType","")).toLowerCase();["continue","goto","message","finish"].includes(t)||(t="continue");var n=D.a.toString(D.a.get(e,"ID","")),r={id:n,label:D.a.toString(D.a.get(e,"Label","")),type:t,isChose:!1};"message"===t&&(r.message=D.a.toString(D.a.get(e,"Message",""))),"goto"===t&&(r.goto=D.a.toString(D.a.get(e,"GotoID",""))),"finish"===t&&(r.result=D.a.toString(D.a.get(e,"Result","")));var o=D.a.toString(D.a.get(e,"TaskID",""));if(r.taskID=o,f&&Array.isArray(f)&&f.length>0){var a=D.a.head(f.filter((function(e){return e.id===n})));if(a){var i=Boolean(D.a.get(a,"isChose",!1));r.isChose=i}}return r})));var y={id:n,title:D.a.toString(D.a.get(e,"Title","")),heading:D.a.toString(D.a.get(e,"Question","")),description:D.a.toString(D.a.get(e,"Description","")),type:"input"===D.a.toString(D.a.get(e,"AnswerFieldType","")).toLowerCase()?"input":"action",isCurrent:c,hasAnswer:r,isApplicable:o};return u&&(y.inputs=u),s&&(y.actions=s),y}))}}],(n=null)&&K(t.prototype,n),r&&K(t,r),e}(),W=n(82),Y=n.n(W);function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONObject",value:function(e){var t=T()(w()(e,"ID","")),n=T()(w()(e,"Name","")),r=T()(w()(e,"ComponentTarget","")),o=T()(w()(e,"TaskType",""));switch(o){case"questionnaire":case"selection":break;default:o="questionnaire"}var a=[],i=T()(w()(e,"QuestionsDataJSON",""));return i&&(a=J.parseQuestionsFromJSON({schemaJSON:i,answersJSON:"{}"})),{id:t,name:n,type:o,componentTarget:r,questions:a}}},{key:"parseLikelihoodJSONObject",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return t?Y()(t).map((function(e){return{name:T()(w()(e,"Name")),value:T()(w()(e,"Value")),operator:T()(w()(e,"Operator")),colour:T()(w()(e,"Colour"))}})):[]}},{key:"parseAlltaskSubmissionforQuestionnaire",value:function(e){if(!e)return[];var t=w()(e,"QuestionnaireSubmission.TaskSubmissions","");return"questionnaire"===w()(e,"Submission.TaskType","")?[]:t?t.map((function(e){return{uuid:T()(w()(e,"UUID")),taskType:T()(w()(e,"TaskType")),status:T()(w()(e,"Status"))}})):[]}}],(n=null)&&G(t.prototype,n),r&&G(t,r),e}();function $(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var X=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"fetchHomeData",value:(o=regeneratorRuntime.mark((function e(){var t,n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,q.request({query:"\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n      ComponentTarget\n    }\n  }\n}"});case 3:if(t=e.sent,n=w()(t,"data.readDashboard",[]),Array.isArray(n)&&0!==n.length){e.next=7;break}throw F;case 7:return r=n[0],o=T()(w()(r,"Title","")),a=T()(w()(r,"Subtitle","")),i=w()(r,"Pillars",[]),c=this.parsePillars(i),u=w()(r,"Tasks",[]),s=this.parseTasks(u),e.abrupt("return",{title:o,subtitle:a,pillars:c,tasks:s});case 15:case"end":return e.stop()}}),e,this)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){$(a,n,r,i,c,"next",e)}function c(e){$(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})},{key:"parsePillars",value:function(e){return Array.isArray(e)?e.map((function(e){var t=m.a;switch(e.Type){case"proof_of_concept":t=m.a;break;case"software_as_service":t=b.a;break;case"product_project_or_solution":t=h.a;break;case"feature_or_bug_fix":t=O.a;break;case"risk_questionnaire":t=g.a}return{title:T()(w()(e,"Label","")),disabled:Boolean(w()(e,"Disabled",!0)),questionnaireID:T()(w()(e,"Questionnaire.0.ID","")),icon:t}})):[]}},{key:"parseTasks",value:function(e){if(!Array.isArray(e))return[];var t=[];return e.forEach((function(e){var n=z.parseFromJSONObject(e);t.push(n)})),t}}],n&&Z(t.prototype,n),r&&Z(t,r),e}();function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var te=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"displayError",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(alert(e),t)throw e}}],(n=null)&&ee(t.prototype,n),r&&ee(t,r),e}();function ne(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function re(){return function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.fetchHomeData();case 3:n=e.sent,r={type:l.HOME.LOAD_HOME_STATE_FINISHED,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),te.displayError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ne(a,r,o,i,c,"next",e)}function c(e){ne(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()}var oe=n(782);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(i,e);var t,n,r,a=fe(i);function i(){return ue(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=["Pillar"].concat(ie(this.props.classes));return this.props.pillar.disabled&&t.push("disabled"),o.a.createElement(oe.a,{className:t.join(" "),to:this.props.link,onClick:function(t){e.props.pillar.disabled&&(t.preventDefault(),alert("Coming soon..."))}},o.a.createElement("div",{className:"icon"},o.a.createElement("img",{src:this.props.pillar.icon,alt:this.props.pillar.title})),o.a.createElement("div",{className:"title"},this.props.pillar.title))}}])&&se(t.prototype,n),r&&se(t,r),i}(r.Component);function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e){return function(e){if(Array.isArray(e))return he(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=we(e);if(t){var o=we(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ee(this,n)}}function Ee(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(i,e);var t,n,r,a=ge(i);function i(){return ve(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=["TaskButton"].concat(de(this.props.classes));return o.a.createElement(oe.a,{className:e.join(" "),to:this.props.link},this.props.title)}}])&&Oe(t.prototype,n),r&&Oe(t,r),i}(r.Component),Te=n(405),Ae=n.n(Te);function je(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _e=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"getCSRFToken",value:(o=regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.request({url:"/getCSRFToken",method:"get",headers:{"x-requested-with":"XMLHttpRequest"}});case 2:if(t=e.sent,n=t.data,r=D.a.get(n,"CSRFToken",null)){e.next=7;break}throw new Error(n);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){je(a,n,r,i,c,"next",e)}function c(e){je(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})}],n&&Pe(t.prototype,n),r&&Pe(t,r),e}();function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Me(e);if(t){var o=Me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qe(this,n)}}function Qe(e,t){return!t||"object"!==Ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(u,e);var t,n,r,a,i,c=Le(u);function u(){return Ne(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.logout()}},o.a.createElement("div",null,o.a.createElement("img",{src:Ae.a}),"Log Out"))}},{key:"logout",value:(a=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.getCSRFToken();case 2:t=e.sent,window.location.href="/Security/Logout?SecurityID=".concat(t);case 4:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){Ce(o,n,r,i,c,"next",e)}function c(e){Ce(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&xe(t.prototype,n),r&&xe(t,r),u}(r.Component);qe.defaultProps={classes:[]};var Fe=qe,Be=n(83),Ve=n.n(Be);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xe(e);if(t){var o=Xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ze(this,n)}}function Ze(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(u,e);var t,n,r,a,i,c=$e(u);function u(){return Ye(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.allSubmission()}},o.a.createElement("div",null,o.a.createElement("img",{src:Ve.a}),"My Submissions"))}},{key:"allSubmission",value:(a=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MySubmissions";case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){Ke(o,n,r,i,c,"next",e)}function c(e){Ke(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&Ge(t.prototype,n),r&&Ge(t,r),u}(r.Component);et.defaultProps={classes:[]};var tt=et,nt=n(406),rt=n.n(nt);function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function st(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mt(e);if(t){var o=mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pt(this,n)}}function pt(e,t){return!t||"object"!==ot(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(u,e);var t,n,r,a,i,c=ft(u);function u(){return ut(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.awaitingApprovals()}},o.a.createElement("div",null,o.a.createElement("img",{src:rt.a}),"Awaiting Approvals"))}},{key:"awaitingApprovals",value:(a=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/AwaitingApprovals";case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){at(o,n,r,i,c,"next",e)}function c(e){at(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&st(t.prototype,n),r&&st(t,r),u}(r.Component);yt.defaultProps={classes:[]};var bt=yt,dt=n(407),ht=n.n(dt);function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jt(e);if(t){var o=jt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return At(this,n)}}function At(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(u,e);var t,n,r,a,i,c=Tt(u);function u(){return Et(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.allSubmission()}},o.a.createElement("div",null,o.a.createElement("img",{src:ht.a}),"My Products"))}},{key:"allSubmission",value:(a=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MyProducts";case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){Ot(o,n,r,i,c,"next",e)}function c(e){Ot(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&wt(t.prototype,n),r&&wt(t,r),u}(r.Component);Pt.defaultProps={classes:[]};var _t=Pt;function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){Rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mt(e);if(t){var o=Mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qt(this,n)}}function Qt(e,t){return!t||"object"!==It(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(i,e);var t,n,r,a=Lt(i);function i(){return Nt(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=Dt({},this.props.homeState),t=e.title,n=e.subtitle,r=e.pillars,a=e.tasks,i=Dt({},this.props.siteConfig).logoPath;return o.a.createElement("div",{className:"Home"},o.a.createElement(Fe,{classes:["clearfix","float-right","mt-5","mr-4"]}),o.a.createElement(tt,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement(bt,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement(_t,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement("div",{className:"layout"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:i,className:"logo"})),o.a.createElement("h1",null,t),o.a.createElement("h2",null,n),o.a.createElement("div",{className:"pillars"},o.a.createElement("div",{className:"row"},r.map((function(e,t){return o.a.createElement(ye,{link:"/questionnaire/start/".concat(e.questionnaireID),classes:["col","mx-1"],pillar:e,key:"pillar_"+(t+1)})})))),o.a.createElement("div",{className:"tasks"},a.map((function(e,t){var n="/tasks/standalone/".concat(e.id);return"selection"===e.type&&(n="/component-selection/standalone/".concat(e.id,"?componentTarget=").concat(e.componentTarget)),o.a.createElement(ke,{link:n,classes:["mx-1"],title:e.name,key:"standalone_task_"+(t+1)})})))))}}])&&xt(t.prototype,n),r&&xt(t,r),i}(r.Component);function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e,t){return(Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gt(e);if(t){var o=Gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yt(this,n)}}function Yt(e,t){return!t||"object"!==Ft(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}(i,e);var t,n,r,a=Wt(i);function i(){return Ht(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){Vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).footerCopyrightText;return o.a.createElement("footer",{className:"Footer"},o.a.createElement("div",null,e))}}])&&Kt(t.prototype,n),r&&Kt(t,r),i}(r.Component);zt.defaultProps={footerCopyrightText:""};var $t=zt,Zt=n(179),Xt=n.n(Zt),en=n(408),tn=n.n(en),nn=n(409),rn=n.n(nn),on=n(410),an=n.n(on);function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var un=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseSiteConfigFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=String.fromCharCode(169)+" NZTA "+(new Date).getFullYear();return{siteTitle:T()(w()(t,"Title")||"NZTA SDLT"),footerCopyrightText:T()(w()(t,"FooterCopyrightText","")||n),logoPath:T()(w()(t,"LogoPath","")||tn.a),homePageBackgroundImagePath:T()(w()(t,"HomePageBackgroundImagePath","")||Xt.a),pdfHeaderImageLink:T()(w()(t,"PdfHeaderImageLink","")||rn.a),pdfFooterImageLink:T()(w()(t,"PdfFooterImageLink","")||an.a)}}}],(n=null)&&cn(t.prototype,n),r&&cn(t,r),e}();function sn(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var fn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"fetchSiteConfig",value:(o=regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,q.request({query:"\nquery {\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}"});case 3:return t=e.sent,n=D.a.get(t,"data.readSiteConfig.0",null),r=un.parseSiteConfigFromJSON(n),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){sn(a,n,r,i,c,"next",e)}function c(e){sn(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})}],n&&ln(t.prototype,n),r&&ln(t,r),e}();function pn(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function mn(){return function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fn.fetchSiteConfig();case 3:n=e.sent,r={type:l.SITE_CONFIG.LOAD_SITE_CONFIG,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),te.displayError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){pn(a,r,o,i,c,"next",e)}function c(e){pn(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()}function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function On(e,t){return(On=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=En(e);if(t){var o=En(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gn(this,n)}}function gn(e,t){return!t||"object"!==yn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&On(e,t)}(i,e);var t,n,r,a=Sn(i);function i(){return hn(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){this.props.dispatchLoadHomeDataAction&&this.props.dispatchLoadHomeDataAction()}},{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach((function(t){dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.siteConfig,n=e.homeState;return n&&t?o.a.createElement("div",{className:"HomeContainer",style:{backgroundImage:'url("'.concat(t.homePageBackgroundImagePath,'")'),backgroundSize:"cover"}},o.a.createElement(qt,{homeState:n,siteConfig:t}),o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText})):null}}])&&vn(t.prototype,n),r&&vn(t,r),i}(r.Component),kn=Object(c.b)((function(e){return{homeState:e.homeState,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadHomeDataAction:function(){e(re()),e(mn())}}}))(wn),Tn=n(180),An=n.n(Tn);function jn(e){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function In(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dn(e,t){return(Dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xn(e);if(t){var o=xn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nn(this,n)}}function Nn(e,t){return!t||"object"!==jn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xn(e){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Un=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dn(e,t)}(i,e);var t,n,r,a=Rn(i);function i(){return In(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){_n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.title,n=e.classes,r=e.disabled,a=e.onClick,i=e.iconImage,c=null;return i&&(c=o.a.createElement("img",{src:i})),o.a.createElement("button",{className:An()("BaseButton",n,{disabled:r}),onClick:function(e){r?e.preventDefault():a(e)}},c,t)}}])&&Cn(t.prototype,n),r&&Cn(t,r),i}(r.Component);Un.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Ln=Un;function Qn(e){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mn(){return(Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qn(e){return function(e){if(Array.isArray(e))return Fn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hn(e,t){return(Hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wn(e);if(t){var o=Wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jn(this,n)}}function Jn(e,t){return!t||"object"!==Qn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wn(e){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Yn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hn(e,t)}(i,e);var t,n,r,a=Kn(i);function i(){return Bn(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(Ln,Mn({},this.props,{classes:["LightButton"].concat(qn(this.props.classes))}))}}])&&Vn(t.prototype,n),r&&Vn(t,r),i}(r.Component);Yn.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Gn=Yn;function zn(e){return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xn(e,t){return(Xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function er(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nr(e);if(t){var o=nr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tr(this,n)}}function tr(e,t){return!t||"object"!==zn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xn(e,t)}(i,e);var t,n,r,a=er(i);function i(){return $n(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.keyInformation,n=e.user,r=e.onStartButtonClick;return o.a.createElement("div",{className:"Start"},o.a.createElement("div",{className:"start-form"},o.a.createElement("div",{className:"info-box"},o.a.createElement("div",{className:"key-info-title"},"Key Information:"),o.a.createElement("div",{className:"key-info",dangerouslySetInnerHTML:{__html:t}}),o.a.createElement("div",{className:"user-info"},o.a.createElement("div",{className:"info-line"},o.a.createElement("b",null,"Your Name: "),o.a.createElement("span",null,n.name)),o.a.createElement("div",{className:"info-line"},o.a.createElement("b",null,"Email Address: "),o.a.createElement("span",null,n.email))),o.a.createElement("div",{className:"actions"},o.a.createElement(Gn,{title:"START",onClick:r})))))}}])&&Zn(t.prototype,n),r&&Zn(t,r),i}(r.Component);function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ar=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseUserFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=w()(t,"FirstName")?T()(w()(t,"FirstName",""))+" "+T()(w()(t,"Surname","")):"";return{id:T()(w()(t,"ID")),name:n,email:w()(t,"Email"),isSA:"true"===T()(w()(t,"IsSA")),isCISO:"true"===T()(w()(t,"IsCISO"))}}}],(n=null)&&or(t.prototype,n),r&&or(t,r),e}();function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(n),!0).forEach((function(t){ur(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sr(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function lr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){sr(a,r,o,i,c,"next",e)}function c(e){sr(a,r,o,i,c,"throw",e)}i(void 0)}))}}function fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var pr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a,i,c,u,s,l,f,p,m,y,b,d,h;return t=e,n=null,r=[{key:"createInProgressSubmission",value:(h=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.questionnaireID,o=n.csrfToken,a="\nmutation {\n createQuestionnaireSubmission(QuestionnaireID: ".concat(r,"){\n   UUID\n }\n}"),e.next=4,q.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=D.a.get(i,"data.createQuestionnaireSubmission.UUID",null)){e.next=8;break}throw F;case 8:return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)})},{key:"fetchStartData",value:(d=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="\nquery {\n  readCurrentMember {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n  readQuestionnaire(ID: ".concat(t,") {\n    ID\n    Name\n    KeyInformation\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}\n"),e.next=3,q.request({query:n});case 3:if(r=e.sent,o=D.a.get(r,"data.readCurrentMember.0",null),a=D.a.get(r,"data.readQuestionnaire",null),i=D.a.get(r,"data.readSiteConfig.0",null),o&&a&&i){e.next=9;break}throw F;case 9:return e.abrupt("return",{title:D.a.get(a,"Name",""),siteConfig:un.parseSiteConfigFromJSON(i),subtitle:D.a.get(i,"Title",""),questionnaireID:D.a.get(a,"ID",""),keyInformation:D.a.get(a,"KeyInformation",""),user:ar.parseUserFromJSON(o)});case 10:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)})},{key:"fetchSubmissionData",value:(b=lr(regeneratorRuntime.mark((function e(t,n){var r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='\nquery {\n  readCurrentMember {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n  readQuestionnaireSubmission(UUID: "'.concat(t,'", SecureToken: "').concat(n,'") {\n    ID\n    UUID\n    ApprovalLinkToken\n    User {\n      ID\n    }\n    SubmitterName,\n    SubmitterEmail,\n    QuestionnaireStatus,\n    BusinessOwnerApproverName,\n    RiskResultData,\n    Questionnaire {\n      ID\n      Name\n    }\n    QuestionnaireData\n    AnswerData\n    CisoApprovalStatus\n    BusinessOwnerApprovalStatus\n    SecurityArchitectApprovalStatus\n    IsCurrentUserAnApprover\n    ProductName\n    IsCurrentUserABusinessOwnerApprover\n    HideWeightsAndScore\n    TaskSubmissions {\n      UUID\n      TaskName\n      TaskType\n      Status\n      TaskApprover {\n        ID\n        FirstName\n        Surname\n      }\n    }\n    CisoApprover {\n      FirstName\n      Surname\n    }\n    SecurityArchitectApprover {\n      FirstName\n      Surname\n    }\n    ApprovalOverrideBySecurityArchitect\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}'),e.next=3,q.request({query:r});case 3:if(o=e.sent,a=D.a.get(o,"data.readCurrentMember.0",{}),i=D.a.get(o,"data.readQuestionnaireSubmission.0",{}),c=D.a.get(o,"data.readSiteConfig.0",null),a&&i&&c){e.next=9;break}throw F;case 9:return u={title:D.a.toString(D.a.get(i,"Questionnaire.Name","")),siteConfig:un.parseSiteConfigFromJSON(c),user:ar.parseUserFromJSON(a),isCurrentUserApprover:"true"===D.a.get(i,"IsCurrentUserAnApprover","false"),isCurrentUserABusinessOwnerApprover:"true"===D.a.get(i,"IsCurrentUserABusinessOwnerApprover","false"),submission:{isApprovalOverrideBySecurityArchitect:Boolean(D.a.get(i,"ApprovalOverrideBySecurityArchitect",!1)),hideWeightsAndScore:"true"===D.a.get(i,"HideWeightsAndScore","false"),questionnaireID:D.a.toString(D.a.get(i,"Questionnaire.ID","")),questionnaireTitle:D.a.toString(D.a.get(i,"Questionnaire.Name","")),submissionID:D.a.toString(D.a.get(i,"ID","")),submissionUUID:D.a.toString(D.a.get(i,"UUID","")),submissionToken:D.a.toString(D.a.get(i,"ApprovalLinkToken","")),productName:D.a.toString(D.a.get(i,"ProductName","")),submitter:{id:D.a.toString(D.a.get(i,"User.ID")),name:D.a.toString(D.a.get(i,"SubmitterName","")),email:D.a.toString(D.a.get(i,"SubmitterEmail","")),isSA:!1,isCISO:!1},status:D.a.toString(D.a.get(i,"QuestionnaireStatus","")).toLowerCase().replace("-","_"),approvalStatus:{chiefInformationSecurityOfficer:D.a.toString(D.a.get(i,"CisoApprovalStatus","")),businessOwner:D.a.toString(D.a.get(i,"BusinessOwnerApprovalStatus","")),securityArchitect:D.a.toString(D.a.get(i,"SecurityArchitectApprovalStatus",""))},securityArchitectApprover:{FirstName:D.a.toString(D.a.get(i,"SecurityArchitectApprover.FirstName","")),Surname:D.a.toString(D.a.get(i,"SecurityArchitectApprover.Surname",""))},cisoApprover:{FirstName:D.a.toString(D.a.get(i,"CisoApprover.FirstName","")),Surname:D.a.toString(D.a.get(i,"CisoApprover.Surname",""))},questions:J.parseQuestionsFromJSON({schemaJSON:D.a.toString(D.a.get(i,"QuestionnaireData","")),answersJSON:D.a.toString(D.a.get(i,"AnswerData",""))}),businessOwnerApproverName:D.a.toString(D.a.get(i,"BusinessOwnerApproverName","")),taskSubmissions:D.a.toArray(D.a.get(i,"TaskSubmissions",[])).map((function(e){return{uuid:D.a.toString(D.a.get(e,"UUID","")),taskName:D.a.toString(D.a.get(e,"TaskName","")),taskType:D.a.toString(D.a.get(e,"TaskType","")),status:D.a.toString(D.a.get(e,"Status","")),approver:ar.parseUserFromJSON(D.a.get(e,"TaskApprover"))}})),riskResults:D.a.has(i,"RiskResultData")?JSON.parse(D.a.get(i,"RiskResultData","[]")):"[]"}},e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)}))),function(e,t){return b.apply(this,arguments)})},{key:"updateSubmissionData",value:(y=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.questionID,a=n.answerData,i=n.csrfToken,c=window.btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u='\nmutation {\n  updateQuestionnaireSubmission(ID: "'.concat(r,'", QuestionID: "').concat(o,'", AnswerData: "').concat(c,'") {\n    ID\n    AnswerData\n  }\n}'),e.next=5,q.request({query:u,csrfToken:i});case 5:if(s=e.sent,D.a.get(s,"data.updateQuestionnaireSubmission.AnswerData",null)){e.next=9;break}throw F;case 9:case"end":return e.stop()}}),e)}))),function(e){return y.apply(this,arguments)})},{key:"batchUpdateSubmissionData",value:(m=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s,l,f,p,m,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=cr({},t),r=n.submissionID,o=n.questionIDList,a=n.answerDataList,i=n.csrfToken,o.length===a.length){e.next=3;break}throw F;case 3:for(c=[],u=0;u<o.length;u++)s=o[u],l=a[u],f=window.btoa(unescape(encodeURIComponent(JSON.stringify(l)))),p="\nupdateQuestion".concat(s,': updateQuestionnaireSubmission(ID: "').concat(r,'", QuestionID: "').concat(s,'", AnswerData: "').concat(f,'") {\n  ID\n  AnswerData\n}'),c.push(p);return m="\nmutation {\n  ".concat(c.join("\n"),"\n}\n"),e.next=8,q.request({query:m,csrfToken:i});case 8:if(y=e.sent,D.a.get(y,"data",null)){e.next=12;break}throw F;case 12:case"end":return e.stop()}}),e)}))),function(e){return m.apply(this,arguments)})},{key:"submitQuestionnaire",value:(p=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToSubmitted(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,q.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=D.a.toString(D.a.get(i,"data.updateQuestionnaireStatusToSubmitted.QuestionnaireStatus",null)),u=D.a.toString(D.a.get(i,"data.updateQuestionnaireStatusToSubmitted.UUID",null)),c&&u){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)})},{key:"submitQuestionnaireForApproval",value:(f=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToAssignToSecurityArchitect(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,q.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=D.a.toString(D.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.QuestionnaireStatus",null)),u=D.a.toString(D.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.UUID",null)),c&&u){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)})},{key:"assignQuestionnaireSubmissionToSecurityArchitect",value:(l=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToWaitingForSecurityArchitectApproval(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,q.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=D.a.toString(D.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.QuestionnaireStatus",null)),u=D.a.toString(D.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.UUID",null)),c&&u){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"approveQuestionnaireSubmission",value:(s=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnApproveByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,q.request({query:i,csrfToken:o});case 4:if(c=e.sent,u=D.a.toString(D.a.get(c,"data.updateQuestionnaireOnApproveByGroupMember.QuestionnaireStatus",null)),s=D.a.toString(D.a.get(c,"data.updateQuestionnaireOnApproveByGroupMember.UUID",null)),u&&s){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"denyQuestionnaireSubmission",value:(u=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnDenyByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,q.request({query:i,csrfToken:o});case 4:if(c=e.sent,u=D.a.toString(D.a.get(c,"data.updateQuestionnaireOnDenyByGroupMember.QuestionnaireStatus",null)),s=D.a.toString(D.a.get(c,"data.updateQuestionnaireOnDenyByGroupMember.UUID",null)),u&&s){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})},{key:"editQuestionnaireSubmission",value:(c=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToInProgress(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,q.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=D.a.toString(D.a.get(i,"data.updateQuestionnaireStatusToInProgress.QuestionnaireStatus",null)),u=D.a.toString(D.a.get(i,"data.updateQuestionnaireStatusToInProgress.UUID",null)),c&&u){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"fetchQuestionnaireSubmissionList",value:(i=lr(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='query {\n      readQuestionnaireSubmission(UserID: "'.concat(t,'", PageType: "').concat(n,'") {\n        ID\n        UUID\n        QuestionnaireStatus\n        QuestionnaireName\n        Created\n        ProductName\n        ReleaseDate\n        BusinessOwnerApproverName\n        SubmitterName\n        SecurityArchitectApprover {\n          FirstName\n          Surname\n          ID\n        }\n        CisoApprovalStatus\n        BusinessOwnerApprovalStatus\n      }\n    }'),e.next=3,q.request({query:r});case 3:if(o=e.sent,a=D.a.get(o,"data.readQuestionnaireSubmission",[]),Array.isArray(a)){e.next=7;break}throw"error";case 7:return e.abrupt("return",a.map((function(e){var t={};return t.id=D.a.get(e,"ID",""),t.uuid=D.a.get(e,"UUID",""),t.status=D.a.get(e,"QuestionnaireStatus",""),t.productName=D.a.get(e,"ProductName",""),t.questionnaireName=D.a.get(e,"QuestionnaireName",""),t.created=D.a.get(e,"Created",""),t.releaseDate=D.a.get(e,"ReleaseDate",""),t.businessOwner=D.a.get(e,"BusinessOwnerApproverName",""),t.submitterName=D.a.get(e,"SubmitterName",""),t.SecurityArchitectApprover=D.a.toString(D.a.get(e,"SecurityArchitectApprover.FirstName","")+" "+D.a.get(e,"SecurityArchitectApprover.Surname","")),t.SecurityArchitectApproverID=D.a.get(e,"SecurityArchitectApprover.ID",""),t.CisoApprovalStatus=D.a.get(e,"CisoApprovalStatus",""),t.BusinessOwnerApprovalStatus=D.a.get(e,"BusinessOwnerApprovalStatus",""),t[""],t})));case 8:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)})},{key:"approveQuestionnaireSubmissionAsBusinessOwner",value:(a=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToApproved(ID: "'.concat(r,'", SecureToken: "').concat(a,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,q.request({query:i,csrfToken:o});case 4:if(c=e.sent,u=D.a.toString(D.a.get(c,"data.updateQuestionnaireStatusToApproved.QuestionnaireStatus",null)),s=D.a.toString(D.a.get(c,"data.updateQuestionnaireStatusToApproved.UUID",null)),u&&s){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"denyQuestionnaireSubmissionAsBusinessOwner",value:(o=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToDenied(ID: "'.concat(r,'", SecureToken: "').concat(a,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,q.request({query:i,csrfToken:o});case 4:if(c=e.sent,u=D.a.toString(D.a.get(c,"data.updateQuestionnaireStatusToDenied.QuestionnaireStatus",null)),s=D.a.toString(D.a.get(c,"data.updateQuestionnaireStatusToDenied.UUID",null)),u&&s){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}],n&&fr(t.prototype,n),r&&fr(t,r),e}();function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(n),!0).forEach((function(t){br(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var hr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"transformFromFullQuestionToData",value:function(e){var t={isCurrent:e.isCurrent,hasAnswer:e.hasAnswer,isApplicable:e.isApplicable,answerType:e.type};return"input"===e.type&&Array.isArray(e.inputs)&&(t.inputs=e.inputs.map((function(e){var t=e.data;return t&&D.a.isString(t)&&(t=t.trim()),{id:e.id,data:t}}))),"action"===e.type&&Array.isArray(e.actions)&&(t.actions=e.actions.map((function(e){return{id:e.id,isChose:e.isChose}}))),t}},{key:"existsUnansweredQuestion",value:function(e){var t=!1;return e.forEach((function(e){var n=yr({},e),r=n.hasAnswer,o=n.isApplicable;!r&&o&&(t=!0)})),t}},{key:"existsIncompleteTaskSubmission",value:function(e){var t=!1;return e.forEach((function(e){"in_progress"!==e.status&&"start"!==e.status&&"waiting_for_approval"!==e.status&&"denied"!==e.status||(t=!0)})),t}},{key:"getDataUpdateIntent",value:function(e){var t=yr({},e),n=t.answeredQuestion,r=t.questions,o=r.findIndex((function(e){return e.id===n.id})),a=o===r.length-1,i={currentIndex:o,nonApplicableIndexes:[],targetIndex:0,complete:!1,terminate:!1,result:""};if("input"===n.type)return a?i.complete=!0:i.targetIndex=i.currentIndex+1,i;if("action"===n.type){if(!n.actions)throw new Error("This question does not have any action!");var c=n.actions.find((function(e){return e.isChose}));if(!c)throw new Error("This question does not have any chosen action!");if("finish"===c.type){for(var u=i.currentIndex+1;u<r.length;u++)i.nonApplicableIndexes.push(u);i.result=c.result||"",i.complete=!0}if("message"===c.type&&(i.terminate=!0),"continue"!==c.type||a||(i.targetIndex=i.currentIndex+1),"goto"===c.type){var s=c.goto;if(i.targetIndex=r.findIndex((function(e){return e.id===s})),i.targetIndex<=i.currentIndex)throw new Error("The next question is not set correctly!");if(i.targetIndex-i.currentIndex>1)for(var l=i.currentIndex+1;l<i.targetIndex;)i.nonApplicableIndexes.push(l),l++}return a&&(i.complete=!0),i}throw new Error("Wrong question type!")}}],(n=null)&&dr(t.prototype,n),r&&dr(t,r),e}(),vr=n(181),Or=n.n(vr);function Sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var gr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONOArray",value:function(t){return Y()(t).map((function(t){var n=e.parseFromJSONObject(w()(t,"SecurityComponent"));return n.productAspect=T()(w()(t,"ProductAspect","")),n}))}},{key:"parseFromJSONObject",value:function(e){return{id:T()(w()(e,"ID","")),name:T()(w()(e,"Name","")),description:T()(w()(e,"Description")),controls:(w()(e,"Controls")||[]).map((function(e){return{id:T()(w()(e,"ID","")),name:T()(w()(e,"Name","")),description:T()(w()(e,"Description","")),implementationGuidance:T()(w()(e,"ImplementationGuidance",""))}}))}}},{key:"parseCVAFromJSONObject",value:function(e){return e.map((function(e){return{id:T()(w()(e,"id","")),name:T()(w()(e,"name","")),productAspect:T()(w()(e,"productAspect","")),controls:(w()(e,"controls")||[]).map((function(e){return{id:T()(w()(e,"id","")),name:T()(w()(e,"name","")),selectedOption:T()(w()(e,"selectedOption","")),description:T()(w()(e,"description","")),implementationGuidance:T()(w()(e,"implementationGuidance","")),implementationEvidence:T()(w()(e,"implementationEvidence","")),implementationEvidenceUserInput:T()(w()(e,"implementationEvidenceUserInput",""))}})),jiraTicketLink:T()(w()(e,"jiraTicketLink",""))}}))}}],(n=null)&&Sr(t.prototype,n),r&&Sr(t,r),e}();function Er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var wr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONArray",value:function(t){return Y()(t).map((function(t){return e.parseFromJSONObject(t)}))}},{key:"parseFromJSONObject",value:function(e){return{id:T()(w()(e,"ID")),jiraKey:T()(w()(e,"JiraKey")),link:T()(w()(e,"TicketLink"))}}}],(n=null)&&Er(t.prototype,n),r&&Er(t,r),e}();function kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(n),!0).forEach((function(t){Ar(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jr(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Pr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){jr(a,r,o,i,c,"next",e)}function c(e){jr(a,r,o,i,c,"throw",e)}i(void 0)}))}}function _r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ir=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a,i,c,u,s,l,f,p;return t=e,n=null,r=[{key:"fetchTaskSubmission",value:(p=Pr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tr({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    TaskName\n    TaskType\n    Status\n    Result\n    LockAnswersWhenComplete\n    QuestionnaireSubmission {\n      ID\n      UUID\n      QuestionnaireStatus\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    Submitter {\n      ID\n      Email\n      FirstName\n      Surname\n      IsSA\n      IsCISO\n    }\n    QuestionnaireData\n    AnswerData\n    SelectedComponents {\n      ID\n      ProductAspect\n      SecurityComponent {\n        ID\n        Name\n        Description\n        Controls {\n          ID\n          Name\n          Description\n          ImplementationGuidance\n        }\n      }\n    }\n    JiraTickets {\n      ID\n      JiraKey\n      TicketLink\n    }\n    IsTaskApprovalRequired\n    IsCurrentUserAnApprover\n    RiskResultData\n    ComponentTarget\n    ProductAspects\n    HideWeightsAndScore\n  }\n}'),e.next=4,q.request({query:a});case 4:if(i=e.sent,c=w()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw F;case 8:return u={id:T()(w()(c,"ID","")),uuid:T()(w()(c,"UUID","")),taskName:T()(w()(c,"TaskName","")),taskType:T()(w()(c,"TaskType","")),status:T()(w()(c,"Status","")),result:T()(w()(c,"Result","")),submitter:ar.parseUserFromJSON(w()(c,"Submitter")),lockWhenComplete:Boolean(w()(c,"LockAnswersWhenComplete",!1)),questionnaireSubmissionUUID:T()(w()(c,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionID:T()(w()(c,"QuestionnaireSubmission.ID","")),questionnaireSubmissionStatus:T()(w()(c,"QuestionnaireSubmission.QuestionnaireStatus","")),questions:J.parseQuestionsFromJSON({schemaJSON:T()(w()(c,"QuestionnaireData","")),answersJSON:T()(w()(c,"AnswerData",""))}),selectedComponents:gr.parseFromJSONOArray(w()(c,"SelectedComponents",[])),jiraTickets:wr.parseFromJSONArray(w()(c,"JiraTickets",[])),isCurrentUserAnApprover:"true"===w()(c,"IsCurrentUserAnApprover","false"),isTaskApprovalRequired:"true"===w()(c,"IsTaskApprovalRequired",!1),riskResults:_.has(c,"RiskResultData")?JSON.parse(w()(c,"RiskResultData","[]")):"[]",productAspects:_.has(c,"ProductAspects")?JSON.parse(w()(c,"ProductAspects",[])):[],componentTarget:T()(w()(c,"ComponentTarget","")),hideWeightsAndScore:"true"===_.get(c,"HideWeightsAndScore","false"),siblingSubmissions:z.parseAlltaskSubmissionforQuestionnaire(c)},e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)})},{key:"batchUpdateTaskSubmissionData",value:(f=Pr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s,l,f,p,m,y,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Tr({},t),r=n.uuid,o=n.questionIDList,a=n.answerDataList,i=n.csrfToken,c=n.secureToken,o.length===a.length){e.next=3;break}throw F;case 3:for(u=[],s=0;s<o.length;s++)l=o[s],f=a[s],p=window.btoa(unescape(encodeURIComponent(JSON.stringify(f)))),m="\nupdateQuestion".concat(l,': updateTaskSubmission(\n  UUID: "').concat(r,'",\n  QuestionID: "').concat(l,'",\n  AnswerData: "').concat(p,'",\n  SecureToken: "').concat(c||"",'"\n) {\n  UUID\n  Status\n}'),u.push(m);return y="\nmutation {\n  ".concat(u.join("\n"),"\n}\n"),e.next=8,q.request({query:y,csrfToken:i});case 8:if(b=e.sent,w()(b,"data",null)){e.next=12;break}throw F;case 12:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)})},{key:"completeTaskSubmission",value:(l=Pr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tr({},t),r=n.uuid,o=n.result,a=n.csrfToken,i=n.secureToken,c='\nmutation {\n completeTaskSubmission(UUID: "'.concat(r,'", Result: "').concat(o,'", SecureToken: "').concat(i||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,q.request({query:c,csrfToken:a});case 4:if(u=e.sent,w()(u,"data.completeTaskSubmission.UUID",null)){e.next=7;break}throw F;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"editTaskSubmission",value:(s=Pr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tr({},t),r=n.uuid,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n editTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,q.request({query:i,csrfToken:o});case 4:if(c=e.sent,w()(c,"data.editTaskSubmission.UUID",null)){e.next=7;break}throw F;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"fetchStandaloneTask",value:(u=Pr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tr({},t),r=n.taskId,o='\nquery {\n  readTask(ID: "'.concat(r,'") {\n    ID\n    Name\n    TaskType\n    QuestionsDataJSON\n  }\n}'),e.next=4,q.request({query:o});case 4:if(a=e.sent,i=w()(a,"data.readTask",null)){e.next=8;break}throw F;case 8:return c=z.parseFromJSONObject(i),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})},{key:"updateTaskSubmissionWithSelectedComponents",value:(c=Pr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tr({},t),r=n.uuid,o=n.csrfToken,a=n.components,i=n.jiraKey,c='\nmutation {\n updateTaskSubmissionWithSelectedComponents(\n UUID: "'.concat(r,'",\n Components: "').concat(window.btoa(JSON.stringify(a)),'",\n JiraKey: "').concat(i,'"\n ) {\n   UUID\n   Status\n }\n}'),e.next=4,q.request({query:c,csrfToken:o});case 4:if(u=e.sent,w()(u,"data.updateTaskSubmissionWithSelectedComponents.UUID",null)){e.next=7;break}throw F;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"approveTaskSubmission",value:(i=Pr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tr({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n updateTaskStatusToApproved(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,q.request({query:a,csrfToken:o});case 4:if(i=e.sent,(c=T()(w()(i,"data.updateTaskStatusToApproved.Status",null)))&&r){e.next=8;break}throw F;case 8:return e.abrupt("return",{status:c});case 9:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"denyTaskSubmission",value:(a=Pr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tr({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n updateTaskStatusToDenied(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,q.request({query:a,csrfToken:o});case 4:if(i=e.sent,(c=T()(w()(i,"data.updateTaskStatusToDenied.Status",null)))&&r){e.next=8;break}throw F;case 8:return e.abrupt("return",{status:c});case 9:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"fetchTaskSubmissionList",value:(o=Pr(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='query {\n      readTaskSubmission(UserID: "'.concat(t,'", PageType: "').concat(n,'") {\n        ID\n        UUID\n        Created\n        TaskName\n        QuestionnaireSubmission {\n          ProductName\n        }\n        Submitter {\n          FirstName\n          Surname\n        }\n        Status\n      }\n    }'),e.next=3,q.request({query:r});case 3:if(o=e.sent,a=w()(o,"data.readTaskSubmission",[]),Array.isArray(a)){e.next=7;break}throw"error";case 7:return e.abrupt("return",a.map((function(e){var t={};return t.id=w()(e,"ID",""),t.uuid=w()(e,"UUID",""),t.created=w()(e,"Created",""),t.taskName=w()(e,"TaskName",""),t.productName=w()(e,"QuestionnaireSubmission.ProductName",""),t.submitterName=T()(w()(e,"Submitter.FirstName",""))+" "+T()(w()(e,"Submitter.Surname","")),t.status=w()(e,"Status",""),t})));case 8:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})}],n&&_r(t.prototype,n),r&&_r(t,r),e}();function Cr(e){return function(e){if(Array.isArray(e))return Dr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Dr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rr(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Nr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Rr(a,r,o,i,c,"next",e)}function c(e){Rr(a,r,o,i,c,"throw",e)}i(void 0)}))}}function xr(e,t){return void 0===t&&(t=""),function(){var n=Nr(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r({type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST});case 2:return n.prev=2,n.next=5,pr.fetchSubmissionData(e,t);case 5:o=n.sent,r((a=o,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS,payload:a})),n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(2),n.next=13,r({type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE,error:n.t0});case 13:alert(n.t0);case 14:case"end":return n.stop()}var a}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()}function Ur(e){return function(){var t=Nr(regeneratorRuntime.mark((function t(n,r){var o,a,i,c,u,s,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:return i=hr.getDataUpdateIntent({answeredQuestion:e,questions:a.questions}),c=i.currentIndex,u=i.targetIndex,s=i.nonApplicableIndexes,f=i.complete,s.length>0&&n({type:l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE,nonApplicableIndexes:s}),u>c&&n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:u}),t.next=9,Lr(r(),D.a.uniq([c].concat(Cr(s),[u])));case 9:f&&N.redirectToQuestionnaireReview(a.submissionUUID);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function Lr(e,t){return Qr.apply(this,arguments)}function Qr(){return(Qr=Nr(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.questionnaireState.submissionState.submission){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,_e.getCSRFToken();case 5:return o=e.sent,e.prev=6,e.next=9,pr.batchUpdateSubmissionData({submissionID:r.submissionID,questionIDList:n.map((function(e){return r.questions[e].id})),answerDataList:n.map((function(e){return hr.transformFromFullQuestionToData(r.questions[e])})),csrfToken:o});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),alert(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[6,11]])})))).apply(this,arguments)}function Mr(e){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Br(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hr(e,t){return(Hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wr(e);if(t){var o=Wr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jr(this,n)}}function Jr(e,t){return!t||"object"!==Mr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wr(e){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Yr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hr(e,t)}(i,e);var t,n,r,a=Kr(i);function i(){return Br(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(n),!0).forEach((function(t){Fr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.title,n=e.subtitle,r=e.showLogoutButton,a=e.username,i=e.logopath;return o.a.createElement("header",{className:"Header"},o.a.createElement("div",{className:"top-banner"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:i,className:"logo"}))),o.a.createElement("div",{className:"logout-layout"},r&&o.a.createElement("div",{className:"logout-block"},o.a.createElement("span",{className:"username"},a),o.a.createElement(Fe,null))),o.a.createElement("h1",null,t),o.a.createElement("h2",null,n))}}])&&Vr(t.prototype,n),r&&Vr(t,r),i}(r.Component);Yr.defaultProps={title:"",subtitle:"",username:"",logopath:"",showLogoutButton:!0};var Gr=Yr;function zr(e){return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(n),!0).forEach((function(t){Xr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function to(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function no(e,t){return(no=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ro(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ao(e);if(t){var o=ao(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oo(this,n)}}function oo(e,t){return!t||"object"!==zr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ao(e){return(ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var io=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&no(e,t)}(i,e);var t,n,r,a=ro(i);function i(){return eo(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=Zr({},this.props),t=e.questionnaireID;(0,e.dispatchLoadQuestionnaireAction)(t)}},{key:"render",value:function(){var e=Zr({},this.props.startState),t=e.title,n=e.siteConfig,r=e.keyInformation,a=e.user,i=Zr({},this.props),c=i.questionnaireID,u=i.dispatchCreateInProgressSubmissionAction;return a?o.a.createElement("div",{className:"StartContainer"},o.a.createElement(Gr,{title:t,subtitle:n.siteTitle,username:a.name,logopath:n.logoPath}),o.a.createElement(rr,{keyInformation:r,user:a,onStartButtonClick:function(){u(c)}}),o.a.createElement($t,{footerCopyrightText:n.footerCopyrightText})):null}}])&&to(t.prototype,n),r&&to(t,r),i}(r.Component),co=Object(c.b)((function(e){return{startState:e.questionnaireState.startState}}),(function(e,t){return{dispatchLoadQuestionnaireAction:function(t){e(function(e){return function(){var t=Nr(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pr.fetchStartData(e);case 3:r=t.sent,n((o=r,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE,payload:o})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0);case 10:case"end":return t.stop()}var o}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))},dispatchCreateInProgressSubmissionAction:function(t){e(function(e){return function(){var t=Nr(regeneratorRuntime.mark((function t(n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return r=t.sent,t.next=6,pr.createInProgressSubmission({questionnaireID:e,csrfToken:r});case 6:o=t.sent,N.redirectToQuestionnaireEditing(o),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(io),uo=n(58);function so(e){return(so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lo(Object(n),!0).forEach((function(t){po(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function po(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bo(e,t){return(bo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ho(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oo(e);if(t){var o=Oo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vo(this,n)}}function vo(e,t){return!t||"object"!==so(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oo(e){return(Oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var So=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bo(e,t)}(i,e);var t,n,r,a=ho(i);function i(){return mo(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=fo({},this.props),t=e.question,n=e.onItemClick,r=e.index;return o.a.createElement("div",{className:"LeftBarItem"},this.renderIcon(t),o.a.createElement("button",{className:"btn",disabled:!t.isApplicable,onClick:function(e){n(t)}},r+1,". ",t.title))}},{key:"renderIcon",value:function(e){var t=fo({},e),n=t.isCurrent,r=t.hasAnswer,a=t.isApplicable;return n?o.a.createElement("img",{src:Ve.a}):a?r&&a?o.a.createElement("i",{className:"fas fa-check-circle success"}):o.a.createElement("i",{className:"fas fa-check-circle pending"}):o.a.createElement("i",{className:"fas fa-question-circle not-applicable"})}}])&&yo(t.prototype,n),r&&yo(t,r),i}(r.Component);function go(e){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function To(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ao(e,t){return(Ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_o(e);if(t){var o=_o(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Po(this,n)}}function Po(e,t){return!t||"object"!==go(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _o(e){return(_o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Io=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ao(e,t)}(i,e);var t,n,r,a=jo(i);function i(){return ko(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach((function(t){wo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.questions,n=e.onItemClick;return o.a.createElement("div",{className:"LeftBar"},o.a.createElement("div",{className:"title"},"QUESTIONS:"),o.a.createElement("div",{className:"items"},t.map((function(e,t){return o.a.createElement(So,{question:e,onItemClick:n,key:e.id,index:t})}))))}}])&&To(t.prototype,n),r&&To(t,r),i}(r.Component);function Co(e){return(Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Do(){return(Do=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ro(e){return function(e){if(Array.isArray(e))return No(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return No(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return No(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function No(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lo(e,t){return(Lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qo(e);if(t){var o=qo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mo(this,n)}}function Mo(e,t){return!t||"object"!==Co(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qo(e){return(qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lo(e,t)}(i,e);var t,n,r,a=Qo(i);function i(){return xo(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(Ln,Do({},this.props,{classes:["DarkButton"].concat(Ro(this.props.classes))}))}}])&&Uo(t.prototype,n),r&&Uo(t,r),i}(r.Component);Fo.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Bo=Fo,Vo=n(2),Ho=n.n(Vo),Ko=n(414),Jo=n.n(Ko);n(655);function Wo(e){return(Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yo(){return(Yo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Go(Object(n),!0).forEach((function(t){$o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ea(e,t){return(ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ta(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ra(e);if(t){var o=ra(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return na(this,n)}}function na(e,t){return!t||"object"!==Wo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ra(e){return(ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ea(e,t)}(i,e);var t,n,r,a=ta(i);function i(){return Zo(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=zo({},this.props),t=e.question,n=e.index;return o.a.createElement("div",{className:"QuestionForm"},o.a.createElement("div",{className:"heading"},n+1,". ",t.heading),o.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:t.description}}),this.renderActions(t),this.renderInputsForm(t))}},{key:"renderActions",value:function(e){var t=zo({},this.props).handleActionClick;if("action"===e.type){var n=D.a.get(e,"actions",null);if(!n)return null;var r=null,a=n.find((function(e){return e.isChose}));return a&&a.message&&(r=o.a.createElement("div",{className:"message"},o.a.createElement("b",null,"Message:"),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.message}}))),o.a.createElement("div",null,o.a.createElement("div",{className:"actions"},n.map((function(e,n){switch(n){case 0:return o.a.createElement(Bo,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return o.a.createElement(Gn,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}}))),r)}}},{key:"renderInputsForm",value:function(e){var t=zo({},this.props).handleFormSubmit;if("input"===e.type){var n=D.a.get(e,"inputs",null);if(!n)return null;var r={};return n.forEach((function(e){r[e.id]=e.data||"","radio"==e.type&&null===e.data&&e.defaultRadioButtonValue&&(r[e.id]=e.defaultRadioButtonValue),"checkbox"==e.type&&null===e.data&&e.defaultCheckboxValue&&(r[e.id]=e.defaultCheckboxValue)})),o.a.createElement(uo.c,{initialValues:r,validate:function(e){var t={};return n.forEach((function(n){var r=zo({},n),o=r.id,a=r.type,i=r.required,c=r.label,u=r.minLength,s=D.a.get(e,o,null);if(i&&(!s||"[]"===s))return t[o]="- Please enter a value for ".concat(c),void("radio"!==a&&"checkbox"!==a||(t[o]="- Please select an option for ".concat(c)));u>0&&s&&s.length<u?t[o]="- Please enter a value with at least ".concat(u," characters for ").concat(c):"email"!==a||/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(s)?("date"!==a&&"release date"!==a||Ho()(s,"YYYY-MM-DD").isValid()||(t[o]="- Invalid date"),"product aspects"!==a||!s||/^[0-9a-zA-Z\s\n]+$/i.test(s)||(t[o]="- Please enter alpha-numeric characters only.")):t[o]="- Invalid email address"})),t},onSubmit:function(e,n){t(n,e)}},(function(e){e.isSubmitting;var t=e.errors,r=e.touched,a=e.setFieldValue,i=e.values,c=[];return D.a.keys(t).filter((function(e){return Boolean(r[e])})).forEach((function(e){c[e]=t[e]})),o.a.createElement(uo.b,null,o.a.createElement("table",null,o.a.createElement("tbody",null,n.map((function(e){var t=zo({},e),n=t.id,r=t.type,u=t.label,s=t.placeholder,l=t.options,f=(t.defaultRadioButtonValue,t.defaultCheckboxValue,t.maxLength),p=Boolean(D.a.get(c,n,null)),m=[];return p&&m.push("error"),["text","email","url"].includes(r)?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,u)),o.a.createElement("td",null,o.a.createElement(uo.a,{type:r,name:n,className:m.join(" "),placeholder:s,maxlength:f>0?f:4096}),p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"radio"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,u)),o.a.createElement("td",null,l.length&&l.map((function(e,t){var r=D.a.toString(e.value)===D.a.toString(i[n]);return o.a.createElement("div",{key:t},o.a.createElement("label",null,o.a.createElement(uo.a,{type:"radio",name:n,value:e.value,className:"radio",checked:r}),e.label))}))),o.a.createElement("td",null,p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"checkbox"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,u)),o.a.createElement("td",null,l.length&&l.map((function(e,t){var r=i[n]?JSON.parse(i[n]):[],c=r.includes(e.value);return o.a.createElement("div",{key:t},o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",name:n,className:"checkbox",checked:c,onChange:function(t){t.target.checked?r.push(e.value):r.splice(r.indexOf(e.value),1),a(n,JSON.stringify(r))}}),e.label))}))),o.a.createElement("td",null,p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"date"===r||"release date"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,u)),o.a.createElement("td",null,o.a.createElement(uo.a,{name:n,render:function(e){var t=null,r=e.field.value||null;return r&&r.trim().length>0&&(t=Ho()(r).toDate()),o.a.createElement(Jo.a,{dateFormat:"dd-MM-yyyy",className:m.join(" "),selected:t,onChange:function(e){if(e){var t=Ho()(e).format("YYYY-MM-DD");a(n,t)}else a(n,null)},placeholderText:s,dropdownMode:"scroll",withPortal:!0})}}),p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"textarea"===r||"product aspects"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,u)),o.a.createElement("td",null,o.a.createElement(uo.a,{name:n},(function(e){var t=e.field;return o.a.createElement("textarea",Yo({},t,{className:m.join(" "),placeholder:s}))})),p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):null})),o.a.createElement("tr",null,o.a.createElement("td",null),o.a.createElement("td",null,o.a.createElement(Bo,{title:"Continue"}))),o.a.createElement("tr",null,o.a.createElement("td",null),o.a.createElement("td",{className:"text-danger"},c&&D.a.keys(c).length>0&&o.a.createElement("div",null,"Whoops!",D.a.keys(c).map((function(e){return o.a.createElement("div",{className:"text-error",key:e},c[e])}))))))))}))}}}])&&Xo(t.prototype,n),r&&Xo(t,r),i}(r.Component);function aa(e){return(aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ia(Object(n),!0).forEach((function(t){ua(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ia(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ua(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function la(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fa(e,t){return(fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ya(e);if(t){var o=ya(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ma(this,n)}}function ma(e,t){return!t||"object"!==aa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ya(e){return(ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ba=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fa(e,t)}(i,e);var t,n,r,a=pa(i);function i(){return sa(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"handleFormSubmit",value:function(e,t){var n=ca({},this.props),r=n.questions,o=n.saveAnsweredQuestion,a=r.find((function(e){return!0===e.isCurrent}));if(a){var i=ca({},a);D.a.forIn(t,(function(e,t){var n=i.inputs.findIndex((function(e){return e.id===t}));n>=0&&D.a.set(i,"inputs.".concat(n,".data"),e)})),i.hasAnswer=!0,i.isApplicable=!0,o(i)}}},{key:"handleActionClick",value:function(e){var t=ca({},this.props),n=t.questions,r=t.saveAnsweredQuestion,o=n.find((function(e){return!0===e.isCurrent}));if(o){var a=ca({},o);a.actions=a.actions.map((function(t){return t.isChose=t.id===e.id,t})),a.hasAnswer=!0,a.isApplicable=!0,r(a)}}},{key:"render",value:function(){var e=ca({},this.props),t=e.questions,n=e.onLeftBarItemClick,r=t.find((function(e){return!0===e.isCurrent})),a=t.findIndex((function(e){return e.id===r.id}));return o.a.createElement("div",{className:"Questionnaire mx-1"},o.a.createElement("div",{className:"major"},o.a.createElement(Io,{questions:t,onItemClick:n}),r&&o.a.createElement(oa,{index:a,key:r.id,question:r,handleFormSubmit:this.handleFormSubmit.bind(this),handleActionClick:this.handleActionClick.bind(this)})))}}])&&la(t.prototype,n),r&&la(t,r),i}(r.Component);function da(e){return(da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ha(Object(n),!0).forEach((function(t){Oa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ha(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ea(e,t){return(Ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ta(e);if(t){var o=Ta(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ka(this,n)}}function ka(e,t){return!t||"object"!==da(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ta(e){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Aa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ea(e,t)}(i,e);var t,n,r,a=wa(i);function i(){return Sa(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=va({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=va({},this.props),t=e.dispatchSaveAnsweredQuestionAction,n=e.dispatchMoveToPreviousQuestionAction,r=e.loadingState,a=va({},this.props.submissionState),i=a.title,c=a.siteConfig,u=a.user,s=a.submission;return u&&s&&c?r["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"]?null:"in_progress"!==s.status?o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(Gr,{title:i,subtitle:c.siteTitle,username:u.name,logopath:c.logoPath}),o.a.createElement("div",{className:"questionnaire-message"},o.a.createElement("h3",null,"The questionnaire is not in progress...")),o.a.createElement($t,{footerCopyrightText:c.footerCopyrightText})):o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(Gr,{title:i,subtitle:c.siteTitle,logopath:c.logoPath,username:u.name}),o.a.createElement(ba,{questions:s.questions,saveAnsweredQuestion:function(e){t(e)},onLeftBarItemClick:function(e){n(e)}}),o.a.createElement($t,{footerCopyrightText:c.footerCopyrightText})):null}}])&&ga(t.prototype,n),r&&ga(t,r),i}(r.Component),ja=Object(c.b)((function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadSubmissionAction:function(t){e(xr(t))},dispatchSaveAnsweredQuestionAction:function(t){var n;e((n=t,function(){var e=Nr(regeneratorRuntime.mark((function e(t,r){var o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER,payload:n}),o=r(),a=D.a.get(o,"questionnaireState.submissionState.submission.submissionID",null)){e.next=5;break}throw new Error("Something is wrong, please reload the page");case 5:return e.next=7,_e.getCSRFToken();case 7:return i=e.sent,c=n.id,u=hr.transformFromFullQuestionToData(n),e.prev=10,e.next=13,pr.updateSubmissionData({submissionID:a,questionID:c,csrfToken:i,answerData:u});case 13:t(Ur(n)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),alert(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(t,n){return e.apply(this,arguments)}}()))},dispatchMoveToPreviousQuestionAction:function(t){e(function(e){return function(){var t=Nr(regeneratorRuntime.mark((function t(n,r){var o,a,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:if(!((i=a.questions.findIndex((function(e){return e.isCurrent})))<0)){t.next=7;break}throw new Error("Wrong state, please reload the questionnaire");case 7:if(e.isApplicable&&e.hasAnswer){t.next=9;break}return t.abrupt("return");case 9:if(!((c=a.questions.findIndex((function(t){return t.id===e.id})))<0)){t.next=12;break}return t.abrupt("return");case 12:return n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:c}),t.next=15,Lr(r(),[i,c]);case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(Aa),Pa=n(57),_a=n.n(Pa),Ia=n(87),Ca=n.n(Ia);function Da(e){return(Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Na(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ua(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function La(e,t){return(La=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qa(e);if(t){var o=qa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ma(this,n)}}function Ma(e,t){return!t||"object"!==Da(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qa(e){return(qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&La(e,t)}(i,e);var t,n,r,a=Qa(i);function i(){return xa(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ra(Object(n),!0).forEach((function(t){Na(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ra(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).questions;return o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement("div",{className:"questions"},t.map((function(t,n,r){var a=e.renderData(t);return o.a.createElement("div",{className:"row",key:t.id},o.a.createElement("div",{className:"col"},o.a.createElement("b",null,n+1,". ",t.heading)),o.a.createElement("div",{className:"vertical-divider"}),o.a.createElement("div",{className:"col"},a))}))))}},{key:"renderData",value:function(e){if(!e.isApplicable)return o.a.createElement("div",null,"(Not applicable)");if(!e.hasAnswer)return o.a.createElement("div",null,"(Has no answer)");if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var t=function(e){var t=e.data||"";if("date"!==e.type&&"release date"!==e.type||(t=Ho()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find((function(e){return e.value===t}));n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),o=e.options.filter((function(e){return r.includes(e.value)})).map((function(e){return e.label}));t=o.join(", ")}return t};return e.inputs.length>1?o.a.createElement("div",null,e.inputs.map((function(e){var n=t(e);return o.a.createElement("div",{key:e.id},o.a.createElement("b",null,e.label)," ",o.a.createElement("span",null,"-")," ",o.a.createElement("span",null,n))}))):o.a.createElement("div",null,t(e.inputs[0]).trim())}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var n=D.a.head(e.actions.filter((function(e){return e.isChose})));return o.a.createElement("div",null,n&&o.a.createElement("div",null,n.label))}}}])&&Ua(t.prototype,n),r&&Ua(t,r),i}(r.Component);function Ba(e){return(Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ha(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ka(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ja(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wa(e,t){return(Wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ya(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=za(e);if(t){var o=za(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ga(this,n)}}function Ga(e,t){return!t||"object"!==Ba(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function za(e){return(za=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wa(e,t)}(i,e);var t,n,r,a=Ya(i);function i(){return Ka(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Va(Object(n),!0).forEach((function(t){Ha(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Va(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.submission,n=e.viewAs,r=e.secureToken,a=e.handleSubmitButtonClick,i=e.handlePDFDownloadButtonClick,c=e.handleEditAnswerButtonClick;if(!t)return null;var u=o.a.createElement("div",{className:"alert alert-success text-center"},"This questionnaire has already been submitted."),s=o.a.createElement("div",{className:"buttons"},o.a.createElement(Gn,{title:"EDIT ANSWERS",iconImage:_a.a,classes:["button"],onClick:c}),o.a.createElement(Gn,{title:"DOWNLOAD PDF",iconImage:Ca.a,classes:["button"],onClick:i}),o.a.createElement(Bo,{title:"SUBMIT QUESTIONNAIRE",classes:["button"],disabled:hr.existsUnansweredQuestion(t.questions),onClick:a})),l=o.a.createElement("div",{className:"buttons"},o.a.createElement(Gn,{title:"BACK TO SUMMARY",classes:["button"],onClick:function(){return N.redirectToQuestionnaireSummary(t.submissionUUID,r)}}));return o.a.createElement("div",{className:"Review"},"in_progress"!==t.status&&u,o.a.createElement(Fa,{questions:t.questions}),"submitter"===n&&("in_progress"===t.status||"submitted"===t.status)&&s,"submitter"!==n&&l)}}])&&Ja(t.prototype,n),r&&Ja(t,r),i}(r.Component),Za=n(192),Xa=n.n(Za),ei=n(417),ti=n.n(ei);function ni(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ri=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"toString",value:function(e){return e?"".concat(e):""}}],(n=null)&&ni(t.prototype,n),r&&ni(t,r),e}();function oi(e){return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ii(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ai(Object(n),!0).forEach((function(t){ci(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ai(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function si(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function li(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){si(a,r,o,i,c,"next",e)}function c(e){si(a,r,o,i,c,"throw",e)}i(void 0)}))}}function fi(e){return pi.apply(this,arguments)}function pi(){return(pi=li(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new FileReader;n.addEventListener("load",(function(t){e(t.target.result)})),n.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mi(e){return yi.apply(this,arguments)}function yi(){return(yi=li(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t||fallback);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.next=8,fi(r);case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"generatePDF",value:(a=li(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s,l,f,p,m,y,b,d,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ii({},t),r=n.questions,o=n.submitter,a=n.questionnaireTitle,i=n.siteConfig,c=n.result,u=n.riskResults,l=[],f={questionnaireTitle:{bold:!0,fontSize:4+(s=12),color:"#004071",alignment:"center"},siteTitle:{bold:!0,fontSize:s,color:"#004071",alignment:"center"},sectionHeading:{bold:!0,fontSize:s+2,color:"#004071"},questionHeading:{bold:!0}},p={fontSize:s},m={title:"".concat(a," - ").concat(o.name,".pdf")},y=ti.a.pdfMake.vfs,Xa.a.vfs=y,e.next=10,mi(i.pdfHeaderImageLink);case 10:return b=e.sent,l.push({image:b,width:500,margin:[0,0,0,s]}),l.push({text:a,style:"questionnaireTitle",margin:[0,0,0,s/2]}),l.push({text:i.siteTitle,style:"siteTitle",margin:[0,0,0,2*s]}),l.push({text:"Submitted by:",style:"sectionHeading",margin:[0,0,0,s]}),l.push({text:"Name: ".concat(o.name),style:"questionHeading",margin:[0,0,0,s/2]}),l.push({text:"Email: ".concat(o.email),margin:[0,0,0,2*s]}),c&&(l.push({text:"Result:",style:"sectionHeading",margin:[0,0,0,s]}),l.push({text:"".concat(c),margin:[0,0,0,2*s]})),l.push({text:"Responses",style:"sectionHeading",margin:[0,0,0,s]}),r.forEach((function(e,t){if(l.push({text:"".concat(t+1,". ").concat(e.heading),style:"questionHeading",margin:[0,0,0,s/2]}),e.isApplicable)if(e.hasAnswer){if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var n=function(e){var t=e.data||"";if("date"===e.type&&(t=Ho()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find((function(e){return e.value===t}));n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),o=e.options.filter((function(e){return r.includes(e.value)})).map((function(e){return e.label}));t=o.join(", ")}return t};return e.inputs.length>1?void e.inputs.forEach((function(e,t,r){var o=t===r.length-1;l.push({text:"".concat(e.label,": ").concat(ri.toString(n(e))),margin:[0,0,0,o?s:parseInt("".concat(s/3))]})})):void l.push({text:n(e.inputs[0]).trim(),margin:[0,0,0,s]})}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var r=D.a.head(e.actions.filter((function(e){return e.isChose})));l.push({text:r.label,margin:[0,0,0,s]})}}else l.push({text:"(Has no answer)",margin:[0,0,0,s]});else l.push({text:"(Not applicable)",margin:[0,0,0,s]})})),"object"===oi(u)&&u.length>0&&(d=[[{text:"Risk Name",bold:!0,alignment:"center"},{text:"Weights",bold:!0,alignment:"center"},{text:"Score",bold:!0,alignment:"center"},{text:"Rating",bold:!0,alignment:"center"}]],u.forEach((function(e,t){var n={text:e.rating,alignment:"center",color:"#"+e.colour,bold:!0};"Unknown"==e.rating&&(n={text:"Unknown",alignment:"center",color:"#000000",bold:!0}),d.push([{text:e.riskName},e.weights,e.score,n])})),l.push({table:{headerRows:1,widths:[237,75,75,75],body:d},width:500,margin:[0,0,0,s]})),e.next=23,mi(i.pdfFooterImageLink);case 23:return h=e.sent,l.push({image:h,width:500,margin:[0,0,0,s]}),e.prev=25,e.next=28,Xa.a.createPdf({info:m,content:l,styles:f,defaultStyle:p}).download(m.title);case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(25),alert("Unable to generate your PDF. Maybe you have a browser Ad-Block extension enabled?");case 33:case"end":return e.stop()}}),e,null,[[25,30]])}))),function(e){return a.apply(this,arguments)})},{key:"blobToDataURL",value:(o=li(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}],n&&ui(t.prototype,n),r&&ui(t,r),e}();function di(e){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hi(Object(n),!0).forEach((function(t){Oi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Si(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ei(e,t){return(Ei=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ti(e);if(t){var o=Ti(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ki(this,n)}}function ki(e,t){return!t||"object"!==di(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ti(e){return(Ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ai=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ei(e,t)}(i,e);var t,n,r,a=wi(i);function i(){return Si(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=vi({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=vi({},this.props).secureToken,t=vi({},this.props.submissionState),n=t.title,r=t.siteConfig,a=t.user,i=t.submission,c=t.isCurrentUserApprover,u=t.isCurrentUserABusinessOwnerApprover;if(!a||!r)return null;var s="others";do{if(a.id===i.submitter.id){s="submitter";break}if(c){s="approver";break}if(u){s="businessOwnerApprover";break}}while(0);return o.a.createElement("div",{className:"ReviewContainer"},o.a.createElement(Gr,{title:n,subtitle:"Review Responses",username:a.name,logopath:r.logoPath}),o.a.createElement($a,{siteTitle:r.siteTitle,viewAs:s,submission:i,secureToken:e,handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleEditAnswerButtonClick:this.handleEditAnswerButtonClick.bind(this)}),o.a.createElement($t,{footerCopyrightText:r.footerCopyrightText}))}},{key:"handleSubmitButtonClick",value:function(){this.props.dispatchSubmitQuestionnaire()}},{key:"handlePDFDownloadButtonClick",value:function(){var e=vi({},this.props.submissionState),t=e.submission,n=(e.siteTitle,e.siteConfig);t&&n&&bi.generatePDF({questions:t.questions,submitter:t.submitter,questionnaireTitle:t.questionnaireTitle,siteConfig:n})}},{key:"handleEditAnswerButtonClick",value:function(){var e=D.a.get(this.props.submissionState,"submission.submissionUUID","");e&&N.redirectToQuestionnaireEditing(e)}}])&&gi(t.prototype,n),r&&gi(t,r),i}(r.Component),ji=Object(c.b)((function(e){return{submissionState:e.questionnaireState.submissionState}}),(function(e,t){return{dispatchLoadSubmissionAction:function(t){e(xr(t))},dispatchSubmitQuestionnaire:function(){e(function(){var e=Nr(regeneratorRuntime.mark((function e(t,n){var r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n(),o=r.questionnaireState.submissionState,a=o.submission){e.next=6;break}return e.abrupt("return");case 6:if(!hr.existsUnansweredQuestion(a.questions)){e.next=9;break}return alert("There are questions not answered properly, please check your answers"),e.abrupt("return");case 9:return e.next=11,_e.getCSRFToken();case 11:return i=e.sent,e.next=14,pr.submitQuestionnaire({submissionID:a.submissionID,csrfToken:i});case 14:c=e.sent,u=c.uuid,N.redirectToQuestionnaireSummary(u),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),alert(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,n){return e.apply(this,arguments)}}())}}}))(Ai);function Pi(e){return(Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ci(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Di(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ri(e,t){return(Ri=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ni(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ui(e);if(t){var o=Ui(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xi(this,n)}}function xi(e,t){return!t||"object"!==Pi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ui(e){return(Ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Li=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ri(e,t)}(i,e);var t,n,r,a=Ni(i);function i(){return Ci(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_i(Object(n),!0).forEach((function(t){Ii(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.riskResults,n=e.hideWeightsAndScore;return t&&0!==t.length?o.a.createElement("div",{className:"risks"},o.a.createElement("h3",null,"Risk Result"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"risk_table_header"},o.a.createElement("th",null,"Risk Name"),!n&&o.a.createElement("th",null,"Weights"),!n&&o.a.createElement("th",null,"Score"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,t.map((function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.riskName),!n&&o.a.createElement("td",null,e.weights),!n&&o.a.createElement("td",null,e.score),o.a.createElement("td",{style:{color:"#"+e.colour}},e.rating))})))))):null}}])&&Di(t.prototype,n),r&&Di(t,r),i}(r.Component);n(716);function Qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isSRATaskFinalised",value:function(e){return e.filter((function(e){return"security risk assessment"===e.taskType&&"complete"===e.status})).length>0}},{key:"isSiblingTaskPending",value:function(e){var t=["start","in_progress","waiting_for_approval"];return e.filter((function(e){return"security risk assessment"!==e.taskType&&"control validation audit"==e.taskType&&t.includes(e.status)})).length>0}},{key:"getSraIsFinalisedAlert",value:function(){return o.a.createElement("div",{className:"alert alert-success text-center"},"The security risk assessment is finalised.  The tasks can no longer be edited and will be included in the Certification and Accreditation Report. If you need to change your task answers, you will need to submit a new questionnaire.")}}],(n=null)&&Qi(t.prototype,n),r&&Qi(t,r),e}();function qi(e){return(qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vi(e,t){return(Vi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ji(e);if(t){var o=Ji(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ki(this,n)}}function Ki(e,t){return!t||"object"!==qi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ji(e){return(Ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vi(e,t)}(i,e);var t,n,r,a=Hi(i);function i(){return Fi(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"The submission you are attempting to view does not exist or has expired. Please follow ",o.a.createElement("a",{href:"/"},"this link")," to the homepage where you can create a new submission."))}}])&&Bi(t.prototype,n),r&&Bi(t,r),i}(r.Component);function Yi(e){return(Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gi(Object(n),!0).forEach((function(t){$i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xi(e,t){return(Xi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ec(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nc(e);if(t){var o=nc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tc(this,n)}}function tc(e,t){return!t||"object"!==Yi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nc(e){return(nc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rc=function(e){if(e)return e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")},oc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xi(e,t)}(i,e);var t,n,r,a=ec(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={skipBoAndCisoApproval:!1},t}return t=i,(n=[{key:"unfinishedTaskSubmissionMessage",value:function(){var e="",t=this.props.submission.taskSubmissions.filter((function(e){return"risk questionnaire"===e.taskType}));if(t.length>0){var n=t[0],r="complete"===n.status||"approved"==n.status;n&&!r&&(e='Please complete "'.concat(n.taskName,'" to see the Security Risk Assessment'))}return e}},{key:"hasSelectableComponents",value:function(e){var t=e.taskSubmissions,n=!1;return t.forEach((function(e,t){"selection"===e.taskType&&(n=!0)})),n}},{key:"render",value:function(){var e=zi({},this.props),t=e.submission,n=e.viewAs,r=e.user;return t?"in_progress"===t.status&&"submitter"===n?o.a.createElement("div",{className:"Summary"},o.a.createElement("h3",null,"Questionnaire Submission has not been completed...")):"expired"===t.status?o.a.createElement(Wi,null):o.a.createElement("div",{className:"Summary"},this.renderSubmitterInfo(t),this.renderTasks(t),this.renderApprovals(t),o.a.createElement(Li,{riskResults:t.riskResults,hideWeightsAndScore:t.hideWeightsAndScore}),this.renderSkipCheckbox(t,n,r),this.renderButtons(t)):null}},{key:"renderSubmitterInfo",value:function(e){var t=e.submitter;return o.a.createElement("div",{className:"request-info"},o.a.createElement("h3",null,"Request Information"),o.a.createElement("div",null,o.a.createElement("b",null,"Product Name:")," ",e.productName," "),o.a.createElement("div",null,o.a.createElement("b",null,"Submitted by:")," ",t.name),o.a.createElement("div",null,o.a.createElement("b",null,"Email:")," ",t.email),o.a.createElement("div",null,o.a.createElement("b",null,"Status:")," ",rc(e.status)))}},{key:"renderTasks",value:function(e){var t=this,n=e.taskSubmissions,r=Mi.isSRATaskFinalised(e.taskSubmissions);if(0===n.length)return null;var a=this.unfinishedTaskSubmissionMessage()?o.a.createElement("div",{className:"alert alert-warning"},this.unfinishedTaskSubmissionMessage()):null;return o.a.createElement("div",{className:"tasks"},o.a.createElement("h3",null,"Tasks"),a,r?Mi.getSraIsFinalisedAlert():null,n.map((function(e){var n=e.uuid,r=e.taskName,i=e.taskType,c=e.status,u=e.approver,s=r+" ("+rc(c)+")";"start"===c&&(s=r+" (Please complete me)"),"approved"!==c&&"denied"!==c||!u.name||(s=r+" ("+rc(c)+" by "+u.name+")");var l=zi({},t.props).token,f=N.redirectToTaskSubmission(n,l,"urlString");"selection"===i&&(f=N.redirectToComponentSelectionSubmission(n,l,"urlString")),"security risk assessment"===i&&(f=N.redirectToSecurityRiskAssessment(n,l,"urlString")),"control validation audit"===i&&(f=N.redirectToControlValidationAudit(n,l,"urlString"));var p=o.a.createElement(oe.a,{to:f},s);return o.a.createElement("div",{key:n},a&&"security risk assessment"===i?null:p)})))}},{key:"renderButtons",value:function(e){var t=this,n=zi({},this.props),r=n.user,a=n.viewAs,i=n.token,c=n.handleSubmitButtonClick,u=n.handlePDFDownloadButtonClick,s=n.handleApproveButtonClick,l=(n.handleOptionalApproveButtonClick,n.handleAssignToMeButtonClick),f=n.handleDenyButtonClick,p=n.handleEditButtonClick,m=o.a.createElement(Gn,{title:"DOWNLOAD PDF",iconImage:Ca.a,classes:["button"],onClick:u}),y=r?o.a.createElement(Gn,{title:"VIEW ANSWERS",classes:["button"],onClick:function(){return N.redirectToQuestionnaireReview(e.submissionUUID,i)}}):"";if("submitter"===a){var b=o.a.createElement(Gn,{title:"EDIT ANSWERS",iconImage:_a.a,classes:["button"],onClick:p}),d=o.a.createElement(Bo,{title:"SEND FOR APPROVAL",classes:["button"],disabled:hr.existsIncompleteTaskSubmission(e.taskSubmissions),onClick:c});return"submitted"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,b,m,d),o.a.createElement("div",null)):"waiting_for_security_architect_approval"===e.status||"awaiting_security_architect_review"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,b,m),o.a.createElement("div",null)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,m),o.a.createElement("div",null))}if("approver"===a||"businessOwnerApprover"===a){var h=o.a.createElement(Gn,{title:"Assign to Me",classes:["button"],onClick:l}),v=o.a.createElement(Bo,{title:"APPROVE",classes:["button"],onClick:function(){return s(t.state.skipBoAndCisoApproval)}}),O=o.a.createElement(Gn,{title:"DENY",classes:["button"],onClick:function(){return f(t.state.skipBoAndCisoApproval)}});return"submitted"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,y,m),o.a.createElement("div",null)):"awaiting_security_architect_review"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,y,m,h),o.a.createElement("div",null)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,y,m),o.a.createElement("div",null,v,O))}return o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,y,m),o.a.createElement("div",null))}},{key:"renderApprovals",value:function(e){if("in_progress"===e.status||"submitted"===e.status)return null;var t=e.approvalStatus,n=e.securityArchitectApprover,r=e.cisoApprover,a=rc(t.securityArchitect);"Approved"==a&&(a=n.FirstName+" "+n.Surname+" - "+a),"waiting_for_security_architect_approval"===e.status&&(a="Being Reviewed by "+n.FirstName+" "+n.Surname);var i=rc(t.chiefInformationSecurityOfficer);"Pending"!==i&&"Not Required"!==i&&(i=r.FirstName+" "+r.Surname+" - "+i);var c=rc(t.businessOwner);return"Pending"!==c&&"Not Required"!==c&&(c=e.businessOwnerApproverName+" - "+c),o.a.createElement("div",{className:"approvals"},o.a.createElement("h3",null,"Approvals"),o.a.createElement("div",null,o.a.createElement("b",null,"Security Architect")," - ",a),o.a.createElement("div",null,o.a.createElement("b",null,"Chief Information Security Officer")," - ",i),o.a.createElement("div",null,o.a.createElement("b",null,"Business Owner")," - ",c))}},{key:"renderSkipCheckbox",value:function(e,t,n){var r=this;return n&&!n.isSA||!e.isApprovalOverrideBySecurityArchitect?null:"approver"===t&&n.isSA&&"waiting_for_security_architect_approval"===e.status?o.a.createElement("div",{className:"approvals"},o.a.createElement("h3",null,"Skip Business Owner and CISO approval"),o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:this.state.skipBoAndCisoApproval,onChange:function(e){r.setState({skipBoAndCisoApproval:e.target.checked})}}),"  This deliverable does not modify the current risk rating for this project. Business Owner and CISO approval is not required")):null}}])&&Zi(t.prototype,n),r&&Zi(t,r),i}(r.Component);oc.defaultProps={submission:null,handlePDFDownloadButtonClick:function(){},handleSubmitButtonClick:function(){},handleApproveButtonClick:function(){},handleDenyButtonClick:function(){},handleEditButtonClick:function(){},handleAssignToMeButtonClick:function(){},viewAs:"others",token:"",user:null};var ac=oc,ic=n(128),cc=n.n(ic);function uc(e){return(uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sc(Object(n),!0).forEach((function(t){fc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mc(e,t){return(mc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dc(e);if(t){var o=dc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bc(this,n)}}function bc(e,t){return!t||"object"!==uc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dc(e){return(dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mc(e,t)}(i,e);var t,n,r,a=yc(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this)).state={showModal:!1},e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=lc({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t,e.secureToken)}},{key:"render",value:function(){var e=lc({},this.props),t=e.secureToken,n=e.loadingState,r=lc({},this.props.submissionState),a=(r.location,r.title),i=r.user,c=r.submission,u=r.isCurrentUserApprover,s=r.isCurrentUserABusinessOwnerApprover,l=r.siteConfig;if(!i||!c||!l)return null;if(n["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"])return null;var f="others";do{if(i.id===c.submitter.id){f="submitter";break}if(s){f="businessOwnerApprover";break}if(u){f="approver";break}}while(0);return o.a.createElement("div",{className:"SummaryContainer"},o.a.createElement(Gr,{title:a,subtitle:"Summary",username:i.name,logopath:l.logoPath}),o.a.createElement(ac,{submission:c,handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleEditButtonClick:this.handleOpenModal.bind(this),handleAssignToMeButtonClick:this.handleAssignToMeButtonClick.bind(this),viewAs:f,user:i,token:t}),o.a.createElement($t,{footerCopyrightText:l.footerCopyrightText}),o.a.createElement(cc.a,{isOpen:this.state.showModal,parentSelector:function(){return document.querySelector(".SummaryContainer")}},o.a.createElement("h3",null,"Are you sure you want to edit this submission?"),o.a.createElement("div",{className:"content"},"This will cancel your current submission and require it to be resubmitted for approval."),o.a.createElement("div",null,o.a.createElement(Bo,{title:"Yes",onClick:this.handleEditButtonClick.bind(this)}),o.a.createElement(Gn,{title:"No",onClick:this.handleCloseModal.bind(this)}))))}},{key:"handlePDFDownloadButtonClick",value:function(){var e,t=lc({},this.props.submissionState),n=t.submission,r=t.siteConfig;n&&r&&(n&&n.riskResults&&(e=n.riskResults),bi.generatePDF({questions:n.questions,submitter:n.submitter,questionnaireTitle:n.questionnaireTitle,siteConfig:r,riskResults:e||[]}))}},{key:"handleSubmitButtonClick",value:function(){var e=lc({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchSubmitForApprovalAction(n.submissionID)}},{key:"handleApproveButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=lc({},this.props),n=t.secureToken,r=lc({},this.props.submissionState),o=r.user,a=r.submission,i=r.isCurrentUserApprover,c=r.isCurrentUserABusinessOwnerApprover;o&&a&&(c?this.props.dispatchBusinessOwnerApproveSubmissionAction(a.submissionID,n):i&&this.props.dispatchApproveSubmissionAction(a.submissionID,e))}},{key:"handleDenyButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=lc({},this.props),n=t.secureToken,r=lc({},this.props.submissionState),o=r.user,a=r.submission,i=r.isCurrentUserApprover,c=r.isCurrentUserABusinessOwnerApprover;o&&a&&(c?this.props.dispatchBusinessOwnerDenySubmissionAction(a.submissionID,n):i&&this.props.dispatchDenySubmissionAction(a.submissionID,e))}},{key:"handleAssignToMeButtonClick",value:function(){var e=lc({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchAssignToMeAction(n.submissionID)}},{key:"handleEditButtonClick",value:function(){var e=lc({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&(this.handleCloseModal(),this.props.dispatchEditSubmissionAction(n.submissionID))}},{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}}])&&pc(t.prototype,n),r&&pc(t,r),i}(r.Component),vc=Object(c.b)((function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadSubmissionAction:function(t,n){e(xr(t,n))},dispatchBusinessOwnerApproveSubmissionAction:function(t,n){e(function(e,t){return function(){var n=Nr(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e.getCSRFToken();case 3:return a=n.sent,n.next=6,pr.approveQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:a,secureToken:t});case 6:i=n.sent,c=i.uuid,r(xr(c,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchBusinessOwnerDenySubmissionAction:function(t,n){e(function(e,t){return function(){var n=Nr(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e.getCSRFToken();case 3:return a=n.sent,n.next=6,pr.denyQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:a,secureToken:t});case 6:i=n.sent,c=i.uuid,r(xr(c,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchSubmitForApprovalAction:function(t){e(function(e){return function(){var t=Nr(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,pr.submitQuestionnaireForApproval({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(xr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchEditSubmissionAction:function(t){e(function(e){return function(){var t=Nr(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,pr.editQuestionnaireSubmission({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,N.redirectToQuestionnaireEditing(i),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchApproveSubmissionAction:function(t,n){e(function(e,t){return function(){var n=Nr(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e.getCSRFToken();case 3:return a=n.sent,n.next=6,pr.approveQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,c=i.uuid,r(xr(c)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchDenySubmissionAction:function(t,n){e(function(e,t){return function(){var n=Nr(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e.getCSRFToken();case 3:return a=n.sent,n.next=6,pr.denyQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,c=i.uuid,r(xr(c)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchAssignToMeAction:function(t){e(function(e){return function(){var t=Nr(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,pr.assignQuestionnaireSubmissionToSecurityArchitect({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(xr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(hc),Oc=n(418),Sc=n.n(Oc);function gc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gc(Object(n),!0).forEach((function(t){wc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kc(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Tc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){kc(a,r,o,i,c,"next",e)}function c(e){kc(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Ac(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var jc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"loadAvailableComponents",value:(a=Tc(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,q.request({query:"\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n    Controls {\n      ID\n      Name\n      Description\n      ImplementationGuidance\n    }\n  }\n}"});case 3:if(t=e.sent,n=w()(t,"data.readSecurityComponents"),Array.isArray(n)){e.next=7;break}return e.abrupt("return",[]);case 7:return r=n.map((function(e){return gr.parseFromJSONObject(e)})),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"createJiraTickets",value:(o=Tc(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ec({},t),r=n.jiraKey,o=n.componentIDList,a=n.csrfToken,i=o.map((function(e){return"\ncreateJiraTicket".concat(e,': createJiraTicket(ComponentID: "').concat(e,'", JiraKey: "').concat(r,'") {\n  ID\n  JiraKey\n  TicketLink\n}')})),c="\nmutation {\n  ".concat(i.join("\n"),"\n}"),e.next=5,q.request({query:c,csrfToken:a});case 5:if(u=e.sent,s=w()(u,"data",null)){e.next=9;break}throw F;case 9:return l=Sc()(o.map((function(e){var t="createJiraTicket".concat(e),n=w()(s,t,null);return n?{id:T()(w()(n,"ID","")),jiraKey:T()(w()(n,"JiraKey","")),link:T()(w()(n,"TicketLink",""))}:null}))),e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}],n&&Ac(t.prototype,n),r&&Ac(t,r),e}();function Pc(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function _c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Pc(a,r,o,i,c,"next",e)}function c(e){Pc(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Ic(){return function(){var e=_c(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jc.loadAvailableComponents();case 2:return n=e.sent,r={type:l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS,payload:n},e.next=6,t(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Cc(e,t){return function(){var n=_c(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(o);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function Dc(e,t){return function(){var n=_c(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(o);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function Rc(e){return function(){var t=_c(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_VIEW_MODE,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Nc(e){return function(){var t=_c(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_JIRA_TICKETS,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function xc(e){var t=e.selectedComponents.map((function(e){return e.isSaved=!0,e}));return function(){var e=_c(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:l.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS,payload:t},e.next=3,n(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Uc(e){return function(e){if(Array.isArray(e))return Lc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Lc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qc(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Mc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Qc(a,r,o,i,c,"next",e)}function c(e){Qc(a,r,o,i,c,"throw",e)}i(void 0)}))}}function qc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qc(Object(n),!0).forEach((function(t){Bc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vc(e){var t=Fc({},e),n=t.uuid,r=t.secureToken,o=t.type;return function(){var e=Mc(regeneratorRuntime.mark((function e(t){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ir.fetchTaskSubmission({uuid:n,secureToken:r});case 3:return a=e.sent,i={type:l.TASK.LOAD_TASK_SUBMISSION,payload:a},e.next=7,t(i);case 7:if("componentSelection"!==o){e.next=10;break}return e.next=10,t(xc(a));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),te.displayError(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}function Hc(e){var t=Fc({},e),n=t.answeredQuestion,r=t.secureToken,o=t.bypassNetwork;return function(){var e=Mc(regeneratorRuntime.mark((function e(t,a){var i,c,u,s,f,p,m,y,b,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=function(){return a().taskSubmissionState.taskSubmission})()){e.next=3;break}return e.abrupt("return");case 3:return c={type:l.TASK.PUT_DATA_IN_TASK_SUBMISSION,payload:n},e.next=6,t(c);case 6:if(o){e.next=24;break}return e.prev=7,e.t0=Ir,e.t1=i().uuid,e.t2=[n.id],e.t3=[hr.transformFromFullQuestionToData(n)],e.next=14,_e.getCSRFToken();case 14:return e.t4=e.sent,e.t5=r,e.t6={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5},e.next=19,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t6);case 19:e.next=24;break;case 21:e.prev=21,e.t7=e.catch(7),te.displayError(e.t7);case 24:if(u=hr.getDataUpdateIntent({answeredQuestion:n,questions:i().questions}),s=u.currentIndex,f=u.nonApplicableIndexes,p=u.targetIndex,m=u.complete,u.terminate,y=u.result,!(f.length>0)){e.next=29;break}return b={type:l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE,payload:f},e.next=29,t(b);case 29:if(!(p>s)){e.next=33;break}return d={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:s,targetIndex:p}},e.next=33,t(d);case 33:if(o){e.next=42;break}return e.prev=34,e.next=37,Gc(i(),D.a.uniq([s].concat(Uc(f),[p])),r);case 37:e.next=42;break;case 39:e.prev=39,e.t8=e.catch(34),te.displayError(e.t8);case 42:if(!m){e.next=45;break}return e.next=45,t(Jc({bypassNetwork:o,secureToken:r,result:y}));case 45:case"end":return e.stop()}}),e,null,[[7,21],[34,39]])})));return function(t,n){return e.apply(this,arguments)}}()}function Kc(e){return function(){var t=Mc(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.taskSubmissionState.taskSubmission){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,n({type:l.TASK.SAVE_SELECTED_COMPONENT_REQUEST});case 6:return i=o.componentSelectionState.selectedComponents.map((function(e){return{SecurityComponentID:e.id,ProductAspect:e.productAspect,TaskSubmissionID:a.id}})),t.prev=7,t.t0=Ir,t.t1=e,t.t2=i,t.t3=a.uuid,t.next=14,_e.getCSRFToken();case 14:return t.t4=t.sent,t.t5={jiraKey:t.t1,components:t.t2,uuid:t.t3,csrfToken:t.t4},t.next=18,t.t0.updateTaskSubmissionWithSelectedComponents.call(t.t0,t.t5);case 18:return t.next=20,n(Jc());case 20:return t.next=22,n({type:l.TASK.SAVE_SELECTED_COMPONENT_SUCCESS});case 22:t.next=29;break;case 24:return t.prev=24,t.t6=t.catch(7),t.next=28,n({type:l.TASK.SAVE_SELECTED_COMPONENT_FAILURE});case 28:te.displayError(t.t6);case 29:case"end":return t.stop()}}),t,null,[[7,24]])})));return function(e,n){return t.apply(this,arguments)}}()}function Jc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Fc({},e),n=t.secureToken,r=t.bypassNetwork,o=t.result,a=t.taskSubmissionUUID,i=t.questionnaireUUID;return function(){var e=Mc(regeneratorRuntime.mark((function e(t,c){var u,s,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(){return c().taskSubmissionState.taskSubmission},r){e.next=20;break}return e.prev=2,e.next=5,_e.getCSRFToken();case 5:return s=e.sent,e.next=8,Ir.completeTaskSubmission({uuid:void 0===a?u().uuid:a,result:o||"",secureToken:n,csrfToken:s});case 8:return f=e.sent,p=f.uuid,e.next=12,t(Vc({uuid:p,secureToken:n}));case 12:void 0!==i&&N.redirectToQuestionnaireSummary(i,n),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),te.displayError(e.t0);case 18:e.next=22;break;case 20:return e.next=22,t({type:l.TASK.COMPLETE_TASK_SUBMISSION,payload:o});case 22:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n){return e.apply(this,arguments)}}()}function Wc(e){var t=Fc({},e),n=t.targetQuestion,r=t.secureToken,o=t.bypassNetwork;return function(){var e=Mc(regeneratorRuntime.mark((function e(t,a){var i,c,u,s,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(c=i.questions,!((u=c.findIndex((function(e){return e.isCurrent})))<0)){e.next=7;break}throw new Error("Wrong state, please reload the task");case 7:if(n.isApplicable&&n.hasAnswer){e.next=9;break}return e.abrupt("return");case 9:if(!((s=c.findIndex((function(e){return e.id===n.id})))<0)){e.next=12;break}return e.abrupt("return");case 12:return f={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:u,targetIndex:s}},e.next=15,t(f);case 15:if(o){e.next=18;break}return e.next=18,Gc(i,D.a.uniq([u,s]),r);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function Yc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Fc({},e),n=t.secureToken,r=t.bypassNetwork,o=t.type;return function(){var e=Mc(regeneratorRuntime.mark((function e(t,a){var i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(r){e.next=28;break}return e.prev=4,e.t0=Ir,e.t1=i.uuid,e.next=9,_e.getCSRFToken();case 9:return e.t2=e.sent,e.t3=n,e.t4={uuid:e.t1,csrfToken:e.t2,secureToken:e.t3},e.next=14,e.t0.editTaskSubmission.call(e.t0,e.t4);case 14:return c=e.sent,u=c.uuid,e.next=18,t(Vc({uuid:u,secureToken:n}));case 18:if("componentSelection"!==o){e.next=21;break}return e.next=21,t(xc(i));case 21:e.next=26;break;case 23:e.prev=23,e.t5=e.catch(4),te.displayError(e.t5);case 26:e.next=29;break;case 28:t({type:l.TASK.EDIT_TASK_SUBMISSION});case 29:case"end":return e.stop()}}),e,null,[[4,23]])})));return function(t,n){return e.apply(this,arguments)}}()}function Gc(e,t,n){return zc.apply(this,arguments)}function zc(){return(zc=Mc(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=Ir,e.t1=t.uuid,e.t2=n.map((function(e){return t.questions[e].id})),e.t3=n.map((function(e){return hr.transformFromFullQuestionToData(t.questions[e])})),e.next=7,_e.getCSRFToken();case 7:return e.t4=e.sent,e.t5=r,e.t6={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5},e.next=12,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t6);case 12:e.next=17;break;case 14:e.prev=14,e.t7=e.catch(0),te.displayError(e.t7.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function $c(e){return($c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zc(Object(n),!0).forEach((function(t){eu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ru(e,t){return(ru=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ou(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=iu(e);if(t){var o=iu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return au(this,n)}}function au(e,t){return!t||"object"!==$c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function iu(e){return(iu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ru(e,t)}(i,e);var t,n,r,a=ou(i);function i(){return tu(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=Xc({},this.props),n=t.taskSubmission,r=t.saveAnsweredQuestion,a=t.moveToPreviousQuestion,i=t.handleApproveButtonClick,c=t.handleDenyButtonClick,u=t.editAnswers,s=t.showBackButton,l=t.showEditButton,f=t.canUpdateAnswers,p=t.viewAs,m=t.secureToken,y=o.a.createElement(Fa,{questions:n.questions});f&&(y=o.a.createElement(ba,{questions:n.questions,saveAnsweredQuestion:r,onLeftBarItemClick:a}));var b=s?o.a.createElement(Bo,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){N.redirectToQuestionnaireSummary(n.questionnaireSubmissionUUID,m)}}):null,d="risk questionnaire"===n.taskType&&Mi.isSRATaskFinalised(n.siblingSubmissions),h=l&&!d?o.a.createElement(Gn,{title:"EDIT ANSWERS",onClick:u,iconImage:_a.a}):null,v=["complete","waiting_for_approval","approved","denied"],O=v.indexOf(n.status)>-1?o.a.createElement(Gn,{title:"DOWNLOAD PDF",iconImage:Ca.a,onClick:function(){return e.downloadPdf()}}):null,S=n.result&&v.indexOf(n.status)>-1?o.a.createElement("div",{className:"result"},o.a.createElement("h3",null,"Result:"),o.a.createElement("div",null,n.result)):null,g=n.riskResults&&v.indexOf(n.status)>-1?o.a.createElement(Li,{riskResults:n.riskResults,hideWeightsAndScore:n.hideWeightsAndScore}):null,E="approver"===p&&"waiting_for_approval"===n.status?o.a.createElement(Bo,{title:"APPROVE",onClick:i,classes:["button"]}):null,w="approver"===p&&"waiting_for_approval"===n.status?o.a.createElement(Gn,{title:"DENY",onClick:c,classes:["button"]}):null;return o.a.createElement("div",{className:"TaskSubmission"},"expired"===n.status&&o.a.createElement(Wi,null),"expired"!==n.status&&o.a.createElement("div",null,!("risk questionnaire"!==n.taskType||!d)&&Mi.getSraIsFinalisedAlert(),S,y,g,o.a.createElement("div",{className:"buttons"},h,O,b,o.a.createElement("div",null,E,w))))}},{key:"downloadPdf",value:function(){var e=Xc({},this.props),t=e.taskSubmission,n=e.currentUser,r=e.siteConfig;(t||r||n)&&bi.generatePDF({questions:t.questions,submitter:t.submitter.email?t.submitter:n,questionnaireTitle:t.taskName,siteConfig:r,result:t.result,riskResults:t.riskResults})}}])&&nu(t.prototype,n),r&&nu(t,r),i}(r.Component);function uu(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function su(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var lu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"fetchCurrentUser",value:(o=regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,q.request({query:"\nquery {\n  readCurrentMember {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n}"});case 3:if(t=e.sent,n=D.a.get(t,"data.readCurrentMember.0",null)){e.next=7;break}throw new Error("Authenticate error");case 7:if((r=ar.parseUserFromJSON(n)).id){e.next=10;break}throw new Error("Authenticate error");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){uu(a,n,r,i,c,"next",e)}function c(e){uu(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})}],n&&su(t.prototype,n),r&&su(t,r),e}();function fu(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function pu(){return function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lu.fetchCurrentUser();case 3:n=e.sent,r={type:l.USER.SET_CURRENT_USER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),te.displayError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){fu(a,r,o,i,c,"next",e)}function c(e){fu(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()}function mu(e){return(mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yu(Object(n),!0).forEach((function(t){du(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function du(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ou(e,t){return(Ou=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Su(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Eu(e);if(t){var o=Eu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gu(this,n)}}function gu(e,t){return!t||"object"!==mu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Eu(e){return(Eu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ou(e,t)}(i,e);var t,n,r,a=Su(i);function i(){return hu(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=bu({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken)}},{key:"render",value:function(){var e=bu({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,a=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,c=e.dispatchEditAnswersAction,u=(e.dispatchApproveTaskSubmissionAction,e.dispatchDenyTaskSubmissionAction,e.secureToken);if(!n||!r||!t)return null;var s="others";do{if(parseInt(n.id)===parseInt(r.submitter.id)){s="submitter";break}if(r.isCurrentUserAnApprover){s="approver";break}}while(0);var l=parseInt(n.id)===parseInt(r.submitter.id),f=("in_progress"===r.status||"start"===r.status)&&(n.isSA||l),p=("complete"===r.status||"waiting_for_approval"===r.status||"denied"===r.status)&&"submitted"===r.questionnaireSubmissionStatus&&(n.isSA||l&&!r.lockWhenComplete);return o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(Gr,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),o.a.createElement(cu,{taskSubmission:r,saveAnsweredQuestion:a,moveToPreviousQuestion:i,editAnswers:c,showEditButton:p,canUpdateAnswers:f,handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),showBackButton:!!r.questionnaireSubmissionUUID,viewAs:s,siteConfig:t,secureToken:u}),o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText}))}},{key:"handleApproveButtonClick",value:function(){var e=bu({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchApproveTaskSubmissionAction(r)}},{key:"handleDenyButtonClick",value:function(){var e=bu({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchDenyTaskSubmissionAction(r)}}])&&vu(t.prototype,n),r&&vu(t,r),i}(r.Component),ku=Object(c.b)((function(e){return{questionnaireSubmission:e.questionnaireState.submissionState,taskSubmission:e.taskSubmissionState.taskSubmission,siteTitle:e.siteConfigState.siteTitle,currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadDataAction:function(t,n){e(pu()),e(mn()),e(Vc({uuid:t,secureToken:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(Hc({answeredQuestion:t}))},dispatchMoveToPreviousQuestionAction:function(t){e(Wc({targetQuestion:t}))},dispatchEditAnswersAction:function(){e(Yc())},dispatchApproveTaskSubmissionAction:function(t){e(function(e){return function(){var t=Mc(regeneratorRuntime.mark((function t(n,r){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,Ir.approveTaskSubmission({uuid:e,csrfToken:o});case 6:return a=t.sent,a.status,t.next=10,n(Vc({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),te.displayError(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchDenyTaskSubmissionAction:function(t){e(function(e){return function(){var t=Mc(regeneratorRuntime.mark((function t(n,r){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,Ir.denyTaskSubmission({uuid:e,csrfToken:o});case 6:return a=t.sent,a.status,t.next=10,n(Vc({uuid:e}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),te.displayError(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(wu);function Tu(e){return(Tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Au(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ju(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pu(e,t){return(Pu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cu(e);if(t){var o=Cu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Iu(this,n)}}function Iu(e,t){return!t||"object"!==Tu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cu(e){return(Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Du(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ru(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Du(Object(n),!0).forEach((function(t){Nu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Du(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pu(e,t)}(i,e);var t,n,r,a=_u(i);function i(){return Au(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,Ru({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Ru({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,a=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,c=e.dispatchEditAnswersAction;if(!n||!r||!t)return null;var u="in_progress"===r.status||"start"===r.status,s="complete"===r.status;return o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(Gr,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),o.a.createElement(cu,{taskSubmission:r,saveAnsweredQuestion:a,moveToPreviousQuestion:i,editAnswers:c,showEditButton:s,canUpdateAnswers:u,showBackButton:!1,siteConfig:t,currentUser:n}),o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText}))}}])&&ju(t.prototype,n),r&&ju(t,r),i}(r.Component),Uu=Object(c.b)((function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user}}),(function(e,t){return{dispatchLoadDataAction:function(){var n=Ru({},t).taskId;e(pu()),e(mn()),e(function(e){var t=Fc({},e).taskId;return function(){var e=Mc(regeneratorRuntime.mark((function e(n,r){var o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ir.fetchStandaloneTask({taskId:t});case 3:return o=e.sent,a={id:"",uuid:"",taskName:o.name,taskType:"questionnaire",status:"in_progress",result:"",questions:o.questions,selectedComponents:[],jiraTickets:[],questionnaireSubmissionUUID:"",questionnaireSubmissionID:"",submitter:r().currentUserState,lockWhenComplete:!1},i={type:l.TASK.LOAD_TASK_SUBMISSION,payload:a},e.next=8,n(i);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),te.displayError(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()}({taskId:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(Hc({answeredQuestion:t,bypassNetwork:!0}))},dispatchMoveToPreviousQuestionAction:function(t){e(Wc({targetQuestion:t,bypassNetwork:!0}))},dispatchEditAnswersAction:function(){e(Yc({bypassNetwork:!0}))}}}))(xu);function Lu(e){return(Lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qu(Object(n),!0).forEach((function(t){qu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vu(e,t){return(Vu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ju(e);if(t){var o=Ju(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ku(this,n)}}function Ku(e,t){return!t||"object"!==Lu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ju(e){return(Ju=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vu(e,t)}(i,e);var t,n,r,a=Hu(i);function i(){return Fu(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=Mu({},this.props),t=e.title,n=e.disabled,r=e.onItemClick;return o.a.createElement("div",{className:"LeftBarItem"},o.a.createElement("button",{className:"btn",disabled:n,onClick:function(e){e.preventDefault(),r()}},this.renderIcon(),t))}},{key:"renderIcon",value:function(){switch(Mu({},this.props).iconType){case"editing":return o.a.createElement("img",{src:Ve.a,alt:""});case"success":return o.a.createElement("i",{className:"fas fa-check-circle success"});case"pending":return o.a.createElement("i",{className:"fas fa-check-circle pending"});case"not-applicable":return o.a.createElement("i",{className:"fas fa-question-circle not-applicable"});default:return null}}}])&&Bu(t.prototype,n),r&&Bu(t,r),i}(r.Component);function Yu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Gu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isComponentExist",value:function(e,t){return t.filter((function(t){return t.id===e})).length>0}},{key:"isSelectedComponentExist",value:function(e,t,n){return""!==t?n.filter((function(n){return n.id===e&&n.productAspect===t})).length>0:n.filter((function(t){return t.id===e})).length>0}},{key:"isComponentSaved",value:function(e,t,n){return n.filter((function(n){return n.id===e&&n.productAspect===t&&n.isSaved})).length>0}},{key:"doescomponentExistForProductAspect",value:function(e,t){return t.filter((function(t){return t.productAspect===e})).length>0}}],(n=null)&&Yu(t.prototype,n),r&&Yu(t,r),e}();function zu(e){return(zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$u(Object(n),!0).forEach((function(t){Xu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function es(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ts(e,t){return(ts=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ns(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=os(e);if(t){var o=os(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rs(this,n)}}function rs(e,t){return!t||"object"!==zu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function os(e){return(os=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var as=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ts(e,t)}(i,e);var t,n,r,a=ns(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={filter:"",selectedProductAspect:e.productAspects&&e.productAspects.length?e.productAspects[0]:""},t}return t=i,(n=[{key:"handleChange",value:function(e){alert(e.target.value)}},{key:"render",value:function(){var e=this,t=Zu({},this.props),n=t.title,r=t.availableComponents,a=t.selectedComponents,i=t.removeComponent,c=t.addComponent,u=t.productAspects,s=t.componentTarget,l=Zu({},this.state),f=l.filter,p=l.selectedProductAspect;return o.a.createElement("div",{className:"LeftBar"},u&&u.length>0&&o.a.createElement("div",{className:"product-aspect"},o.a.createElement("label",null,o.a.createElement("span",{className:"product-aspect-label"},"Please select a Product Aspect:"),o.a.createElement("select",{className:"custom-select custom-select-sm",onChange:function(t){var n=T()(t.target.value).trim();e.setState({selectedProductAspect:n})},value:p},u.map((function(e,t){return o.a.createElement("option",{key:t,value:e},e)}))))),o.a.createElement("div",{className:"title"},n),o.a.createElement("div",{className:"search"},o.a.createElement("i",{className:"fas fa-search"}),o.a.createElement("input",{type:"text",placeholder:"Filter component...",onChange:function(t){var n=T()(t.target.value).trim();e.setState({filter:n})}})),o.a.createElement("div",{className:"items"},r.filter((function(e){return!f||e.name.toUpperCase().includes(f.toUpperCase())})).map((function(e){var t=Gu.isSelectedComponentExist(e.id,p,a),n=Gu.isComponentSaved(e.id,p,a,s)&&"JIRA Cloud"==s;return o.a.createElement(Wu,{title:e.name,iconType:t?"success":"pending",disabled:n,key:e.id,onItemClick:function(){t?i(e.id,p):c(e.id,p)}})}))))}}])&&es(t.prototype,n),r&&es(t,r),i}(r.Component),is=n(100),cs=n(423);function us(e){return(us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ss(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ls(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ss(Object(n),!0).forEach((function(t){fs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ss(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ps(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ms(e,t){return(ms=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ys(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ds(e);if(t){var o=ds(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bs(this,n)}}function bs(e,t){return!t||"object"!==us(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ds(e){return(ds=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ms(e,t)}(i,e);var t,n,r,a=ys(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={isExpanded:!1,isImplementationEvidenceExpaned:!0},t}return t=i,(n=[{key:"handleOnBlurForImplementationEvidence",value:function(e){this.props.isCVATaskEditable&&this.props.updateEvidenceTextareaData(e.target.getContent())}},{key:"render",value:function(){var e=this,t=ls({},this.props),n=(t.id,t.name),r=t.description,a=t.implementationGuidance,i=t.implementationEvidence,c=t.className,u=t.showImplementationEvidence,s=(t.updateEvidenceTextareaData,t.implementationEvidenceUserInput),l=t.isCVATaskEditable,f=ls({},this.state),p=f.isExpanded,m=f.isImplementationEvidenceExpaned;return o.a.createElement("div",{className:"ControlInfo "+c},n&&o.a.createElement("h5",null,n),r&&o.a.createElement("div",{className:"control-description"},o.a.createElement("span",null,o.a.createElement("b",null,"Description: ")),o.a.createElement("span",{className:"control-description-cs",dangerouslySetInnerHTML:{__html:r}})),a&&o.a.createElement("div",{className:"implementation-Guidance"},o.a.createElement("div",{className:"implementation-Guidance-title",onClick:function(){return e.setState({isExpanded:!p})}},o.a.createElement("span",null,o.a.createElement("b",null,"Implementation Guidance "),o.a.createElement(is.Icon,{name:"".concat(p?"caret-up":"caret-down")}))),p&&o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}})),u&&o.a.createElement("div",{className:"implementation-Guidance"},o.a.createElement("div",{className:"implementation-Guidance-title",onClick:function(){return e.setState({isImplementationEvidenceExpaned:!m})}},o.a.createElement("span",null,o.a.createElement("b",null,"Evidence of Implementation / Rationale of Not Applicable"),o.a.createElement(is.Icon,{name:"".concat(m?"caret-up":"caret-down")}))),m&&o.a.createElement("div",null,o.a.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),o.a.createElement("div",null,o.a.createElement(cs.a,{className:"form-control",initialValue:s,disabled:!l,init:{selector:"textarea",height:120,menubar:!1,toolbar:!1,statusbar:!1,skin_url:"resources/vendor/silverstripe/admin/thirdparty/tinymce/skins/silverstripe"},onBlur:function(t){return e.handleOnBlurForImplementationEvidence(t)}})))))}}])&&ps(t.prototype,n),r&&ps(t,r),i}(o.a.Component);function vs(e){return(vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ss(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Es(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ws(e,t){return(ws=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ks(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=As(e);if(t){var o=As(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ts(this,n)}}function Ts(e,t){return!t||"object"!==vs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function As(e){return(As=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var js=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ws(e,t)}(i,e);var t,n,r,a=ks(i);function i(){return gs(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Os(Object(n),!0).forEach((function(t){Ss(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Os(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.id,n=e.name,r=e.description,a=e.removeComponent,i=e.childControls,c=e.isDisable;return o.a.createElement("div",{className:"ComponentInfo",key:t+n},o.a.createElement("h3",null,!c&&o.a.createElement("button",{onClick:function(e){e.preventDefault(),a()}},o.a.createElement("i",{className:"fas fa-minus-circle text-danger"}),o.a.createElement("span",null," ",n))),o.a.createElement("p",null,r),i&&i.length>0&&o.a.createElement("div",{className:"control-heading"},"Controls"),i&&i.length>0&&i.map((function(e,t){return o.a.createElement(hs,{key:t,id:e.id,name:e.name,description:e.description,implementationGuidance:e.implementationGuidance,className:"control-cs"})})))}}])&&Es(t.prototype,n),r&&Es(t,r),i}(o.a.Component);function Ps(e){return(Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Is(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_s(Object(n),!0).forEach((function(t){Cs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rs(e,t){return(Rs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ns(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Us(e);if(t){var o=Us(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xs(this,n)}}function xs(e,t){return!t||"object"!==Ps(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Us(e){return(Us=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ls=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rs(e,t)}(i,e);var t,n,r,a=Ns(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={jiraKey:""},t}return t=i,(n=[{key:"render",value:function(){var e=this,t=Is({},this.props),n=t.availableComponents,r=t.selectedComponents,a=t.createJIRATickets,i=t.removeComponent,c=t.addComponent,u=t.finishWithSelection,s=t.saveControls,l=t.extraButtons,f=t.componentTarget,p=t.productAspects,m=t.isStandaloneTask,y=Is({},this.state).jiraKey,b=p&&p.length>0&&r.length>0;return o.a.createElement("div",{className:"ComponentSelection"},o.a.createElement("div",{className:"main-wrapper"},o.a.createElement(as,{selectedComponents:r,availableComponents:n,title:"Available Components",removeComponent:i,addComponent:c,productAspects:p,componentTarget:f}),o.a.createElement("div",{className:"main-content"},o.a.createElement("div",{className:"heading"},"Selected Components"),o.a.createElement("div",{className:"selected-components"},b>0&&p.map((function(e,t){return o.a.createElement("div",{key:t},Gu.doescomponentExistForProductAspect(e,r)&&o.a.createElement("h4",{key:t},e),r.map((function(t,n){var r=t.hasOwnProperty("isSaved")&&t.isSaved&&"JIRA Cloud"==f;if(t.productAspect===e)return o.a.createElement(js,{key:t.id+(t.productAspect?"_".concat(t.productAspect):""),id:t.id,name:t.name,description:t.description,removeComponent:function(){i(t.id,t.productAspect)},childControls:t.controls,isDisable:r})})))})),(void 0===p||""===p||0===p.length)&&r.map((function(e,t){var n=e.hasOwnProperty("isSaved")&&e.isSaved&&"JIRA Cloud"==f;return o.a.createElement(js,{key:e.id,id:e.id,name:e.name,description:e.description,removeComponent:function(){i(e.id,e.productAspect)},childControls:e.controls,isDisable:n})}))))),o.a.createElement("div",{className:"buttons-wrapper"},o.a.createElement("div",{className:"extra-buttons"},l),o.a.createElement("div",null,r.length>0&&"JIRA Cloud"===f&&o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"text",style:{height:"100%",marginRight:"10px"},placeholder:"JIRA Project Key",onChange:function(t){var n=T()(t.target.value).trim();e.setState({jiraKey:n})}}),o.a.createElement(Bo,{title:"CREATE JIRA TICKETS",classes:["mr-3"],onClick:function(){a(y)}})),"Local"===f&&!m&&o.a.createElement(Gn,{title:"SAVE CONTROLS",classes:["mr-3"],onClick:function(){s()}}),o.a.createElement(Gn,{title:"COMPLETE WITHOUT SELECTION",classes:["mr-3"],onClick:function(){u()}}))))}}])&&Ds(t.prototype,n),r&&Ds(t,r),i}(r.Component);function Qs(e){return(Qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ms(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vs(e,t){return(Vs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Js(e);if(t){var o=Js(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ks(this,n)}}function Ks(e,t){return!t||"object"!==Qs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Js(e){return(Js=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ws=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vs(e,t)}(i,e);var t,n,r,a=Hs(i);function i(){return Fs(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ms(Object(n),!0).forEach((function(t){qs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ms(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.selectedComponents,n=e.jiraTickets,r=e.buttons,a=e.componentTarget,i=e.productAspects,c=i&&i.length>0&&t.length>0;return o.a.createElement("div",{className:"ComponentSelectionReview"},o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Selected Components"),c>0&&i.map((function(e,n){return o.a.createElement("ul",{key:n},Gu.doescomponentExistForProductAspect(e,t)&&o.a.createElement("h5",{key:n},e),t.map((function(t,n){if(t.productAspect===e)return o.a.createElement("li",{key:t.id+(e?"_".concat(e):"")},t.name)})))})),o.a.createElement("ul",null,(void 0===i||""===i||0===i.length)&&t.map((function(e){return o.a.createElement("li",{key:e.id},e.name)})))),"JIRA Cloud"===a&&o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Created Jira Tickets"),o.a.createElement("ul",null,n.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("a",{href:e.link,target:"_blank"},e.link))})))),o.a.createElement("div",{className:"buttons"},r))}}])&&Bs(t.prototype,n),r&&Bs(t,r),i}(o.a.Component);function Ys(e){return(Ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gs(Object(n),!0).forEach((function(t){$s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function el(e,t){return(el=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rl(e);if(t){var o=rl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nl(this,n)}}function nl(e,t){return!t||"object"!==Ys(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rl(e){return(rl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ol=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&el(e,t)}(i,e);var t,n,r,a=tl(i);function i(){return Zs(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,zs({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=zs({},this.props),t=e.siteConfig,n=e.currentUser,r=e.availableComponents,a=e.selectedComponents,i=e.dispatchAddComponentAction,c=e.dispatchRemoveComponentAction,u=e.dispatchCreateJIRATicketsAction,s=e.viewMode,l=e.jiraTickets,f=e.componentTarget;if(!n||!t)return null;var p=null;switch(s){case"edit":p=o.a.createElement(Ls,{availableComponents:r,selectedComponents:a,componentTarget:f,isStandaloneTask:!0,createJIRATickets:function(e){u(e)},removeComponent:function(e){c(e)},addComponent:function(e){i(e)},finishWithSelection:function(){N.redirectToHome()}});break;case"review":p=o.a.createElement(Ws,{selectedComponents:a,jiraTickets:l},o.a.createElement("div",{className:"buttons"},o.a.createElement(Bo,{title:"BACK TO HOME",onClick:function(){N.redirectToHome()}})))}return o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement(Gr,{title:"Component Selection",subtitle:t.siteTitle,logopath:t.logoPath,username:n.name}),p,o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText}))}}])&&Xs(t.prototype,n),r&&Xs(t,r),i}(r.Component),al=Object(c.b)((function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents,viewMode:e.componentSelectionState.viewMode,jiraTickets:e.componentSelectionState.jiraTickets}}),(function(e,t){return{dispatchLoadDataAction:function(){e(pu()),e(mn()),e(Ic())},dispatchAddComponentAction:function(t){e(Cc(t))},dispatchRemoveComponentAction:function(t){e(Dc(t))},dispatchCreateJIRATicketsAction:function(t){e(function(e){return function(){var t=_c(regeneratorRuntime.mark((function t(n,r){var o,a,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("Please enter the project key!");case 3:if(o=r(),a=o.componentSelectionState.selectedComponents){t.next=7;break}throw new Error("Nothing to create in JIRA!");case 7:return t.next=9,_e.getCSRFToken();case 9:return i=t.sent,t.next=12,jc.createJiraTickets({jiraKey:e,componentIDList:Or()(a.map((function(e){return e.id}))),csrfToken:i});case 12:return c=t.sent,t.next=15,n(Nc(c));case 15:return t.next=17,n(Rc("review"));case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),te.displayError(t.t0);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(ol);function il(e){return(il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ul(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sl(e,t){return(sl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ll(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pl(e);if(t){var o=pl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fl(this,n)}}function fl(e,t){return!t||"object"!==il(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pl(e){return(pl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ml=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sl(e,t)}(i,e);var t,n,r,a=ll(i);function i(){return cl(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",{className:"alert alert-warning"},"The submission you are attempting to view has not been completed yet.")}}])&&ul(t.prototype,n),r&&ul(t,r),i}(r.Component);function yl(e){return(yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hl(e,t){return(hl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sl(e);if(t){var o=Sl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ol(this,n)}}function Ol(e,t){return!t||"object"!==yl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sl(e){return(Sl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function El(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gl(Object(n),!0).forEach((function(t){wl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hl(e,t)}(i,e);var t,n,r,a=vl(i);function i(){return bl(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,El({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=El({},this.props),t=e.siteConfig,n=(e.siteTitle,e.secureToken),r=e.currentUser,a=e.taskSubmission,i=e.availableComponents,c=e.selectedComponents,u=e.dispatchAddComponentAction,s=e.dispatchRemoveComponentAction,l=e.dispatchCreateJIRATicketsAction,f=e.dispatchSaveLocalControlsAction,p=e.dispatchFinishAction,m=e.dispatchEditAnswersAction;if(!r||!a||!t)return null;var y=parseInt(r.id)===parseInt(a.submitter.id),b=Mi.isSRATaskFinalised(a.siblingSubmissions),d=("complete"===a.status||"waiting_for_approval"===a.status||"denied"===a.status)&&"submitted"===a.questionnaireSubmissionStatus&&(r.isSA||y)&&!a.lockWhenComplete,h=o.a.createElement(Bo,{key:"back",title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){N.redirectToQuestionnaireSummary(a.questionnaireSubmissionUUID,n)}}),v=d&&!b?o.a.createElement(Gn,{title:"EDIT CONTROLS",onClick:m,classes:["button"],iconImage:_a.a}):null,O=null;switch(a.status){case"start":case"in_progress":if(y){O=o.a.createElement(Ls,{availableComponents:i,selectedComponents:c,componentTarget:a.componentTarget,productAspects:a.productAspects,extraButtons:h,createJIRATickets:function(e){l(e)},saveControls:function(){f()},removeComponent:function(e,t){s(e,t)},addComponent:function(e,t){u(e,t)},finishWithSelection:function(){p()}});break}O=o.a.createElement("div",{className:"ComponentSelectionReview"},o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Selected Components"),o.a.createElement("br",null),o.a.createElement(ml,null)),o.a.createElement("div",{className:"buttons"},h));break;case"complete":O=o.a.createElement("div",null,o.a.createElement("div",{className:"ComponentSelectionReview"},!!b&&Mi.getSraIsFinalisedAlert()),o.a.createElement(Ws,{selectedComponents:a.selectedComponents,jiraTickets:a.jiraTickets,componentTarget:a.componentTarget,productAspects:a.productAspects,buttons:[o.a.createElement("div",{key:"component-selection-review-button-container"},v,h)]}));break;case"expired":O=o.a.createElement(Wi,null)}return o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement(Gr,{title:"Component Selection",subtitle:t.siteTitle,logopath:t.logoPath,username:r.name}),O,o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText}))}}])&&dl(t.prototype,n),r&&dl(t,r),i}(r.Component),Tl=Object(c.b)((function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,taskSubmission:e.taskSubmissionState.taskSubmission,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents}}),(function(e,t){return{dispatchLoadDataAction:function(){var n=El({},t),r=n.uuid,o=n.secureToken;e(mn()),e(pu()),e(Ic()),e(Vc({uuid:r,secureToken:o,type:"componentSelection"}))},dispatchAddComponentAction:function(t,n){e(Cc(t,n))},dispatchRemoveComponentAction:function(t,n){e(Dc(t,n))},dispatchCreateJIRATicketsAction:function(t){e(Kc(t))},dispatchSaveLocalControlsAction:function(){e(Kc(""))},dispatchFinishAction:function(){e(Jc())},dispatchEditAnswersAction:function(){e(Yc({type:"componentSelection"}))}}}))(kl);function Al(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var jl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"prettifyStatus",value:function(e,t,n,r,o,a){if("awaiting_security_architect_review"===e)return"Waiting for Security Architect Approval - unassigned";if("waiting_for_security_architect_approval"===e){if(n.id==t)return"Waiting for Security Architect Approval - assigned to me";if(n.id!==t)return"Waiting for Security Architect Approval - "+r}if("waiting_for_approval"===e){if("pending"===o&&"pending"===a)return"Waiting for Approval - Business Owner and Chief Information Security Officer";if("pending"!==o&&"pending"===a)return"Waiting for Approval - Business Owner"}return"approved"===e&&"pending"===o&&"approved"===a?"Approved - Chief Information Security Officer Approval Pending":e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}}],(n=null)&&Al(t.prototype,n),r&&Al(t,r),e}();function Pl(e){return(Pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Il(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_l(Object(n),!0).forEach((function(t){Cl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nl(e,t){return(Nl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ll(e);if(t){var o=Ll(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ul(this,n)}}function Ul(e,t){return!t||"object"!==Pl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ll(e){return(Ll=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ql(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}var Ml=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nl(e,t)}(i,e);var t,n,r,a=xl(i);function i(){return Dl(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,Il({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Il({},this.props),t=e.currentUser,n=e.mySubmissionList,r=e.siteConfig,a=e.loadingState;return t&&n&&r?a["QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(Gr,{title:"My Submission",subtitle:r.siteTitle,username:t.name,logopath:r.logoPath}),function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Pillar"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map((function(e){var n="";return n="in_progress"===e.status?"#/questionnaire/submission/"+e.uuid:"#/questionnaire/summary/"+e.uuid,o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Ho()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.questionnaireName),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,jl.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))})))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display."))}(n,t),o.a.createElement($t,{footerCopyrightText:r.footerCopyrightText})):null}}])&&Rl(t.prototype,n),r&&Rl(t,r),i}(r.Component),ql=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,mySubmissionList:e.questionnaireSubmissionListState.mySubmissionList,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadDataAction:function(){return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(pu());case 2:return t.next=4,e(function(){var e=Nr(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_REQUEST});case 5:return e.prev=5,e.next=8,pr.fetchQuestionnaireSubmissionList(r.id,"my_submission_list");case 8:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(mn());case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){Ql(a,r,o,i,c,"next",e)}function c(e){Ql(a,r,o,i,c,"throw",e)}i(void 0)}))})();var t}}}))(Ml);function Fl(e){return(Fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bl(Object(n),!0).forEach((function(t){Hl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jl(e,t){return(Jl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gl(e);if(t){var o=Gl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yl(this,n)}}function Yl(e,t){return!t||"object"!==Fl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gl(e){return(Gl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zl(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}var $l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jl(e,t)}(i,e);var t,n,r,a=Wl(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={currentApprovalList:"QuestionnaireApproval"},t}return t=i,(n=[{key:"componentDidMount",value:function(){(0,Vl({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=this,t=Vl({},this.props),n=t.currentUser,r=t.siteConfig,a=t.awaitingApprovalList,i=t.awaitingApprovalTaskList,c=t.loadingState;return n&&a&&r&&i?c["QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(Gr,{title:"Awaiting Approvals",username:n.name,subtitle:r.siteTitle,logopath:r.logoPath}),o.a.createElement("div",{className:"container text-center tab-container"},o.a.createElement("button",{className:"QuestionnaireApproval"==this.state.currentApprovalList?"tab-button mr-3 active":"tab-button mr-3",onClick:function(){return e.setState({currentApprovalList:"QuestionnaireApproval"})}},"Questionnaire Approvals"),o.a.createElement("button",{className:"TaskApproval"==this.state.currentApprovalList?"tab-button active":"tab-button",onClick:function(){return e.setState({currentApprovalList:"TaskApproval"})}},"Task Approvals")),"QuestionnaireApproval"==this.state.currentApprovalList&&Zl(a,n),"TaskApproval"==this.state.currentApprovalList&&Xl(i,n),o.a.createElement($t,{footerCopyrightText:r.footerCopyrightText})):null}}])&&Kl(t.prototype,n),r&&Kl(t,r),i}(r.Component),Zl=function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Business Owner"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Deliverable Release Date"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map((function(e){var n="#/questionnaire/summary/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Ho()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.businessOwner),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,jl.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,e.releaseDate?Ho()(e.releaseDate).format("DD MMM YYYY"):""),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))})))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display for Questionnaire."))},Xl=function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Task Name"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map((function(e){var n="#/task/submission/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Ho()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.taskName),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,jl.prettifyStatus(e.status,"",t,"","","")),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))})))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display for Task."))},ef=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,awaitingApprovalList:e.questionnaireSubmissionListState.awaitingApprovalList,awaitingApprovalTaskList:e.questionnaireSubmissionListState.awaitingApprovalTaskList,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadDataAction:function(){return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(pu());case 2:return t.next=4,e(function(){var e=Nr(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_REQUEST});case 5:return e.prev=5,e.next=8,pr.fetchQuestionnaireSubmissionList(r.id,"awaiting_approval_list");case 8:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(function(){var e=Mc(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST});case 5:return e.prev=5,e.next=8,Ir.fetchTaskSubmissionList(r.id,"awaiting_approval_list");case 8:o=e.sent,t({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE,error:e.t0});case 16:te.displayError(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}());case 6:return t.next=8,e(mn());case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){zl(a,r,o,i,c,"next",e)}function c(e){zl(a,r,o,i,c,"throw",e)}i(void 0)}))})();var t}}}))($l);function tf(e){return(tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nf(Object(n),!0).forEach((function(t){of(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function of(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function af(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uf(e,t){return(uf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ff(e);if(t){var o=ff(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lf(this,n)}}function lf(e,t){return!t||"object"!==tf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ff(e){return(ff=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pf(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}var mf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uf(e,t)}(i,e);var t,n,r,a=sf(i);function i(){return af(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,rf({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=rf({},this.props),t=e.currentUser,n=e.myProductList,r=e.siteConfig,a=e.loadingState;return t&&n&&r?a["QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(Gr,{title:"My Products",subtitle:r.siteTitle,username:t.name,logopath:r.logoPath}),function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map((function(e){var n="#/questionnaire/summary/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Ho()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,jl.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))})))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display."))}(n,t),o.a.createElement($t,{footerCopyrightText:r.footerCopyrightText})):null}}])&&cf(t.prototype,n),r&&cf(t,r),i}(r.Component),yf=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,myProductList:e.questionnaireSubmissionListState.myProductList,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadDataAction:function(){return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(pu());case 2:return t.next=4,e(function(){var e=Nr(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_REQUEST});case 5:return e.prev=5,e.next=8,pr.fetchQuestionnaireSubmissionList(r.id,"my_product_list");case 8:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(mn());case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){pf(a,r,o,i,c,"next",e)}function c(e){pf(a,r,o,i,c,"throw",e)}i(void 0)}))})();var t}}}))(mf);function bf(e){return(bf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function df(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Of(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sf(e,t){return(Sf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wf(e);if(t){var o=wf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ef(this,n)}}function Ef(e,t){return!t||"object"!==bf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wf(e){return(wf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sf(e,t)}(i,e);var t,n,r,a=gf(i);function i(){return vf(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?df(Object(n),!0).forEach((function(t){hf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):df(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).likelihoodThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"LikelihoodLegend"},o.a.createElement("h3",null,"Likelihood Legend"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-sm"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"likelihood_legend_header"},o.a.createElement("th",null,"Threshold"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,e.map((function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.operator+e.value),o.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))})))))):null}}])&&Of(t.prototype,n),r&&Of(t,r),i}(r.Component);function Tf(e){return(Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Af(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function If(e,t){return(If=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rf(e);if(t){var o=Rf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Df(this,n)}}function Df(e,t){return!t||"object"!==Tf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rf(e){return(Rf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Nf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&If(e,t)}(i,e);var t,n,r,a=Cf(i);function i(){return Pf(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Af(Object(n),!0).forEach((function(t){jf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Af(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).impactThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"ImapctLegend"},o.a.createElement("h3",null,"Impact Legend"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-sm"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"impact_legend_header"},o.a.createElement("th",null,"Threshold"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,e.map((function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.operator+e.value),o.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))})))))):null}}])&&_f(t.prototype,n),r&&_f(t,r),i}(r.Component);var xf=n(194),Uf=n.n(xf);function Lf(e){return(Lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qf(e,t){return(qf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ff(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vf(e);if(t){var o=Vf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bf(this,n)}}function Bf(e,t){return!t||"object"!==Lf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vf(e){return(Vf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Hf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qf(e,t)}(i,e);var t,n,r,a=Ff(i);function i(){return Qf(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"renderTableHeader",value:function(){return o.a.createElement("tr",{key:"sra_header"},o.a.createElement("th",null,"Risk"),this.props.hasProductAspects&&o.a.createElement("th",null,"Product Aspect"),o.a.createElement("th",null,"Current Controls"),o.a.createElement("th",null,"Current Likelihood"),o.a.createElement("th",null,"Current Impact"),o.a.createElement("th",null,"Current Risk Rating"),o.a.createElement("th",null,"Recommended Treatments"))}},{key:"renderTableBody",value:function(){var e=this;return this.props.hasProductAspects?this.props.calculatedSRAData.map((function(t,n){return t.productAspects.map((function(n,r){var o={riskId:t.riskId,riskName:0==r?"".concat(t.riskName," (").concat(t.baseImpactScore,")"):null,riskDescription:0==r?t.description:null,components:n.components,currentLikelihood:n.currentLikelihood,currentImpact:n.currentImpact,currentRiskRating:n.currentRiskRating};return e.renderTableRow(o,n.productAspectName)}))})):this.props.calculatedSRAData.map((function(t,n){var r={riskId:t.riskId,riskName:"".concat(t.riskName," (").concat(t.baseImpactScore,")"),riskDescription:t.description,components:t.riskDetail.components,currentLikelihood:t.riskDetail.currentLikelihood,currentImpact:t.riskDetail.currentImpact,currentRiskRating:t.riskDetail.currentRiskRating};return e.renderTableRow(r)}))}},{key:"renderTableRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o.a.createElement("tr",{key:t+"_"+e.riskId},o.a.createElement("td",null,o.a.createElement("span",{style:{display:"block"}},e.riskName),o.a.createElement("small",{className:"text-muted"},e.riskDescription)),this.props.hasProductAspects&&t&&o.a.createElement("td",null,t),o.a.createElement("td",null,this.renderComponents(e.components,"Implemented")),o.a.createElement("td",null,this.renderCurrentLikelihood(e.currentLikelihood)),o.a.createElement("td",null,this.renderCurrentImapct(e.currentImpact)),o.a.createElement("td",{style:e.currentRiskRating.colour?{backgroundColor:e.currentRiskRating.colour}:null},this.renderCurrentRiskRating(e.currentRiskRating)),o.a.createElement("td",null,this.renderComponents(e.components,"Recommened")))}},{key:"renderComponents",value:function(e,t){var n=this;return e&&Array.isArray(e)&&0!=e.length?e.map((function(e,r){var a="Implemented"===t?e.implementedControls:e.recommendedControls;return o.a.createElement("div",{key:r+1},o.a.createElement("strong",{key:e.id},a.length>0?e.name:null),a.length>0&&n.renderControls(a,t))})):null}},{key:"renderControls",value:function(e,t){return e.map((function(e,n){var r=!1;return"Recommened"==t&&(Uf()(e.likelihoodPenalty)>0||Uf()(e.impactPenalty)>0)&&(r=!0),o.a.createElement("div",{key:n+1},o.a.createElement("span",{key:e.id,className:"".concat(r?"font-weight-bold control-title":"font-weight-normal control-title")},e.name,"  "),o.a.createElement("small",{className:"text-muted"},"( L: ",e.likelihoodWeight,", I: ",e.impactWeight,", LP: ",e.likelihoodPenalty,", IP: ",e.impactPenalty,")"))}))}},{key:"renderCurrentLikelihood",value:function(e){return o.a.createElement("div",null,o.a.createElement("span",{style:e.colour?{color:e.colour,display:"block"}:null},e.name," ",e.score?"("+e.score+")":null),o.a.createElement("small",{className:"text-muted"},e.formula))}},{key:"renderCurrentImapct",value:function(e){return o.a.createElement("div",null,o.a.createElement("span",{style:e.colour?{color:e.colour,display:"block"}:null},e.name," ",e.score?"("+e.score+")":null),o.a.createElement("small",{className:"text-muted"},e.formula))}},{key:"renderCurrentRiskRating",value:function(e){return o.a.createElement("div",null,e.name)}},{key:"render",value:function(){return this.props.calculatedSRAData?o.a.createElement("div",{className:"RiskMatrix"},o.a.createElement("h3",null,"Your risk assessment results"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:"thead-light"},this.renderTableHeader()),o.a.createElement("tbody",null,this.renderTableBody())))):null}}])&&Mf(t.prototype,n),r&&Mf(t,r),i}(r.Component);function Kf(e){return(Kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zf(e,t){return(zf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xf(e);if(t){var o=Xf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zf(this,n)}}function Zf(e,t){return!t||"object"!==Kf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xf(e){return(Xf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ep=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zf(e,t)}(i,e);var t,n,r,a=$f(i);function i(){return Yf(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jf(Object(n),!0).forEach((function(t){Wf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).riskRatingThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"RiskRatingLegend"},o.a.createElement("h3",null,"Risk Rating Matix"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("p",{className:"impact-heading"},"Impact"),o.a.createElement("table",{className:"table table-sm table-bordered"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"risk_rating_legend_header"},e.tableHeader.map((function(e,t){return o.a.createElement("th",{key:t},e)})))),o.a.createElement("tbody",null,e.tableRows.map((function(e,t){return o.a.createElement("tr",{key:"row_"+t},e.map((function(e,t){return o.a.createElement("td",{key:"column_"+t,style:e.color?{backgroundColor:e.color}:null},e.name)})))})))))):null}}])&&Gf(t.prototype,n),r&&Gf(t,r),i}(r.Component);function tp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function np(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tp(Object(n),!0).forEach((function(t){rp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function op(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function ap(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){op(a,r,o,i,c,"next",e)}function c(e){op(a,r,o,i,c,"throw",e)}i(void 0)}))}}function ip(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var cp=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"fetchSecurityRiskAssessmentTasK",value:(a=ap(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=np({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    UUID\n    TaskName\n    QuestionnaireSubmission {\n      UUID\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    Submitter {\n      ID\n    }\n    Status\n    SecurityRiskAssessmentData\n  }\n}'),e.next=4,q.request({query:a});case 4:if(i=e.sent,c=w()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw F;case 8:return u=JSON.parse(w()(c,"SecurityRiskAssessmentData","")),s={uuid:c&&c.UUID?c.UUID:"",taskName:T()(w()(c,"TaskName","")),status:T()(w()(c,"Status","")),submitterID:T()(w()(c,"Submitter.ID","")),questionnaireSubmissionUUID:T()(w()(c,"QuestionnaireSubmission.UUID","")),taskSubmissions:z.parseAlltaskSubmissionforQuestionnaire(c),sraData:u},e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"fetchImpactThreshold",value:(o=ap(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,q.request({query:"\nquery {\n  readImpactThreshold {\n    Name\n    Value\n    Colour\n    Operator\n  }\n}"});case 3:if(t=e.sent,n=w()(t,"data.readImpactThreshold",null)){e.next=7;break}throw F;case 7:return r=n.map((function(e){return{name:_.toString(_.get(e,"Name","")),color:_.toString(_.get(e,"Colour","")),operator:_.toString(_.get(e,"Operator","")),value:_.toString(_.get(e,"Value",""))}})),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})}],n&&ip(t.prototype,n),r&&ip(t,r),e}();function up(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function sp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){up(a,r,o,i,c,"next",e)}function c(e){up(a,r,o,i,c,"throw",e)}i(void 0)}))}}function lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pp(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lp(Object(n),!0).forEach((function(t){fp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=sp(regeneratorRuntime.mark((function e(t){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_REQUEST});case 2:return e.prev=2,e.next=5,cp.fetchSecurityRiskAssessmentTasK({uuid:n,secureToken:r});case 5:return o=e.sent,a={type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS,payload:o},e.next=9,t(a);case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(2),e.next=15,t({type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_FAILURE,error:e.t0});case 15:te.displayError(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()}function mp(e){return(mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yp(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Op(e,t){return(Op=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ep(e);if(t){var o=Ep(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gp(this,n)}}function gp(e,t){return!t||"object"!==mp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ep(e){return(Ep=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Op(e,t)}(i,e);var t,n,r,a=Sp(i);function i(){return hp(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=bp({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken)}},{key:"render",value:function(){var e=this,t=bp({},this.props),n=t.siteConfig,r=t.currentUser,a=t.securityRiskAssessmentData,i=t.secureToken,c=t.impactThresholdData;if(!r||!n||!a)return null;var u=bp({},a),s=u.uuid,l=(u.taskName,u.questionnaireSubmissionUUID),f=(u.submitterID,u.taskSubmissions),p=u.sraData,m=(u.status,Mi.isSRATaskFinalised(f)),y=o.a.createElement(Gn,{title:"BACK TO QUESTIONNAIRE SUMMARY",classes:["button ml-3"],onClick:function(){N.redirectToQuestionnaireSummary(l,i)}}),b=Mi.isSiblingTaskPending(f),d=a.submitterID===r.id,h=m||b||!d?null:o.a.createElement(Bo,{title:"FINALISE",classes:["button ml-3"],onClick:function(){e.props.dispatchFinaliseAction(s,i,l)}});return o.a.createElement("div",{className:"SecurityRiskAssessmentContainer"},o.a.createElement(Gr,{title:a.taskName,subtitle:n.siteTitle,username:r.name,logopath:n.logoPath}),"expired"===a.status&&o.a.createElement(Wi,null),"expired"!==a.status&&o.a.createElement("div",{className:"SecurityRiskAssessmentResult"},!!m&&Mi.getSraIsFinalisedAlert(),o.a.createElement(Hf,{calculatedSRAData:p.calculatedSRAData,hasProductAspects:p.hasProductAspects}),o.a.createElement(kf,{likelihoodThresholds:p.likelihoodThresholds}),o.a.createElement(Nf,{impactThresholds:c}),o.a.createElement(ep,{riskRatingThresholds:p.riskRatingThresholds}),o.a.createElement("div",{className:"buttons"},y,h)),o.a.createElement($t,{footerCopyrightText:n.footerCopyrightText}))}}])&&vp(t.prototype,n),r&&vp(t,r),i}(r.Component),kp=Object(c.b)((function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,securityRiskAssessmentData:e.securityRiskAssessmentState.securityRiskAssessmentData,impactThresholdData:e.securityRiskAssessmentState.impactThresholdData}}),(function(e,t){return{dispatchLoadDataAction:function(t,n){e(pu()),e(mn()),e(pp({uuid:t,secureToken:n})),e(function(){var e=sp(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cp.fetchImpactThreshold();case 3:return n=e.sent,r={type:l.SRA.LOAD_IMPACT_THRESHOLD,payload:n},e.next=7,t(r);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),te.displayError(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())},dispatchFinaliseAction:function(t,n,r){e(Jc({taskSubmissionUUID:t,secureToken:n,questionnaireUUID:r}))}}}))(wp);function Tp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ap(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tp(Object(n),!0).forEach((function(t){jp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pp(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function _p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Pp(a,r,o,i,c,"next",e)}function c(e){Pp(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Ip(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Cp=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a,i;return t=e,n=null,r=[{key:"fetchControlValidationAuditTaskSubmission",value:(i=_p(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ap({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    QuestionnaireSubmission {\n      UUID\n      TaskSubmissions {\n        UUID\n        TaskType\n        Status\n      }\n    }\n    TaskName\n    CVATaskData\n    ProductAspects\n    CVATaskDataSource\n    Status\n    Submitter {\n      ID\n    }\n  }\n}'),e.next=4,q.request({query:a});case 4:if(i=e.sent,c=w()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw F;case 8:return u=JSON.parse(w()(c,"CVATaskData","[]")),Array.isArray(u)||(u=[]),s=u.length>0?gr.parseCVAFromJSONObject(u):u,l={id:T()(w()(c,"ID","")),status:T()(w()(c,"Status","")),uuid:T()(w()(c,"UUID","")),questionnaireSubmissionUUID:T()(w()(c,"QuestionnaireSubmission.UUID","")),taskName:T()(w()(c,"TaskName","")),selectedComponents:s,submitterID:T()(w()(c,"Submitter.ID","")),componentTarget:T()(w()(c,"CVATaskDataSource","")),productAspects:_.has(c,"ProductAspects")?JSON.parse(w()(c,"ProductAspects",[])):[],siblingSubmissions:z.parseAlltaskSubmissionforQuestionnaire(c)},e.abrupt("return",l);case 13:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"saveControlValidationAuditData",value:(a=_p(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ap({},t),r=n.uuid,o=n.controlData,a=n.csrfToken,i=window.btoa(unescape(encodeURIComponent(JSON.stringify(o)))),c='\nmutation {\n  updateControlValidationAuditTaskSubmission(UUID: "'.concat(r,'", CVATaskData: "').concat(i,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=5,q.request({query:c,csrfToken:a});case 5:if(u=e.sent,_.get(u,"data.updateControlValidationAuditTaskSubmission.CVATaskData",null)){e.next=9;break}throw F;case 9:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"reSyncWithJira",value:(o=_p(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ap({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n  reSyncWithJira(UUID: "'.concat(r,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=4,q.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=_.get(i,"data.reSyncWithJira",null)){e.next=8;break}throw F;case 8:return u=JSON.parse(w()(c,"CVATaskData","[]")),Array.isArray(u)||(u=[]),s=u.length>0?gr.parseCVAFromJSONObject(u):u,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}],n&&Ip(t.prototype,n),r&&Ip(t,r),e}();function Dp(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Rp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Dp(a,r,o,i,c,"next",e)}function c(e){Dp(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Np(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Up(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Np(Object(n),!0).forEach((function(t){xp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Np(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=Rp(regeneratorRuntime.mark((function e(t){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_REQUEST});case 2:return e.prev=2,e.next=5,t({type:l.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA,payload:null});case 5:return e.next=7,Cp.fetchControlValidationAuditTaskSubmission({uuid:n,secureToken:r});case 7:return o=e.sent,a={type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS,payload:o},e.next=11,t(a);case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(2),e.next=17,t({type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_FAILURE,error:e.t0});case 17:te.displayError(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}()}function Lp(e){return(Lp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qp(Object(n),!0).forEach((function(t){qp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vp(e,t){return(Vp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jp(e);if(t){var o=Jp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kp(this,n)}}function Kp(e,t){return!t||"object"!==Lp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jp(e){return(Jp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wp(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Yp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Wp(a,r,o,i,c,"next",e)}function c(e){Wp(a,r,o,i,c,"throw",e)}i(void 0)}))}}var Gp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vp(e,t)}(c,e);var t,n,r,a,i=Hp(c);function c(){return Fp(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"componentDidMount",value:(a=Yp(regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Mp({},this.props),n=t.uuid,r=t.dispatchLoadDataAction,o=t.secureToken,e.next=3,r(n,o);case 3:this.keepSessionActive=setInterval(function(){var e=Yp(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.getCSRFToken();case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),6e5);case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){clearInterval(this.keepSessionActive)}},{key:"renderCVAQuestionsForm",value:function(e){var t=this,n=this.props.controlValidationAuditData.productAspects,r=this.props.cvaSelectedComponents;return this.props.controlValidationAuditData.componentTarget,n.length>0&&r.length>0?this.renderComponentGroupByProductAspect(n,r,e):r.length>0?o.a.createElement("div",null,r.map((function(n){return t.renderComponent(n,e)}))):o.a.createElement("div",{className:"alert alert-warning",key:"unfinished_cs_task_message"},"No components have been selected. Please complete the component selection task with at least one component selected.")}},{key:"renderComponentGroupByProductAspect",value:function(e,t,n){var r=this;return o.a.createElement("div",null,e.map((function(e,a){var i=t.filter((function(t){return t.productAspect===e}));return 0==i.length?null:o.a.createElement("div",{className:"mt-2",key:a},o.a.createElement("h4",null,e),i.map((function(e){return r.renderComponent(e,n)})))})))}},{key:"renderComponent",value:function(e,t){var n=this,r=e.productAspect?"".concat(e.productAspect,"_").concat(e.id):e.id,a=e.controls,i=e.jiraTicketLink?o.a.createElement("a",{href:e.jiraTicketLink},e.jiraTicketLink):null;return o.a.createElement("div",{key:r},o.a.createElement("h5",null,e.name,i&&"JIRA Cloud"==this.props.controlValidationAuditData.componentTarget&&o.a.createElement("span",null," - ",i)),a&&a.length>0&&a.map((function(r){return n.renderControl(r,e,t)})),!a||0==a.length&&o.a.createElement("div",{className:"alert alert-warning",key:"no_controls_message"},"There are no controls for the component."))}},{key:"renderControl",value:function(e,t,n){var r=t.productAspect?"".concat(t.productAspect,"_").concat(t.id,"_").concat(e.id):"".concat(t.id,"_").concat(e.id);return"JIRA Cloud"===this.props.controlValidationAuditData.componentTarget?this.renderRemoteControls(e,r):this.renderLocalControl(e,r,t,n)}},{key:"renderLocalControl",value:function(e,t,n,r){var a=this,i=[{value:"Realised",label:"Yes"},{value:"Intended",label:"No"},{value:"Not Applicable",label:"N/A"}];return o.a.createElement("div",{className:"my-0 container row",key:t},o.a.createElement("div",{className:"col-xs-2"},i.map((function(i,c){return o.a.createElement("label",{key:"optionlabel_".concat(t,"_").concat(c)},o.a.createElement("input",{type:"radio",key:"radiobutton_".concat(t,"_").concat(c),name:t,value:i.value,defaultChecked:e.selectedOption===i.value,disabled:!r,onClick:function(){return a.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:i.value,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:e.implementationEvidenceUserInput})}}),i.label)}))),o.a.createElement("div",{className:"col-10"},o.a.createElement("label",{key:e.id},o.a.createElement("strong",null,e.name)),o.a.createElement(hs,{key:"controlInfo_".concat(e.id),id:e.id,name:"",description:e.description,implementationGuidance:e.implementationGuidance,implementationEvidence:e.implementationEvidence,implementationEvidenceUserInput:e.implementationEvidenceUserInput,showImplementationEvidence:!0,className:"text-muted",isCVATaskEditable:r,updateEvidenceTextareaData:function(t){return a.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:e.selectedOption,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:t})}})))}},{key:"renderRemoteControls",value:function(e,t){var n=e.selectedOption.toLowerCase().replace(" ","-");return o.a.createElement("div",{className:"my-0",key:t},o.a.createElement("label",{className:"ml-2",key:e.id},o.a.createElement("span",null,o.a.createElement("strong",null,e.name)," - "),o.a.createElement("span",{className:n},"(",e.selectedOption,")")))}},{key:"render",value:function(){var e=Mp({},this.props),t=e.siteConfig,n=e.currentUser,r=e.controlValidationAuditData,a=e.secureToken,i=e.dispatchSaveControlValidationAuditDataAction,c=e.cvaSelectedComponents,u=e.dispatchReSyncWithJira;if(!n||!r||!t)return null;var s=r.submitterID===n.id,l=Mi.isSRATaskFinalised(r.siblingSubmissions),f=s&&!l,p=f&&c.length>0?o.a.createElement(Gn,{title:"SUBMIT",onClick:function(){return i(r.uuid,c,r.questionnaireSubmissionUUID,a)}}):null,m=o.a.createElement(Bo,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){N.redirectToQuestionnaireSummary(r.questionnaireSubmissionUUID,a)}}),y=f&&"JIRA Cloud"==r.componentTarget&&c.length>0?o.a.createElement(Bo,{title:"RE SYNC WITH JIRA",onClick:function(){return u(r.uuid)}}):null;return o.a.createElement("div",{className:"ControlValidationAuditContainer"},o.a.createElement(Gr,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),"expired"===r.status&&o.a.createElement(Wi,null),"expired"!==r.status&&o.a.createElement("div",{className:"ControlValidationAuditResult",key:"0"},o.a.createElement("div",{className:"ControlValidationAuditForm"},o.a.createElement("h3",null,"Have These Controls Been Implemented?"),["start","in_progress"].includes(r.status)&&!s&&o.a.createElement(ml,null),(s||"complete"==r.status)&&o.a.createElement("div",null,!!l&&Mi.getSraIsFinalisedAlert(),this.renderCVAQuestionsForm(f))),o.a.createElement("div",{className:"buttons",key:"component_validation_buttons"},o.a.createElement("div",null,p,y,m))),o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText}))}}])&&Bp(t.prototype,n),r&&Bp(t,r),c}(r.Component),zp=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,controlValidationAuditData:e.controlValidationAuditState.controlValidationAuditData,cvaSelectedComponents:e.controlValidationAuditState.cvaSelectedComponents,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadDataAction:(n=Yp(regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e(Up({uuid:n,secureToken:r})),e(pu()),e(mn())]);case 2:case"end":return t.stop()}}),t)}))),function(e,t){return n.apply(this,arguments)}),dispatchSaveControlValidationAuditDataAction:function(t,n,r,o){e(function(e,t,n,r){return function(){var o=Rp(regeneratorRuntime.mark((function o(a){var i,c,u;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,_e.getCSRFToken();case 3:return i=o.sent,o.next=6,Cp.saveControlValidationAuditData({uuid:e,controlData:t,csrfToken:i});case 6:return c=o.sent,u={type:l.CVA.SAVE_CONTROL_VALIDATION_AUDIT_DATA,payload:c},o.next=10,a(u);case 10:N.redirectToQuestionnaireSummary(n,r),o.next=16;break;case 13:o.prev=13,o.t0=o.catch(0),te.displayError(o.t0);case 16:case"end":return o.stop()}}),o,null,[[0,13]])})));return function(e){return o.apply(this,arguments)}}()}(t,n,r,o))},dispatchUpdateControlValidationQuestionDataAction:function(t){var n;e((n=t,function(){var e=Rp(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:l.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA,payload:n},e.next=3,t(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},dispatchReSyncWithJira:function(t){e(function(e){return function(){var t=Rp(regeneratorRuntime.mark((function t(n){var r,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n({type:l.CVA.RE_SYNC_WITH_JIRA_REQUEST});case 2:return t.prev=2,t.next=5,_e.getCSRFToken();case 5:return r=t.sent,t.next=8,Cp.reSyncWithJira({uuid:e,csrfToken:r});case 8:return o=t.sent,a={type:l.CVA.RE_SYNC_WITH_JIRA_SUCCESS,payload:o},t.next=12,n(a);case 12:t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(2),t.next=18,n({type:l.CVA.RE_SYNC_WITH_JIRA_FAILURE,error:t.t0});case 18:te.displayError(t.t0);case 19:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}()}(t))}};var n}))(Gp),$p=n(45);function Zp(e){return(Zp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function em(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tm(e,t){return(tm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=om(e);if(t){var o=om(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rm(this,n)}}function rm(e,t){return!t||"object"!==Zp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function om(e){return(om=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var am=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tm(e,t)}(i,e);var t,n,r,a=nm(i);function i(){return Xp(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"loading-spinner-page-overlay"},o.a.createElement("div",{className:"loading-spinner"},o.a.createElement(is.Icon,{spin:!0,name:"spinner"})," Loading...")))}}])&&em(t.prototype,n),r&&em(t,r),i}(r.Component),im=n(786);function cm(e){return(cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function um(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lm(e,t){return(lm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mm(e);if(t){var o=mm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pm(this,n)}}function pm(e,t){return!t||"object"!==cm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mm(e){return(mm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ym=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lm(e,t)}(i,e);var t,n,r,a=fm(i);function i(){return um(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",null,this.props.loading&&o.a.createElement(am,null),o.a.createElement("main",null,o.a.createElement(u.a,null,o.a.createElement(s.a,{exact:!0,path:"/"},(function(){return o.a.createElement(kn,null)})),o.a.createElement(s.a,{path:"/questionnaire/start/:id"},(function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(co,{questionnaireID:t.params.id}))})),o.a.createElement(s.a,{path:"/questionnaire/submission/:hash"},(function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(ja,{submissionHash:t.params.hash}))})),o.a.createElement(s.a,{path:"/questionnaire/review/:hash"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object($p.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(ji,{submissionHash:t.params.hash,secureToken:r}))})),o.a.createElement(s.a,{path:"/questionnaire/summary/:hash"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object($p.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(vc,{submissionHash:t.params.hash,secureToken:r}))})),o.a.createElement(s.a,{path:"/task/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object($p.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(ku,{uuid:t.params.uuid,secureToken:r}))})),o.a.createElement(s.a,{path:"/tasks/standalone/:taskId"},(function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Uu,{taskId:t.params.taskId}))})),o.a.createElement(s.a,{path:"/component-selection/standalone/:taskId"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object($p.parse)(n.search).componentTarget),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(al,{taskId:t.params.taskId,componentTarget:r}))})),o.a.createElement(s.a,{path:"/component-selection/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object($p.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Tl,{uuid:t.params.uuid,secureToken:r}))})),o.a.createElement(s.a,{path:"/control-validation-audit/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object($p.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(zp,{uuid:t.params.uuid,secureToken:r}))})),o.a.createElement(s.a,{path:"/security-risk-assessment/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object($p.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(kp,{uuid:t.params.uuid,secureToken:r}))})),o.a.createElement(s.a,{path:"/MySubmissions"},(function(e){return e.match,o.a.createElement("div",{className:"gray-bg"},o.a.createElement(ql,null))})),o.a.createElement(s.a,{path:"/AwaitingApprovals"},(function(e){return e.match,o.a.createElement("div",{className:"gray-bg"},o.a.createElement(ef,null))})),o.a.createElement(s.a,{path:"/MyProducts"},(function(e){return e.match,o.a.createElement("div",{className:"gray-bg"},o.a.createElement(yf,null))})))))}}])&&sm(t.prototype,n),r&&sm(t,r),i}(r.Component),bm=Object(im.a)(Object(c.b)((function(e){return{loading:D.a.chain(e.loadingState).values().some((function(e){return e})).value()}}),(function(e,t){return{}}))(ym)),dm=n(784),hm=n(14),vm=(n(740),{title:"",subtitle:"",pillars:[],tasks:[]});function Om(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Om(Object(n),!0).forEach((function(t){gm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Om(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Em={title:"",subtitle:"",keyInformation:"",questionnaireID:"",user:null},wm={title:"",siteTitle:"",user:null,submission:null,isCurrentUserApprover:!1,isCurrentUserABusinessOwnerApprover:!1};var km=Object(hm.combineReducers)({startState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Em,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE?t.payload:e},submissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wm,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS)return t.payload;if(t.type===l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER){if(!e.submission)return e;var n=t.payload,r=e.submission.questions.findIndex((function(e){return e.id===n.id}));if(r<0)return e;var o=Sm({},e);return D.a.set(o,"submission.questions.".concat(r),n),o}if(t.type===l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION){var a=e.submission;if(!a)return e;var i=Sm({},t),c=i.targetIndex,u=a.questions.findIndex((function(e){return e.isCurrent}));if(c<0||c>=a.questions.length)return e;var s=Sm({},e);return D.a.set(s,"submission.questions.".concat(u,".isCurrent"),!1),D.a.set(s,"submission.questions.".concat(c,".isCurrent"),!0),s}if(t.type===l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE){var f=e.submission;if(!f)return e;var p=Sm({},e),m=t.nonApplicableIndexes;return m&&m.length>0&&m.forEach((function(e){var t=f.questions[e];t.isApplicable=!1,D.a.set(p,"submission.questions.".concat(e),t)})),p}return e}}),Tm=n(89),Am=n.n(Tm),jm=n(52),Pm=n.n(jm);function _m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Im(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_m(Object(n),!0).forEach((function(t){Cm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dm={taskSubmission:null};function Rm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rm(Object(n),!0).forEach((function(t){xm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Um={user:null};function Lm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lm(Object(n),!0).forEach((function(t){Mm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qm={siteConfig:null};var Fm=n(421),Bm=n.n(Fm);function Vm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vm(Object(n),!0).forEach((function(t){Km(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Km(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jm={availableComponents:[],selectedComponents:[],savedComponents:[],jiraTickets:[],viewMode:"edit"},Wm=Gu.isComponentExist,Ym=Gu.isSelectedComponentExist;function Gm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gm(Object(n),!0).forEach((function(t){$m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zm={awaitingApprovalList:[],awaitingApprovalTaskList:[],mySubmissionList:[],myProductList:[]};function Xm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ey(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xm(Object(n),!0).forEach((function(t){ty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ny={securityRiskAssessmentData:null,impactThresholdData:null};function ry(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ry(Object(n),!0).forEach((function(t){ay(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ry(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ay(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iy={controlValidationAuditData:null,cvaSelectedComponents:[]};Gu.isSelectedComponentExist;function cy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cy(Object(n),!0).forEach((function(t){sy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ly(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var py=Object(hm.combineReducers)({homeState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.HOME.LOAD_HOME_STATE_FINISHED:return t.payload;default:return e}},questionnaireState:km,taskSubmissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dm,t=arguments.length>1?arguments[1]:void 0,n=e.taskSubmission;if(t.type===l.TASK.LOAD_TASK_SUBMISSION)return{taskSubmission:t.payload};if(t.type===l.TASK.PUT_DATA_IN_TASK_SUBMISSION){if(!n)return e;var r=t.payload,o=n.questions.findIndex((function(e){return e.id===r.id}));if(o<0)return e;var a=Am()(e);return Pm()(a,"taskSubmission.questions.".concat(o),r),a}if(t.type===l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE){if(!n)return e;var i=Am()(e),c=t.payload;return c&&c.length>0&&c.forEach((function(e){var t=n.questions[e];t.isApplicable=!1,Pm()(i,"taskSubmission.questions.".concat(e),t)})),i}if(t.type===l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION){if(!n)return e;var u=Im({},t.payload),s=u.currentIndex,f=u.targetIndex;if(f<0||f>=n.questions.length)return e;var p=Am()(e);return Pm()(p,"taskSubmission.questions.".concat(s,".isCurrent"),!1),Pm()(p,"taskSubmission.questions.".concat(f,".isCurrent"),!0),p}if(t.type===l.TASK.COMPLETE_TASK_SUBMISSION){var m=Am()(e);return Pm()(m,"taskSubmission.status","complete"),t.payload&&Pm()(m,"taskSubmission.result",t.payload),m}if(t.type===l.TASK.EDIT_TASK_SUBMISSION){var y=Am()(e);return Pm()(y,"taskSubmission.status","in_progress"),Pm()(y,"taskSubmission.result",null),y}return e},currentUserState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Um,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.USER.SET_CURRENT_USER:return Nm(Nm({},e),{},{user:t.payload});default:return e}},siteConfigState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.SITE_CONFIG.LOAD_SITE_CONFIG:return Qm(Qm({},e),{},{siteConfig:t.payload});default:return e}},componentSelectionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jm,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS){var n=t;return Hm(Hm({},e),{},{availableComponents:n.payload})}if(t.type===l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT){var r=t,o=r.payload.id,a=r.payload.productAspect;if(!Ym(o,a,e.selectedComponents)&&Wm(o,e.availableComponents)){var i=e.availableComponents.filter((function(e){return e.id===o})),c=Object.assign({},i[0]);return c.productAspect=a,Hm(Hm({},e),{},{selectedComponents:Bm()(e.selectedComponents,c)})}}if(t.type===l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT){var u=t,s=u.payload.id,f=u.payload.productAspect;if(Ym(s,f,e.selectedComponents)&&Wm(s,e.availableComponents))return Hm(Hm({},e),{},{selectedComponents:e.selectedComponents.filter((function(e){return e.id!==s||e.productAspect!==f}))})}if(t.type===l.COMPONENT_SELECTION.SET_JIRA_TICKETS){var p=t;return Hm(Hm({},e),{},{jiraTickets:p.payload})}if(t.type===l.COMPONENT_SELECTION.SET_VIEW_MODE){var m=t;return Hm(Hm({},e),{},{viewMode:m.payload})}if(t.type===l.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS){var y=t;return Hm(Hm({},e),{},{selectedComponents:y.payload})}return e},questionnaireSubmissionListState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zm,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS?zm(zm({},e),{},{awaitingApprovalList:t.payload}):t.type===l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS?zm(zm({},e),{},{awaitingApprovalTaskList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS?zm(zm({},e),{},{mySubmissionList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS?zm(zm({},e),{},{myProductList:t.payload}):e},securityRiskAssessmentState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ny,t=arguments.length>1?arguments[1]:void 0;return t.type===l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS?ey(ey({},e),{},{securityRiskAssessmentData:t.payload}):t.type===l.SRA.LOAD_IMPACT_THRESHOLD?ey(ey({},e),{},{impactThresholdData:t.payload}):e},controlValidationAuditState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iy,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS){var n=t.payload,r=[];return n&&(r=n.selectedComponents,delete n.selectedComponents),oy(oy({},e),{},{controlValidationAuditData:n,cvaSelectedComponents:r})}if(t.type===l.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA){var o=t.payload.selectedOption,a=t.payload.productAspect,i=t.payload.controlID,c=t.payload.componentID,u=t.payload.implementationEvidenceUserInput,s=Object(C.cloneDeep)(e.cvaSelectedComponents),f=[];if((f=""!==a?s.filter((function(e){return e.id==c&&e.productAspect==a})):s.filter((function(e){return e.id==c}))).length>0){var p=f[0].controls.filter((function(e){return e.id==i}));if(p.length>0)return p[0].selectedOption=o,p[0].implementationEvidenceUserInput=u,oy(oy({},e),{},{cvaSelectedComponents:s})}}if(t.type===l.CVA.RE_SYNC_WITH_JIRA_SUCCESS){var m=t.payload;return oy(oy({},e),{},{cvaSelectedComponents:m})}if(t.type===l.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA){var y=t.payload;return oy(oy({},e),{},{controlValidationAuditData:y,cvaSelectedComponents:[]})}return e},loadingState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=/(.*)\/(REQUEST|SUCCESS|FAILURE)/.exec(n);if(!r)return e;var o=ly(r,3),a=(o[0],o[1]),i=o[2];return uy(uy({},e),{},sy({},a,"REQUEST"===i))}}),my=n(422),yy=[f.a];var by=Object(hm.createStore)(py,Object(my.composeWithDevTools)(hm.applyMiddleware.apply(void 0,yy)));function dy(e){return(dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oy(e,t){return(Oy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ey(e);if(t){var o=Ey(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gy(this,n)}}function gy(e,t){return!t||"object"!==dy(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ey(e){return(Ey=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ky(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wy(Object(n),!0).forEach((function(t){Ty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ay=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oy(e,t)}(i,e);var t,n,r,a=Sy(i);function i(){return hy(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,ky({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=ky({},this.props),t=e.siteConfig,n=e.taskSubmission,r=e.dispatchSaveAnsweredQuestionAction,a=e.dispatchMoveToPreviousQuestionAction,i=e.dispatchEditAnswersAction;return n&&t?o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(Gr,{title:n.taskName,subtitle:t.siteTitle,showLogoutButton:!1,logopath:t.logoPath}),o.a.createElement(cu,{taskSubmission:n,saveAnsweredQuestion:r,moveToPreviousQuestion:a,editAnswers:i,showBackButton:!1,showEditButton:!1,canUpdateAnswers:"in_progress"===n.status||"start"===n.status,siteConfig:t,siteTitle:t.siteTitle}),o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText})):null}}])&&vy(t.prototype,n),r&&vy(t,r),i}(r.Component),jy=Object(c.b)((function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadDataAction:function(){var n=ky({},t),r=n.uuid,o=n.secureToken;e(Vc({uuid:r,secureToken:o})),e(mn())},dispatchSaveAnsweredQuestionAction:function(n){var r=ky({},t).secureToken;e(Hc({answeredQuestion:n,secureToken:r}))},dispatchMoveToPreviousQuestionAction:function(n){var r=ky({},t).secureToken;e(Wc({targetQuestion:n,secureToken:r}))},dispatchEditAnswersAction:function(){var n=ky({},t).secureToken;e(Yc({secureToken:n}))}}}))(Ay);function Py(e){return(Py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cy(e,t){return(Cy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ny(e);if(t){var o=Ny(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ry(this,n)}}function Ry(e,t){return!t||"object"!==Py(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ny(e){return(Ny=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cy(e,t)}(i,e);var t,n,r,a=Dy(i);function i(){return _y(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("main",null,o.a.createElement(u.a,null,o.a.createElement(s.a,{path:"/task/submission/:uuid"},(function(e){var t=e.match,n=e.location,r=Object($p.parse)(n.search);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(jy,{uuid:t.params.uuid,secureToken:r.token||""}))})))))}}])&&Iy(t.prototype,n),r&&Iy(t,r),i}(r.Component);window.addEventListener("load",(function(){cc.a.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},content:{background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",padding:"20px"}};var e=document.getElementById("main-app");e&&i.a.render(o.a.createElement(dm.a,null,o.a.createElement(c.a,{store:by},o.a.createElement(bm,null))),e);var t=document.getElementById("vendor-app");t&&i.a.render(o.a.createElement(dm.a,null,o.a.createElement(c.a,{store:by},o.a.createElement(xy,null))),t)}))},83:function(e,t,n){e.exports=n.p+"../img/b0b707ee0bdf8b4add381179f4a89bf9.svg"},87:function(e,t,n){e.exports=n.p+"../img/64544011f835a0bcc13b668a98a70f78.svg"}});
//# sourceMappingURL=main.bundle.js.map