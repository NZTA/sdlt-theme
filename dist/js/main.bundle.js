!function(e){function t(t){for(var r,o,a=t[0],i=t[1],c=t[2],u=0,s=[];u<a.length;u++)o=a[u],Object.prototype.hasOwnProperty.call(C,o)&&C[o]&&s.push(C[o][0]),C[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(L&&L(t);s.length;)s.shift()();return R.push.apply(R,c||[]),n()}function n(){for(var e,t=0;t<R.length;t++){for(var n=R[t],r=!0,o=1;o<n.length;o++){var a=n[o];0!==C[a]&&(r=!1)}r&&(R.splice(t--,1),e=D(D.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!E[e]||!g[e])return;for(var n in g[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(b[n]=t[n]);0==--v&&0===O&&A()}(e,t),r&&r(e,t)};var o,a=!0,i="658ab04178c9a392a356",c={},u=[],s=[];function l(t){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:o!==t,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)n._acceptedDependencies[e[r]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,p){case"idle":(b={})[t]=e[t],m("ready");break;case"ready":_(t);break;case"prepare":case"check":case"dispose":case"apply":(h=h||[]).push(t)}},check:k,apply:j,status:function(e){if(!e)return p;f.push(e)},addStatusHandler:function(e){f.push(e)},removeStatusHandler:function(e){var t=f.indexOf(e);t>=0&&f.splice(t,1)},data:c[t]};return o=void 0,n}var f=[],p="idle";function m(e){p=e;for(var t=0;t<f.length;t++)f[t].call(null,e)}var y,b,d,h,v=0,O=0,S={},g={},E={};function w(e){return+e+""===e?+e:e}function k(e){if("idle"!==p)throw new Error("check() is only allowed in idle status");return a=e,m("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,o=D.p+"hot/hot-update.json";r.open("GET",o,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+o+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return m(P()?"ready":"idle"),null;g={},S={},E=e.c,d=e.h,m("prepare");var t=new Promise((function(e,t){y={resolve:e,reject:t}}));for(var n in b={},C)T(n);return"prepare"===p&&0===O&&0===v&&A(),t}));var t}function T(e){var t;E[e]?(g[e]=!0,v++,(t=document.createElement("script")).charset="utf-8",t.src=D.p+"hot/hot-update.js",document.head.appendChild(t)):S[e]=!0}function A(){m("ready");var e=y;if(y=null,e)if(a)Promise.resolve().then((function(){return j(a)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in b)Object.prototype.hasOwnProperty.call(b,n)&&t.push(w(n));e.resolve(t)}}function j(t){if("ready"!==p)throw new Error("apply() is only allowed in ready status");return function t(n){var r,a,s,l,f;function p(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var o=r.pop(),a=o.id,i=o.chain;if((l=I[a])&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:i,moduleId:a};if(l.hot._main)return{type:"unaccepted",chain:i,moduleId:a};for(var c=0;c<l.parents.length;c++){var u=l.parents[c],s=I[u];if(s){if(s.hot._declinedDependencies[a])return{type:"declined",chain:i.concat([u]),moduleId:a,parentId:u};-1===t.indexOf(u)&&(s.hot._acceptedDependencies[a]?(n[u]||(n[u]=[]),y(n[u],[a])):(delete n[u],t.push(u),r.push({chain:i.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}P();var v={},O=[],S={},g=function(){console.warn("[HMR] unexpected require("+T.moduleId+") to disposed module")};for(var k in b)if(Object.prototype.hasOwnProperty.call(b,k)){var T;f=w(k),T=b[k]?p(f):{type:"disposed",moduleId:k};var A=!1,j=!1,_=!1,R="";switch(T.chain&&(R="\nUpdate propagation: "+T.chain.join(" -> ")),T.type){case"self-declined":n.onDeclined&&n.onDeclined(T),n.ignoreDeclined||(A=new Error("Aborted because of self decline: "+T.moduleId+R));break;case"declined":n.onDeclined&&n.onDeclined(T),n.ignoreDeclined||(A=new Error("Aborted because of declined dependency: "+T.moduleId+" in "+T.parentId+R));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(T),n.ignoreUnaccepted||(A=new Error("Aborted because "+f+" is not accepted"+R));break;case"accepted":n.onAccepted&&n.onAccepted(T),j=!0;break;case"disposed":n.onDisposed&&n.onDisposed(T),_=!0;break;default:throw new Error("Unexception type "+T.type)}if(A)return m("abort"),Promise.reject(A);if(j)for(f in S[f]=b[f],y(O,T.outdatedModules),T.outdatedDependencies)Object.prototype.hasOwnProperty.call(T.outdatedDependencies,f)&&(v[f]||(v[f]=[]),y(v[f],T.outdatedDependencies[f]));_&&(y(O,[T.moduleId]),S[f]=g)}var N,x=[];for(a=0;a<O.length;a++)f=O[a],I[f]&&I[f].hot._selfAccepted&&S[f]!==g&&!I[f].hot._selfInvalidated&&x.push({module:f,parents:I[f].parents.slice(),errorHandler:I[f].hot._selfAccepted});m("dispose"),Object.keys(E).forEach((function(e){!1===E[e]&&function(e){delete C[e]}(e)}));var U,L,B=O.slice();for(;B.length>0;)if(f=B.pop(),l=I[f]){var Q={},M=l.hot._disposeHandlers;for(s=0;s<M.length;s++)(r=M[s])(Q);for(c[f]=Q,l.hot.active=!1,delete I[f],delete v[f],s=0;s<l.children.length;s++){var q=I[l.children[s]];q&&((N=q.parents.indexOf(f))>=0&&q.parents.splice(N,1))}}for(f in v)if(Object.prototype.hasOwnProperty.call(v,f)&&(l=I[f]))for(L=v[f],s=0;s<L.length;s++)U=L[s],(N=l.children.indexOf(U))>=0&&l.children.splice(N,1);m("apply"),void 0!==d&&(i=d,d=void 0);for(f in b=void 0,S)Object.prototype.hasOwnProperty.call(S,f)&&(e[f]=S[f]);var F=null;for(f in v)if(Object.prototype.hasOwnProperty.call(v,f)&&(l=I[f])){L=v[f];var V=[];for(a=0;a<L.length;a++)if(U=L[a],r=l.hot._acceptedDependencies[U]){if(-1!==V.indexOf(r))continue;V.push(r)}for(a=0;a<V.length;a++){r=V[a];try{r(L)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:f,dependencyId:L[a],error:e}),n.ignoreErrored||F||(F=e)}}}for(a=0;a<x.length;a++){var H=x[a];f=H.module,u=H.parents,o=f;try{D(f)}catch(e){if("function"==typeof H.errorHandler)try{H.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:f,error:t,originalError:e}),n.ignoreErrored||F||(F=t),F||(F=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:f,error:e}),n.ignoreErrored||F||(F=e)}}if(F)return m("fail"),Promise.reject(F);if(h)return t(n).then((function(e){return O.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return m("idle"),new Promise((function(e){e(O)}))}(t=t||{})}function P(){if(h)return b||(b={}),h.forEach(_),h=void 0,!0}function _(t){Object.prototype.hasOwnProperty.call(b,t)||(b[t]=e[t])}var I={},C={2:0},R=[];function D(t){if(I[t])return I[t].exports;var n=I[t]={i:t,l:!1,exports:{},hot:l(t),parents:(s=u,u=[],s),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=I[e];if(!t)return D;var n=function(n){return t.hot.active?(I[n]?-1===I[n].parents.indexOf(e)&&I[n].parents.push(e):(u=[e],o=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),u=[]),D(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return D[e]},set:function(t){D[e]=t}}};for(var a in D)Object.prototype.hasOwnProperty.call(D,a)&&"e"!==a&&"t"!==a&&Object.defineProperty(n,a,r(a));return n.e=function(e){return"ready"===p&&m("prepare"),O++,D.e(e).then(t,(function(e){throw t(),e}));function t(){O--,"prepare"===p&&(S[e]||T(e),0===O&&0===v&&A())}},n.t=function(e,t){return 1&t&&(e=n(e)),D.t(e,-2&t)},n}(t)),n.l=!0,n.exports}D.m=e,D.c=I,D.d=function(e,t,n){D.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},D.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},D.t=function(e,t){if(1&t&&(e=D(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(D.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)D.d(n,r,function(t){return e[t]}.bind(null,r));return n},D.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return D.d(t,"a",t),t},D.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},D.p="/resources/themes/sdlt/dist/img/",D.h=function(){return i};var N=window.webpackJsonp=window.webpackJsonp||[],x=N.push.bind(N);N.push=t,N=N.slice();for(var U=0;U<N.length;U++)t(N[U]);var L=x;R.push([435,0]),n()}({176:function(e,t,n){e.exports=n.p+"../img/f0545538d29150bca803dd2e1d422c11.jpg"},180:function(e,t,n){e.exports=n.p+"../img/b2ce59ecfcc515cb33d81013163089b9.svg"},408:function(e,t,n){e.exports=n.p+"../img/41e304962a77cf734f9bfe9772ab12b9.svg"},409:function(e,t,n){e.exports=n.p+"../img/0e61629440d7a6d860ba88aad4af303a.svg"},410:function(e,t,n){e.exports=n.p+"../img/442b4a253c2be23661dc12e64f264053.svg"},411:function(e,t,n){e.exports=n.p+"../img/2d7ab2e275175116af7444a221be9f74.svg"},413:function(e,t,n){e.exports=n.p+"../img/44cca0ef5b0830924492e8a8413b854e.svg"},414:function(e,t,n){e.exports=n.p+"../img/fb467c695d06bcd18d012bd28ff6f583.svg"},415:function(e,t,n){e.exports=n.p+"../img/8b14213bb682c2ce2e8b21f3ce9bb6f0.svg"},416:function(e,t,n){e.exports=n.p+"../img/b002cf666ac7512c21ad21462efdf4e8.svg"},417:function(e,t,n){e.exports=n.p+"../img/4b4872cec3cb197b21f4d3ac1b8ee472.jpg"},418:function(e,t,n){e.exports=n.p+"../img/d1029db2ceff54ee06b8dafcf9f6a671.jpg"},435:function(e,t,n){n(186),e.exports=n(820)},56:function(e,t,n){e.exports=n.p+"../img/4aa06b86ab33745eda39a0996b2a31bd.svg"},668:function(e,t,n){var r={"./af":237,"./af.js":237,"./ar":238,"./ar-dz":239,"./ar-dz.js":239,"./ar-kw":240,"./ar-kw.js":240,"./ar-ly":241,"./ar-ly.js":241,"./ar-ma":242,"./ar-ma.js":242,"./ar-sa":243,"./ar-sa.js":243,"./ar-tn":244,"./ar-tn.js":244,"./ar.js":238,"./az":245,"./az.js":245,"./be":246,"./be.js":246,"./bg":247,"./bg.js":247,"./bm":248,"./bm.js":248,"./bn":249,"./bn-bd":250,"./bn-bd.js":250,"./bn.js":249,"./bo":251,"./bo.js":251,"./br":252,"./br.js":252,"./bs":253,"./bs.js":253,"./ca":254,"./ca.js":254,"./cs":255,"./cs.js":255,"./cv":256,"./cv.js":256,"./cy":257,"./cy.js":257,"./da":258,"./da.js":258,"./de":259,"./de-at":260,"./de-at.js":260,"./de-ch":261,"./de-ch.js":261,"./de.js":259,"./dv":262,"./dv.js":262,"./el":263,"./el.js":263,"./en-au":264,"./en-au.js":264,"./en-ca":265,"./en-ca.js":265,"./en-gb":266,"./en-gb.js":266,"./en-ie":267,"./en-ie.js":267,"./en-il":268,"./en-il.js":268,"./en-in":269,"./en-in.js":269,"./en-nz":270,"./en-nz.js":270,"./en-sg":271,"./en-sg.js":271,"./eo":272,"./eo.js":272,"./es":273,"./es-do":274,"./es-do.js":274,"./es-mx":275,"./es-mx.js":275,"./es-us":276,"./es-us.js":276,"./es.js":273,"./et":277,"./et.js":277,"./eu":278,"./eu.js":278,"./fa":279,"./fa.js":279,"./fi":280,"./fi.js":280,"./fil":281,"./fil.js":281,"./fo":282,"./fo.js":282,"./fr":283,"./fr-ca":284,"./fr-ca.js":284,"./fr-ch":285,"./fr-ch.js":285,"./fr.js":283,"./fy":286,"./fy.js":286,"./ga":287,"./ga.js":287,"./gd":288,"./gd.js":288,"./gl":289,"./gl.js":289,"./gom-deva":290,"./gom-deva.js":290,"./gom-latn":291,"./gom-latn.js":291,"./gu":292,"./gu.js":292,"./he":293,"./he.js":293,"./hi":294,"./hi.js":294,"./hr":295,"./hr.js":295,"./hu":296,"./hu.js":296,"./hy-am":297,"./hy-am.js":297,"./id":298,"./id.js":298,"./is":299,"./is.js":299,"./it":300,"./it-ch":301,"./it-ch.js":301,"./it.js":300,"./ja":302,"./ja.js":302,"./jv":303,"./jv.js":303,"./ka":304,"./ka.js":304,"./kk":305,"./kk.js":305,"./km":306,"./km.js":306,"./kn":307,"./kn.js":307,"./ko":308,"./ko.js":308,"./ku":309,"./ku.js":309,"./ky":310,"./ky.js":310,"./lb":311,"./lb.js":311,"./lo":312,"./lo.js":312,"./lt":313,"./lt.js":313,"./lv":314,"./lv.js":314,"./me":315,"./me.js":315,"./mi":316,"./mi.js":316,"./mk":317,"./mk.js":317,"./ml":318,"./ml.js":318,"./mn":319,"./mn.js":319,"./mr":320,"./mr.js":320,"./ms":321,"./ms-my":322,"./ms-my.js":322,"./ms.js":321,"./mt":323,"./mt.js":323,"./my":324,"./my.js":324,"./nb":325,"./nb.js":325,"./ne":326,"./ne.js":326,"./nl":327,"./nl-be":328,"./nl-be.js":328,"./nl.js":327,"./nn":329,"./nn.js":329,"./oc-lnc":330,"./oc-lnc.js":330,"./pa-in":331,"./pa-in.js":331,"./pl":332,"./pl.js":332,"./pt":333,"./pt-br":334,"./pt-br.js":334,"./pt.js":333,"./ro":335,"./ro.js":335,"./ru":336,"./ru.js":336,"./sd":337,"./sd.js":337,"./se":338,"./se.js":338,"./si":339,"./si.js":339,"./sk":340,"./sk.js":340,"./sl":341,"./sl.js":341,"./sq":342,"./sq.js":342,"./sr":343,"./sr-cyrl":344,"./sr-cyrl.js":344,"./sr.js":343,"./ss":345,"./ss.js":345,"./sv":346,"./sv.js":346,"./sw":347,"./sw.js":347,"./ta":348,"./ta.js":348,"./te":349,"./te.js":349,"./tet":350,"./tet.js":350,"./tg":351,"./tg.js":351,"./th":352,"./th.js":352,"./tk":353,"./tk.js":353,"./tl-ph":354,"./tl-ph.js":354,"./tlh":355,"./tlh.js":355,"./tr":356,"./tr.js":356,"./tzl":357,"./tzl.js":357,"./tzm":358,"./tzm-latn":359,"./tzm-latn.js":359,"./tzm.js":358,"./ug-cn":360,"./ug-cn.js":360,"./uk":361,"./uk.js":361,"./ur":362,"./ur.js":362,"./uz":363,"./uz-latn":364,"./uz-latn.js":364,"./uz.js":363,"./vi":365,"./vi.js":365,"./x-pseudo":366,"./x-pseudo.js":366,"./yo":367,"./yo.js":367,"./zh-cn":368,"./zh-cn.js":368,"./zh-hk":369,"./zh-hk.js":369,"./zh-mo":370,"./zh-mo.js":370,"./zh-tw":371,"./zh-tw.js":371};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=668},758:function(e,t){},820:function(e,t,n){"use strict";n.r(t);n(436),n(438),n(439),n(441),n(442),n(443),n(445),n(446),n(135),n(449),n(450),n(451),n(452),n(453),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(467),n(468),n(469),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(478),n(479),n(480),n(481),n(482),n(483),n(484),n(486),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(496),n(497),n(498),n(499),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(509),n(512),n(513),n(514),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(205),n(528),n(530),n(531),n(532),n(533),n(534),n(535),n(537),n(538),n(539),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(558),n(559),n(560),n(561),n(562),n(563),n(564),n(565),n(566),n(567),n(568),n(569),n(570),n(571),n(572),n(573),n(574),n(575),n(576),n(577),n(578);var r=n(0),o=n.n(r),a=n(55),i=n.n(a),c=n(11),u=n(838),s=n(836),l={HOME:{LOAD_HOME_STATE_STARTED:"LOAD_HOME_STATE_STARTED",LOAD_HOME_STATE_FAILED:"LOAD_HOME_STATE_FAILED",LOAD_HOME_STATE_FINISHED:"LOAD_HOME_STATE_FINISHED"},QUESTIONNAIRE:{LOAD_QUESTIONNAIRE_START_STATE:"LOAD_QUESTIONNAIRE_START_STATE",PUT_DATA_IN_QUESTIONNAIRE_ANSWER:"PUT_DATA_IN_QUESTIONNAIRE_ANSWER",MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION:"MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION",MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE:"MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE",FETCH_MY_SUBMISSION_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/REQUEST",FETCH_MY_SUBMISSION_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/SUCCESS",FETCH_MY_SUBMISSION_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/FAILURE",FETCH_AWAITING_APPROVAL_LIST_REQUEST:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/REQUEST",FETCH_AWAITING_APPROVAL_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_LIST_FAILURE:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/FAILURE",FETCH_MY_PRODUCT_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/REQUEST",FETCH_MY_PRODUCT_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/SUCCESS",FETCH_MY_PRODUCT_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/FAILURE",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/REQUEST",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/SUCCESS",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/FAILURE"},TASK:{LOAD_TASK_SUBMISSION:"ACTION_TASK_LOAD_TASK_SUBMISSION",PUT_DATA_IN_TASK_SUBMISSION:"ACTION_TASK_PUT_DATA_IN_TASK_SUBMISSION",MARK_TASK_QUESTION_NOT_APPLICABLE:"ACTION_TASK_MARK_TASK_QUESTION_NOT_APPLICABLE",MOVE_TO_ANOTHER_TASK_QUESTION:"ACTION_TASK_MOVE_TO_ANOTHER_TASK_QUESTION",COMPLETE_TASK_SUBMISSION:"ACTION_TASK_COMPLETE_TASK_SUBMISSION",EDIT_TASK_SUBMISSION:"ACTION_TASK_EDIT_TASK_SUBMISSION",SAVE_SELECTED_COMPONENT_REQUEST:"TASK/SAVE_SELECTED_COMPONENT/REQUEST",SAVE_SELECTED_COMPONENT_SUCCESS:"TASK/SAVE_SELECTED_COMPONENT/SUCCESS",SAVE_SELECTED_COMPONENT_FAILURE:"TASK/SAVE_SELECTED_COMPONENT/FAILURE",FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/REQUEST",FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/FAILURE"},COMPONENT_SELECTION:{SET_AVAILABLE_COMPONENTS:"ACTION_COMPONENT_SELECTION_SET_AVAILABLE_COMPONENTS",ADD_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_ADD_SELECTED_COMPONENT",REMOVE_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_REMOVE_SELECTED_COMPONENT",SET_JIRA_TICKETS:"ACTION_COMPONENT_SELECTION_SET_JIRA_TICKETS",SET_VIEW_MODE:"ACTION_COMPONENT_SELECTION_SET_VIEW_MODE",LOAD_SELECTED_COMPONENTS:"COMPONENTSELECTION/LOAD_SELECTED_COMPONENTS"},SRA:{LOAD_SECURITY_RISK_ASSESSMENT_REQUEST:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/REQUEST",LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/SUCCESS",LOAD_SECURITY_RISK_ASSESSMENT_FAILURE:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/FAILURE",LOAD_IMPACT_THRESHOLD:"SRA/LOAD_IMPACT_THRESHOLD"},CVA:{LOAD_CONTROL_VALIDATION_AUDIT_REQUEST:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/REQUEST",LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/SUCCESS",LOAD_CONTROL_VALIDATION_AUDIT_FAILURE:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/FAILURE",EMPTY_CONTROL_VALIDATION_AUDIT_DATA:"CVA/EMPTY_CONTROL_VALIDATION_AUDIT_DATA",UPDATE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/UPDATE_CONTROL_VALIDATION_AUDIT_DATA",SAVE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/SAVE_CONTROL_VALIDATION_AUDIT_DATA",RE_SYNC_WITH_JIRA_REQUEST:"CVA/RE_SYNC_WITH_JIRA/REQUEST",RE_SYNC_WITH_JIRA_SUCCESS:"CVA/RE_SYNC_WITH_JIRA/SUCCESS",RE_SYNC_WITH_JIRA_FAILURE:"CVA/RE_SYNC_WITH_JIRA/FAILURE"},UI:{LOAD_DATA_STARTED:"LOAD_DATA_STARTED",LOAD_DATA_FAILED:"LOAD_DATA_FAILED",LOAD_DATA_FINISHED:"LOAD_DATA_FINISHED"},USER:{SET_CURRENT_USER:"ACTION_USER_SET_CURRENT_USER"},SITE_CONFIG:{LOAD_SITE_CONFIG:"SITE_CONFIG/LOAD_SITE_CONFIG"}},f=n(40),p=n(180),m=n.n(p),y=n(408),b=n.n(y),d=n(409),h=n.n(d),v=n(410),O=n.n(v),S=n(411),g=n.n(S),E=n(4),w=n.n(E),k=n(5),T=n.n(k),A=n(412),j=n.n(A),P=n(119),I=n.n(P),C=n(1),R=n.n(C);function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var N=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"redirectToQuestionnaireEditing",value:function(e){window.location.href="/#/questionnaire/submission/".concat(e)}},{key:"redirectToQuestionnaireReview",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/review/".concat(e,"?token=").concat(t):"/#/questionnaire/review/".concat(e)}},{key:"redirectToQuestionnaireSummary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/summary/".concat(e,"?token=").concat(t):"/#/questionnaire/summary/".concat(e)}},{key:"redirectToTaskSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/task/submission/".concat(e);if(t&&(r="/task/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToComponentSelectionSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/component-selection/submission/".concat(e);if(t&&(r="/component-selection/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToSecurityRiskAssessment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/security-risk-assessment/submission/".concat(e);if(t&&(r="/security-risk-assessment/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToControlValidationAudit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/control-validation-audit/submission/".concat(e);if(t&&(r="/control-validation-audit/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToLogout",value:function(){window.location.href="/Security/Logout"}},{key:"redirectToLogin",value:function(){window.location.href="/Security/login?BackURL=%2F"}},{key:"redirectToHome",value:function(){window.location.href="/"}}],(n=null)&&D(t.prototype,n),r&&D(t,r),e}();function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"request",value:(o=regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=U({},t),r=n.query,o=n.variables,a=n.csrfToken,i={},a&&(i["X-CSRF-TOKEN"]=a),c={query:j()(r),variables:o},e.next=6,I.a.request({url:"/graphql",method:"post",data:c,headers:i});case 6:if(u=e.sent,s=u.data,!(l=R.a.get(s,"errors.0.message",null))){e.next=11;break}throw new Error(l);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){B(a,n,r,i,c,"next",e)}function c(e){B(a,n,r,i,c,"throw",e)}i(void 0)}))},function(e){return a.apply(this,arguments)})}],n&&Q(t.prototype,n),r&&Q(t,r),e}(),q=new Error("There is an error when fetching data..."),F=new Error("There is an error when parsing data...");function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var J=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseQuestionsFromJSON",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=t.schemaJSON,r=t.answersJSON,o=function(e){var t=JSON.parse(e);if(!t||!Array.isArray(t))throw F;return t}(n),a=function(e){if(!e)return{};var t=JSON.parse(e),n={};return t&&R.a.keys(t).forEach((function(e){n[R.a.toString(e)]=t[e]})),n}(r),i=function(e){var t="";return R.a.keys(e).forEach((function(n){var r=e[n];!t&&Boolean(R.a.get(r,"isCurrent",!1))&&(t=n)})),t}(a);return o.map((function(e,t){var n=R.a.toString(R.a.get(e,"ID","")),r=Boolean(R.a.get(a,"".concat(n,".hasAnswer"),!1)),o=Boolean(R.a.get(a,"".concat(n,".isApplicable"),!0)),c=!1;c=i?i===n:0===t;var u=null,s=null,l=r?R.a.get(a,"".concat(n,".inputs"),[]):[],f=r?R.a.get(a,"".concat(n,".actions"),[]):[],p=R.a.get(e,"AnswerInputFields",[]),m=R.a.get(e,"AnswerActionFields",[]);p&&Array.isArray(p)&&p.length>0&&(u=p.map((function(e){var t=R.a.toString(R.a.get(e,"InputType","")).toLowerCase();"multiple-choice: single selection"===t&&(t="radio"),"multiple-choice: multiple selection"===t&&(t="checkbox"),["text","email","textarea","product aspects","date","url","radio","checkbox","release date"].includes(t)||(t="text");var n=R.a.toString(R.a.get(e,"ID","")),r={id:n,label:R.a.toString(R.a.get(e,"Label","")),type:t,required:Boolean(R.a.toInteger(R.a.get(e,"Required",!1))),minLength:Number.parseInt(R.a.toString(R.a.get(e,"MinLength",0))),maxLength:Number.parseInt(R.a.toString(R.a.get(e,"MaxLength",0))),placeholder:R.a.toString(R.a.get(e,"PlaceHolder","")),options:R.a.has(e,"MultiChoiceAnswer")?JSON.parse(R.a.get(e,"MultiChoiceAnswer","")):"",defaultRadioButtonValue:R.a.has(e,"MultiChoiceSingleAnswerDefault")?R.a.toString(R.a.get(e,"MultiChoiceSingleAnswerDefault","")):"",defaultCheckboxValue:R.a.has(e,"MultiChoiceMultipleAnswerDefault")?R.a.get(e,"MultiChoiceMultipleAnswerDefault",""):"",data:null};if(l&&Array.isArray(l)&&l.length>0){var o=R.a.head(l.filter((function(e){return e.id===n})));if(o){var a=R.a.toString(R.a.get(o,"data",null));a&&(r.data=a)}}return r}))),m&&Array.isArray(m)&&m.length>0&&(s=m.map((function(e){var t=R.a.toString(R.a.get(e,"ActionType","")).toLowerCase();["continue","goto","message","finish"].includes(t)||(t="continue");var n=R.a.toString(R.a.get(e,"ID","")),r={id:n,label:R.a.toString(R.a.get(e,"Label","")),type:t,isChose:!1};"message"===t&&(r.message=R.a.toString(R.a.get(e,"Message",""))),"goto"===t&&(r.goto=R.a.toString(R.a.get(e,"GotoID",""))),"finish"===t&&(r.result=R.a.toString(R.a.get(e,"Result","")));var o=R.a.toString(R.a.get(e,"TaskID",""));if(r.taskID=o,f&&Array.isArray(f)&&f.length>0){var a=R.a.head(f.filter((function(e){return e.id===n})));if(a){var i=Boolean(R.a.get(a,"isChose",!1));r.isChose=i}}return r})));var y={id:n,title:R.a.toString(R.a.get(e,"Title","")),heading:R.a.toString(R.a.get(e,"Question","")),description:R.a.toString(R.a.get(e,"Description","")),type:"input"===R.a.toString(R.a.get(e,"AnswerFieldType","")).toLowerCase()?"input":"action",isCurrent:c,hasAnswer:r,isApplicable:o};return u&&(y.inputs=u),s&&(y.actions=s),y}))}}],(n=null)&&K(t.prototype,n),r&&K(t,r),e}(),W=n(82),Y=n.n(W);function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONObject",value:function(e){var t=T()(w()(e,"ID","")),n=T()(w()(e,"Name","")),r=T()(w()(e,"ComponentTarget","")),o=T()(w()(e,"TaskType",""));switch(o){case"questionnaire":case"selection":break;default:o="questionnaire"}var a=[],i=T()(w()(e,"QuestionsDataJSON",""));return i&&(a=J.parseQuestionsFromJSON({schemaJSON:i,answersJSON:"{}"})),{id:t,name:n,type:o,componentTarget:r,questions:a}}},{key:"parseLikelihoodJSONObject",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return t?Y()(t).map((function(e){return{name:T()(w()(e,"Name")),value:T()(w()(e,"Value")),operator:T()(w()(e,"Operator")),colour:T()(w()(e,"Colour"))}})):[]}},{key:"parseAlltaskSubmissionforQuestionnaire",value:function(e){if(!e)return[];var t=w()(e,"QuestionnaireSubmission.TaskSubmissions","");return"questionnaire"===w()(e,"Submission.TaskType","")?[]:t?t.map((function(e){return{uuid:T()(w()(e,"UUID")),taskType:T()(w()(e,"TaskType")),status:T()(w()(e,"Status"))}})):[]}}],(n=null)&&G(t.prototype,n),r&&G(t,r),e}();function $(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var X=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"fetchHomeData",value:(o=regeneratorRuntime.mark((function e(){var t,n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,M.request({query:"\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n      ComponentTarget\n    }\n  }\n}"});case 3:if(t=e.sent,n=w()(t,"data.readDashboard",[]),Array.isArray(n)&&0!==n.length){e.next=7;break}throw q;case 7:return r=n[0],o=T()(w()(r,"Title","")),a=T()(w()(r,"Subtitle","")),i=w()(r,"Pillars",[]),c=this.parsePillars(i),u=w()(r,"Tasks",[]),s=this.parseTasks(u),e.abrupt("return",{title:o,subtitle:a,pillars:c,tasks:s});case 15:case"end":return e.stop()}}),e,this)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){$(a,n,r,i,c,"next",e)}function c(e){$(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})},{key:"parsePillars",value:function(e){return Array.isArray(e)?e.map((function(e){var t=m.a;switch(e.Type){case"proof_of_concept":t=m.a;break;case"software_as_service":t=b.a;break;case"product_project_or_solution":t=h.a;break;case"feature_or_bug_fix":t=O.a;break;case"risk_questionnaire":t=g.a}return{title:T()(w()(e,"Label","")),disabled:Boolean(w()(e,"Disabled",!0)),questionnaireID:T()(w()(e,"Questionnaire.0.ID","")),icon:t}})):[]}},{key:"parseTasks",value:function(e){if(!Array.isArray(e))return[];var t=[];return e.forEach((function(e){var n=z.parseFromJSONObject(e);t.push(n)})),t}}],n&&Z(t.prototype,n),r&&Z(t,r),e}();function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var te=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"displayError",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(alert(e),t)throw e}}],(n=null)&&ee(t.prototype,n),r&&ee(t,r),e}();function ne(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function re(){return function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.fetchHomeData();case 3:n=e.sent,r={type:l.HOME.LOAD_HOME_STATE_FINISHED,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),te.displayError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ne(a,r,o,i,c,"next",e)}function c(e){ne(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()}var oe=n(835);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(i,e);var t,n,r,a=fe(i);function i(){return ue(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=["Pillar"].concat(ie(this.props.classes));return this.props.pillar.disabled&&t.push("disabled"),o.a.createElement(oe.a,{className:t.join(" "),to:this.props.link,onClick:function(t){e.props.pillar.disabled&&(t.preventDefault(),alert("Coming soon..."))}},o.a.createElement("div",{className:"icon"},o.a.createElement("img",{src:this.props.pillar.icon,alt:this.props.pillar.title})),o.a.createElement("div",{className:"title"},this.props.pillar.title))}}])&&se(t.prototype,n),r&&se(t,r),i}(r.Component);function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e){return function(e){if(Array.isArray(e))return he(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=we(e);if(t){var o=we(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ee(this,n)}}function Ee(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(i,e);var t,n,r,a=ge(i);function i(){return ve(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=["TaskButton"].concat(de(this.props.classes));return o.a.createElement(oe.a,{className:e.join(" "),to:this.props.link},this.props.title)}}])&&Oe(t.prototype,n),r&&Oe(t,r),i}(r.Component),Te=n(413),Ae=n.n(Te);function je(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _e=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"getCSRFToken",value:(o=regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.request({url:"/getCSRFToken",method:"get",headers:{"x-requested-with":"XMLHttpRequest"}});case 2:if(t=e.sent,n=t.data,r=R.a.get(n,"CSRFToken",null)){e.next=7;break}throw new Error(n);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){je(a,n,r,i,c,"next",e)}function c(e){je(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})}],n&&Pe(t.prototype,n),r&&Pe(t,r),e}();function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qe(e);if(t){var o=Qe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Be(this,n)}}function Be(e,t){return!t||"object"!==Ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(u,e);var t,n,r,a,i,c=Le(u);function u(){return Ne(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.logout()}},o.a.createElement("div",null,o.a.createElement("img",{src:Ae.a}),"Log Out"))}},{key:"logout",value:(a=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.getCSRFToken();case 2:t=e.sent,window.location.href="/Security/Logout?SecurityID=".concat(t);case 4:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){Ce(o,n,r,i,c,"next",e)}function c(e){Ce(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&xe(t.prototype,n),r&&xe(t,r),u}(r.Component);Me.defaultProps={classes:[]};var qe=Me,Fe=n(83),Ve=n.n(Fe);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xe(e);if(t){var o=Xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ze(this,n)}}function Ze(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(u,e);var t,n,r,a,i,c=$e(u);function u(){return Ye(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.allSubmission()}},o.a.createElement("div",null,o.a.createElement("img",{src:Ve.a}),"My Submissions"))}},{key:"allSubmission",value:(a=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MySubmissions";case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){Ke(o,n,r,i,c,"next",e)}function c(e){Ke(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&Ge(t.prototype,n),r&&Ge(t,r),u}(r.Component);et.defaultProps={classes:[]};var tt=et,nt=n(414),rt=n.n(nt);function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function st(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mt(e);if(t){var o=mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pt(this,n)}}function pt(e,t){return!t||"object"!==ot(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(u,e);var t,n,r,a,i,c=ft(u);function u(){return ut(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.awaitingApprovals()}},o.a.createElement("div",null,o.a.createElement("img",{src:rt.a}),"Awaiting Approvals"))}},{key:"awaitingApprovals",value:(a=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/AwaitingApprovals";case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){at(o,n,r,i,c,"next",e)}function c(e){at(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&st(t.prototype,n),r&&st(t,r),u}(r.Component);yt.defaultProps={classes:[]};var bt=yt,dt=n(415),ht=n.n(dt);function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jt(e);if(t){var o=jt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return At(this,n)}}function At(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(u,e);var t,n,r,a,i,c=Tt(u);function u(){return Et(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.allSubmission()}},o.a.createElement("div",null,o.a.createElement("img",{src:ht.a}),"My Products"))}},{key:"allSubmission",value:(a=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MyProducts";case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){Ot(o,n,r,i,c,"next",e)}function c(e){Ot(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&wt(t.prototype,n),r&&wt(t,r),u}(r.Component);Pt.defaultProps={classes:[]};var _t=Pt;function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){Dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qt(e);if(t){var o=Qt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bt(this,n)}}function Bt(e,t){return!t||"object"!==It(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(i,e);var t,n,r,a=Lt(i);function i(){return Nt(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=Rt({},this.props.homeState),t=e.title,n=e.subtitle,r=e.pillars,a=e.tasks,i=Rt({},this.props.siteConfig).logoPath;return o.a.createElement("div",{className:"Home"},o.a.createElement(qe,{classes:["clearfix","float-right","mt-5","mr-4"]}),o.a.createElement(tt,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement(bt,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement(_t,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement("div",{className:"layout"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:i,className:"logo"})),o.a.createElement("h1",null,t),o.a.createElement("h2",null,n),o.a.createElement("div",{className:"pillars"},o.a.createElement("div",{className:"row"},r.map((function(e,t){return o.a.createElement(ye,{link:"/questionnaire/start/".concat(e.questionnaireID),classes:["col","mx-1"],pillar:e,key:"pillar_"+(t+1)})})))),o.a.createElement("div",{className:"tasks"},a.map((function(e,t){var n="/tasks/standalone/".concat(e.id);return"selection"===e.type&&(n="/component-selection/standalone/".concat(e.id,"?componentTarget=").concat(e.componentTarget)),o.a.createElement(ke,{link:n,classes:["mx-1"],title:e.name,key:"standalone_task_"+(t+1)})})))))}}])&&xt(t.prototype,n),r&&xt(t,r),i}(r.Component);function qt(e){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e,t){return(Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gt(e);if(t){var o=Gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yt(this,n)}}function Yt(e,t){return!t||"object"!==qt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}(i,e);var t,n,r,a=Wt(i);function i(){return Ht(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){Vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).footerCopyrightText;return o.a.createElement("footer",{className:"Footer"},o.a.createElement("div",null,e))}}])&&Kt(t.prototype,n),r&&Kt(t,r),i}(r.Component);zt.defaultProps={footerCopyrightText:""};var $t=zt,Zt=n(176),Xt=n.n(Zt),en=n(416),tn=n.n(en),nn=n(417),rn=n.n(nn),on=n(418),an=n.n(on);function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var un=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseSiteConfigFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=String.fromCharCode(169)+" NZTA "+(new Date).getFullYear();return{siteTitle:T()(w()(t,"Title")||"NZTA SDLT"),footerCopyrightText:T()(w()(t,"FooterCopyrightText","")||n),logoPath:T()(w()(t,"LogoPath","")||tn.a),homePageBackgroundImagePath:T()(w()(t,"HomePageBackgroundImagePath","")||Xt.a),pdfHeaderImageLink:T()(w()(t,"PdfHeaderImageLink","")||rn.a),pdfFooterImageLink:T()(w()(t,"PdfFooterImageLink","")||an.a)}}}],(n=null)&&cn(t.prototype,n),r&&cn(t,r),e}();function sn(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var fn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"fetchSiteConfig",value:(o=regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,M.request({query:"\nquery {\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}"});case 3:return t=e.sent,n=R.a.get(t,"data.readSiteConfig.0",null),r=un.parseSiteConfigFromJSON(n),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){sn(a,n,r,i,c,"next",e)}function c(e){sn(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})}],n&&ln(t.prototype,n),r&&ln(t,r),e}();function pn(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function mn(){return function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fn.fetchSiteConfig();case 3:n=e.sent,r={type:l.SITE_CONFIG.LOAD_SITE_CONFIG,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),te.displayError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){pn(a,r,o,i,c,"next",e)}function c(e){pn(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()}function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function On(e,t){return(On=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=En(e);if(t){var o=En(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gn(this,n)}}function gn(e,t){return!t||"object"!==yn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&On(e,t)}(i,e);var t,n,r,a=Sn(i);function i(){return hn(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){this.props.dispatchLoadHomeDataAction&&this.props.dispatchLoadHomeDataAction()}},{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach((function(t){dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.siteConfig,n=e.homeState;return n&&t?o.a.createElement("div",{className:"HomeContainer",style:{backgroundImage:'url("'.concat(t.homePageBackgroundImagePath,'")'),backgroundSize:"cover"}},o.a.createElement(Mt,{homeState:n,siteConfig:t}),o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText})):null}}])&&vn(t.prototype,n),r&&vn(t,r),i}(r.Component),kn=Object(c.b)((function(e){return{homeState:e.homeState,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadHomeDataAction:function(){e(re()),e(mn())}}}))(wn),Tn=n(177),An=n.n(Tn);function jn(e){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function In(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rn(e,t){return(Rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xn(e);if(t){var o=xn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nn(this,n)}}function Nn(e,t){return!t||"object"!==jn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xn(e){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Un=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rn(e,t)}(i,e);var t,n,r,a=Dn(i);function i(){return In(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){_n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.title,n=e.classes,r=e.disabled,a=e.onClick,i=e.iconImage,c=null;return i&&(c=o.a.createElement("img",{src:i})),o.a.createElement("button",{className:An()("BaseButton",n,{disabled:r}),onClick:function(e){r?e.preventDefault():a(e)}},c,t)}}])&&Cn(t.prototype,n),r&&Cn(t,r),i}(r.Component);Un.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Ln=Un;function Bn(e){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qn(){return(Qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Mn(e){return function(e){if(Array.isArray(e))return qn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hn(e,t){return(Hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wn(e);if(t){var o=Wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jn(this,n)}}function Jn(e,t){return!t||"object"!==Bn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wn(e){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Yn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hn(e,t)}(i,e);var t,n,r,a=Kn(i);function i(){return Fn(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(Ln,Qn({},this.props,{classes:["LightButton"].concat(Mn(this.props.classes))}))}}])&&Vn(t.prototype,n),r&&Vn(t,r),i}(r.Component);Yn.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Gn=Yn;function zn(e){return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xn(e,t){return(Xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function er(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nr(e);if(t){var o=nr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tr(this,n)}}function tr(e,t){return!t||"object"!==zn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xn(e,t)}(i,e);var t,n,r,a=er(i);function i(){return $n(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.keyInformation,n=e.user,r=e.onStartButtonClick;return o.a.createElement("div",{className:"Start"},o.a.createElement("div",{className:"start-form"},o.a.createElement("div",{className:"info-box"},o.a.createElement("div",{className:"key-info-title"},"Key Information:"),o.a.createElement("div",{className:"key-info",dangerouslySetInnerHTML:{__html:t}}),o.a.createElement("div",{className:"user-info"},o.a.createElement("div",{className:"info-line"},o.a.createElement("b",null,"Your Name: "),o.a.createElement("span",null,n.name)),o.a.createElement("div",{className:"info-line"},o.a.createElement("b",null,"Email Address: "),o.a.createElement("span",null,n.email))),o.a.createElement("div",{className:"actions"},o.a.createElement(Gn,{title:"START",onClick:r})))))}}])&&Zn(t.prototype,n),r&&Zn(t,r),i}(r.Component);function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ar=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseUserFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=w()(t,"FirstName")?T()(w()(t,"FirstName",""))+" "+T()(w()(t,"Surname","")):"";return{id:T()(w()(t,"ID")),name:n,email:w()(t,"Email"),isSA:"true"===T()(w()(t,"IsSA")),isCISO:"true"===T()(w()(t,"IsCISO"))}}}],(n=null)&&or(t.prototype,n),r&&or(t,r),e}();function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(n),!0).forEach((function(t){ur(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sr(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function lr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){sr(a,r,o,i,c,"next",e)}function c(e){sr(a,r,o,i,c,"throw",e)}i(void 0)}))}}function fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var pr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a,i,c,u,s,l,f,p,m,y,b,d,h;return t=e,n=null,r=[{key:"createInProgressSubmission",value:(h=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.questionnaireID,o=n.csrfToken,a="\nmutation {\n createQuestionnaireSubmission(QuestionnaireID: ".concat(r,"){\n   UUID\n }\n}"),e.next=4,M.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=R.a.get(i,"data.createQuestionnaireSubmission.UUID",null)){e.next=8;break}throw q;case 8:return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)})},{key:"fetchStartData",value:(d=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="\nquery {\n  readCurrentMember {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n  readQuestionnaire(ID: ".concat(t,") {\n    ID\n    Name\n    KeyInformation\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}\n"),e.next=3,M.request({query:n});case 3:if(r=e.sent,o=R.a.get(r,"data.readCurrentMember.0",null),a=R.a.get(r,"data.readQuestionnaire",null),i=R.a.get(r,"data.readSiteConfig.0",null),o&&a&&i){e.next=9;break}throw q;case 9:return e.abrupt("return",{title:R.a.get(a,"Name",""),siteConfig:un.parseSiteConfigFromJSON(i),subtitle:R.a.get(i,"Title",""),questionnaireID:R.a.get(a,"ID",""),keyInformation:R.a.get(a,"KeyInformation",""),user:ar.parseUserFromJSON(o)});case 10:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)})},{key:"fetchSubmissionData",value:(b=lr(regeneratorRuntime.mark((function e(t,n){var r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='\nquery {\n  readCurrentMember {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n  readQuestionnaireSubmission(UUID: "'.concat(t,'", SecureToken: "').concat(n,'") {\n    ID\n    UUID\n    ApprovalLinkToken\n    User {\n      ID\n    }\n    SubmitterName,\n    SubmitterEmail,\n    QuestionnaireStatus,\n    BusinessOwnerApproverName,\n    RiskResultData,\n    Questionnaire {\n      ID\n      Name\n    }\n    QuestionnaireData\n    AnswerData\n    CisoApprovalStatus\n    BusinessOwnerApprovalStatus\n    SecurityArchitectApprovalStatus\n    IsCurrentUserAnApprover\n    ProductName\n    IsCurrentUserABusinessOwnerApprover\n    HideWeightsAndScore\n    TaskSubmissions {\n      UUID\n      TaskName\n      TaskType\n      Status\n      TaskApprover {\n        ID\n        FirstName\n        Surname\n      }\n    }\n    CisoApprover {\n      FirstName\n      Surname\n    }\n    SecurityArchitectApprover {\n      FirstName\n      Surname\n    }\n    ApprovalOverrideBySecurityArchitect\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}'),e.next=3,M.request({query:r});case 3:if(o=e.sent,a=R.a.get(o,"data.readCurrentMember.0",{}),i=R.a.get(o,"data.readQuestionnaireSubmission.0",{}),c=R.a.get(o,"data.readSiteConfig.0",null),a&&i&&c){e.next=9;break}throw q;case 9:return u={title:R.a.toString(R.a.get(i,"Questionnaire.Name","")),siteConfig:un.parseSiteConfigFromJSON(c),user:ar.parseUserFromJSON(a),isCurrentUserApprover:"true"===R.a.get(i,"IsCurrentUserAnApprover","false"),isCurrentUserABusinessOwnerApprover:"true"===R.a.get(i,"IsCurrentUserABusinessOwnerApprover","false"),submission:{isApprovalOverrideBySecurityArchitect:Boolean(R.a.get(i,"ApprovalOverrideBySecurityArchitect",!1)),hideWeightsAndScore:"true"===R.a.get(i,"HideWeightsAndScore","false"),questionnaireID:R.a.toString(R.a.get(i,"Questionnaire.ID","")),questionnaireTitle:R.a.toString(R.a.get(i,"Questionnaire.Name","")),submissionID:R.a.toString(R.a.get(i,"ID","")),submissionUUID:R.a.toString(R.a.get(i,"UUID","")),submissionToken:R.a.toString(R.a.get(i,"ApprovalLinkToken","")),productName:R.a.toString(R.a.get(i,"ProductName","")),submitter:{id:R.a.toString(R.a.get(i,"User.ID")),name:R.a.toString(R.a.get(i,"SubmitterName","")),email:R.a.toString(R.a.get(i,"SubmitterEmail","")),isSA:!1,isCISO:!1},status:R.a.toString(R.a.get(i,"QuestionnaireStatus","")).toLowerCase().replace("-","_"),approvalStatus:{chiefInformationSecurityOfficer:R.a.toString(R.a.get(i,"CisoApprovalStatus","")),businessOwner:R.a.toString(R.a.get(i,"BusinessOwnerApprovalStatus","")),securityArchitect:R.a.toString(R.a.get(i,"SecurityArchitectApprovalStatus",""))},securityArchitectApprover:{FirstName:R.a.toString(R.a.get(i,"SecurityArchitectApprover.FirstName","")),Surname:R.a.toString(R.a.get(i,"SecurityArchitectApprover.Surname",""))},cisoApprover:{FirstName:R.a.toString(R.a.get(i,"CisoApprover.FirstName","")),Surname:R.a.toString(R.a.get(i,"CisoApprover.Surname",""))},questions:J.parseQuestionsFromJSON({schemaJSON:R.a.toString(R.a.get(i,"QuestionnaireData","")),answersJSON:R.a.toString(R.a.get(i,"AnswerData",""))}),businessOwnerApproverName:R.a.toString(R.a.get(i,"BusinessOwnerApproverName","")),taskSubmissions:R.a.toArray(R.a.get(i,"TaskSubmissions",[])).map((function(e){return{uuid:R.a.toString(R.a.get(e,"UUID","")),taskName:R.a.toString(R.a.get(e,"TaskName","")),taskType:R.a.toString(R.a.get(e,"TaskType","")),status:R.a.toString(R.a.get(e,"Status","")),approver:ar.parseUserFromJSON(R.a.get(e,"TaskApprover"))}})),riskResults:R.a.has(i,"RiskResultData")?JSON.parse(R.a.get(i,"RiskResultData","[]")):"[]"}},e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)}))),function(e,t){return b.apply(this,arguments)})},{key:"updateSubmissionData",value:(y=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.questionID,a=n.answerData,i=n.csrfToken,c=window.btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u='\nmutation {\n  updateQuestionnaireSubmission(ID: "'.concat(r,'", QuestionID: "').concat(o,'", AnswerData: "').concat(c,'") {\n    ID\n    AnswerData\n  }\n}'),e.next=5,M.request({query:u,csrfToken:i});case 5:if(s=e.sent,R.a.get(s,"data.updateQuestionnaireSubmission.AnswerData",null)){e.next=9;break}throw q;case 9:case"end":return e.stop()}}),e)}))),function(e){return y.apply(this,arguments)})},{key:"batchUpdateSubmissionData",value:(m=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s,l,f,p,m,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=cr({},t),r=n.submissionID,o=n.questionIDList,a=n.answerDataList,i=n.csrfToken,o.length===a.length){e.next=3;break}throw q;case 3:for(c=[],u=0;u<o.length;u++)s=o[u],l=a[u],f=window.btoa(unescape(encodeURIComponent(JSON.stringify(l)))),p="\nupdateQuestion".concat(s,': updateQuestionnaireSubmission(ID: "').concat(r,'", QuestionID: "').concat(s,'", AnswerData: "').concat(f,'") {\n  ID\n  AnswerData\n}'),c.push(p);return m="\nmutation {\n  ".concat(c.join("\n"),"\n}\n"),e.next=8,M.request({query:m,csrfToken:i});case 8:if(y=e.sent,R.a.get(y,"data",null)){e.next=12;break}throw q;case 12:case"end":return e.stop()}}),e)}))),function(e){return m.apply(this,arguments)})},{key:"submitQuestionnaire",value:(p=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToSubmitted(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,M.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=R.a.toString(R.a.get(i,"data.updateQuestionnaireStatusToSubmitted.QuestionnaireStatus",null)),u=R.a.toString(R.a.get(i,"data.updateQuestionnaireStatusToSubmitted.UUID",null)),c&&u){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)})},{key:"submitQuestionnaireForApproval",value:(f=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToAssignToSecurityArchitect(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,M.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=R.a.toString(R.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.QuestionnaireStatus",null)),u=R.a.toString(R.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.UUID",null)),c&&u){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)})},{key:"assignQuestionnaireSubmissionToSecurityArchitect",value:(l=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToWaitingForSecurityArchitectApproval(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,M.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=R.a.toString(R.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.QuestionnaireStatus",null)),u=R.a.toString(R.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.UUID",null)),c&&u){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"approveQuestionnaireSubmission",value:(s=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnApproveByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,M.request({query:i,csrfToken:o});case 4:if(c=e.sent,u=R.a.toString(R.a.get(c,"data.updateQuestionnaireOnApproveByGroupMember.QuestionnaireStatus",null)),s=R.a.toString(R.a.get(c,"data.updateQuestionnaireOnApproveByGroupMember.UUID",null)),u&&s){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"denyQuestionnaireSubmission",value:(u=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnDenyByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,M.request({query:i,csrfToken:o});case 4:if(c=e.sent,u=R.a.toString(R.a.get(c,"data.updateQuestionnaireOnDenyByGroupMember.QuestionnaireStatus",null)),s=R.a.toString(R.a.get(c,"data.updateQuestionnaireOnDenyByGroupMember.UUID",null)),u&&s){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})},{key:"editQuestionnaireSubmission",value:(c=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToInProgress(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,M.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=R.a.toString(R.a.get(i,"data.updateQuestionnaireStatusToInProgress.QuestionnaireStatus",null)),u=R.a.toString(R.a.get(i,"data.updateQuestionnaireStatusToInProgress.UUID",null)),c&&u){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"fetchQuestionnaireSubmissionList",value:(i=lr(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='query {\n      readQuestionnaireSubmission(UserID: "'.concat(t,'", PageType: "').concat(n,'") {\n        ID\n        UUID\n        QuestionnaireStatus\n        QuestionnaireName\n        Created\n        ProductName\n        ReleaseDate\n        BusinessOwnerApproverName\n        SubmitterName\n        SecurityArchitectApprover {\n          FirstName\n          Surname\n          ID\n        }\n        CisoApprovalStatus\n        BusinessOwnerApprovalStatus\n      }\n    }'),e.next=3,M.request({query:r});case 3:if(o=e.sent,a=R.a.get(o,"data.readQuestionnaireSubmission",[]),Array.isArray(a)){e.next=7;break}throw"error";case 7:return e.abrupt("return",a.map((function(e){var t={};return t.id=R.a.get(e,"ID",""),t.uuid=R.a.get(e,"UUID",""),t.status=R.a.get(e,"QuestionnaireStatus",""),t.productName=R.a.get(e,"ProductName",""),t.questionnaireName=R.a.get(e,"QuestionnaireName",""),t.created=R.a.get(e,"Created",""),t.releaseDate=R.a.get(e,"ReleaseDate",""),t.businessOwner=R.a.get(e,"BusinessOwnerApproverName",""),t.submitterName=R.a.get(e,"SubmitterName",""),t.SecurityArchitectApprover=R.a.toString(R.a.get(e,"SecurityArchitectApprover.FirstName","")+" "+R.a.get(e,"SecurityArchitectApprover.Surname","")),t.SecurityArchitectApproverID=R.a.get(e,"SecurityArchitectApprover.ID",""),t.CisoApprovalStatus=R.a.get(e,"CisoApprovalStatus",""),t.BusinessOwnerApprovalStatus=R.a.get(e,"BusinessOwnerApprovalStatus",""),t[""],t})));case 8:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)})},{key:"approveQuestionnaireSubmissionAsBusinessOwner",value:(a=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToApproved(ID: "'.concat(r,'", SecureToken: "').concat(a,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,M.request({query:i,csrfToken:o});case 4:if(c=e.sent,u=R.a.toString(R.a.get(c,"data.updateQuestionnaireStatusToApproved.QuestionnaireStatus",null)),s=R.a.toString(R.a.get(c,"data.updateQuestionnaireStatusToApproved.UUID",null)),u&&s){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"denyQuestionnaireSubmissionAsBusinessOwner",value:(o=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToDenied(ID: "'.concat(r,'", SecureToken: "').concat(a,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,M.request({query:i,csrfToken:o});case 4:if(c=e.sent,u=R.a.toString(R.a.get(c,"data.updateQuestionnaireStatusToDenied.QuestionnaireStatus",null)),s=R.a.toString(R.a.get(c,"data.updateQuestionnaireStatusToDenied.UUID",null)),u&&s){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}],n&&fr(t.prototype,n),r&&fr(t,r),e}();function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(n),!0).forEach((function(t){br(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var hr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"transformFromFullQuestionToData",value:function(e){var t={isCurrent:e.isCurrent,hasAnswer:e.hasAnswer,isApplicable:e.isApplicable,answerType:e.type};return"input"===e.type&&Array.isArray(e.inputs)&&(t.inputs=e.inputs.map((function(e){var t=e.data;return t&&R.a.isString(t)&&(t=t.trim()),{id:e.id,data:t}}))),"action"===e.type&&Array.isArray(e.actions)&&(t.actions=e.actions.map((function(e){return{id:e.id,isChose:e.isChose}}))),t}},{key:"existsUnansweredQuestion",value:function(e){var t=!1;return e.forEach((function(e){var n=yr({},e),r=n.hasAnswer,o=n.isApplicable;!r&&o&&(t=!0)})),t}},{key:"existsIncompleteTaskSubmission",value:function(e){var t=!1;return e.forEach((function(e){"in_progress"!==e.status&&"start"!==e.status&&"waiting_for_approval"!==e.status&&"denied"!==e.status||(t=!0)})),t}},{key:"getDataUpdateIntent",value:function(e){var t=yr({},e),n=t.answeredQuestion,r=t.questions,o=r.findIndex((function(e){return e.id===n.id})),a=o===r.length-1,i={currentIndex:o,nonApplicableIndexes:[],targetIndex:0,complete:!1,terminate:!1,result:""};if("input"===n.type)return a?i.complete=!0:i.targetIndex=i.currentIndex+1,i;if("action"===n.type){if(!n.actions)throw new Error("This question does not have any action!");var c=n.actions.find((function(e){return e.isChose}));if(!c)throw new Error("This question does not have any chosen action!");if("finish"===c.type){for(var u=i.currentIndex+1;u<r.length;u++)i.nonApplicableIndexes.push(u);i.result=c.result||"",i.complete=!0}if("message"===c.type&&(i.terminate=!0),"continue"!==c.type||a||(i.targetIndex=i.currentIndex+1),"goto"===c.type){var s=c.goto;if(i.targetIndex=r.findIndex((function(e){return e.id===s})),i.targetIndex<=i.currentIndex)throw new Error("The next question is not set correctly!");if(i.targetIndex-i.currentIndex>1)for(var l=i.currentIndex+1;l<i.targetIndex;)i.nonApplicableIndexes.push(l),l++}return a&&(i.complete=!0),i}throw new Error("Wrong question type!")}}],(n=null)&&dr(t.prototype,n),r&&dr(t,r),e}(),vr=n(178),Or=n.n(vr);function Sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var gr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONOArray",value:function(t){return Y()(t).map((function(t){var n=e.parseFromJSONObject(w()(t,"SecurityComponent"));return n.productAspect=T()(w()(t,"ProductAspect","")),n}))}},{key:"parseFromJSONObject",value:function(e){return{id:T()(w()(e,"ID","")),name:T()(w()(e,"Name","")),description:T()(w()(e,"Description")),controls:(w()(e,"Controls")||[]).map((function(e){return{id:T()(w()(e,"ID","")),name:T()(w()(e,"Name","")),description:T()(w()(e,"Description","")),implementationGuidance:T()(w()(e,"ImplementationGuidance",""))}}))}}},{key:"parseCVAFromJSONObject",value:function(e){return e.map((function(e){return{id:T()(w()(e,"id","")),name:T()(w()(e,"name","")),productAspect:T()(w()(e,"productAspect","")),controls:(w()(e,"controls")||[]).map((function(e){return{id:T()(w()(e,"id","")),name:T()(w()(e,"name","")),selectedOption:T()(w()(e,"selectedOption","")),description:T()(w()(e,"description","")),implementationGuidance:T()(w()(e,"implementationGuidance","")),implementationEvidence:T()(w()(e,"implementationEvidence","")),implementationEvidenceUserInput:T()(w()(e,"implementationEvidenceUserInput",""))}})),jiraTicketLink:T()(w()(e,"jiraTicketLink",""))}}))}}],(n=null)&&Sr(t.prototype,n),r&&Sr(t,r),e}();function Er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var wr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONArray",value:function(t){return Y()(t).map((function(t){return e.parseFromJSONObject(t)}))}},{key:"parseFromJSONObject",value:function(e){return{id:T()(w()(e,"ID")),jiraKey:T()(w()(e,"JiraKey")),link:T()(w()(e,"TicketLink"))}}}],(n=null)&&Er(t.prototype,n),r&&Er(t,r),e}();function kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(n),!0).forEach((function(t){Ar(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jr(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Pr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){jr(a,r,o,i,c,"next",e)}function c(e){jr(a,r,o,i,c,"throw",e)}i(void 0)}))}}function _r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ir=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a,i,c,u,s,l,f,p;return t=e,n=null,r=[{key:"fetchTaskSubmission",value:(p=Pr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tr({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    TaskName\n    TaskType\n    Status\n    Result\n    LockAnswersWhenComplete\n    QuestionnaireSubmission {\n      ID\n      UUID\n      QuestionnaireStatus\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    Submitter {\n      ID\n      Email\n      FirstName\n      Surname\n      IsSA\n      IsCISO\n    }\n    QuestionnaireData\n    AnswerData\n    SelectedComponents {\n      ID\n      ProductAspect\n      SecurityComponent {\n        ID\n        Name\n        Description\n        Controls {\n          ID\n          Name\n          Description\n          ImplementationGuidance\n        }\n      }\n    }\n    JiraTickets {\n      ID\n      JiraKey\n      TicketLink\n    }\n    IsTaskApprovalRequired\n    IsCurrentUserAnApprover\n    RiskResultData\n    ComponentTarget\n    ProductAspects\n    HideWeightsAndScore\n  }\n}'),e.next=4,M.request({query:a});case 4:if(i=e.sent,c=w()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw q;case 8:return u={id:T()(w()(c,"ID","")),uuid:T()(w()(c,"UUID","")),taskName:T()(w()(c,"TaskName","")),taskType:T()(w()(c,"TaskType","")),status:T()(w()(c,"Status","")),result:T()(w()(c,"Result","")),submitter:ar.parseUserFromJSON(w()(c,"Submitter")),lockWhenComplete:Boolean(w()(c,"LockAnswersWhenComplete",!1)),questionnaireSubmissionUUID:T()(w()(c,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionID:T()(w()(c,"QuestionnaireSubmission.ID","")),questionnaireSubmissionStatus:T()(w()(c,"QuestionnaireSubmission.QuestionnaireStatus","")),questions:J.parseQuestionsFromJSON({schemaJSON:T()(w()(c,"QuestionnaireData","")),answersJSON:T()(w()(c,"AnswerData",""))}),selectedComponents:gr.parseFromJSONOArray(w()(c,"SelectedComponents",[])),jiraTickets:wr.parseFromJSONArray(w()(c,"JiraTickets",[])),isCurrentUserAnApprover:"true"===w()(c,"IsCurrentUserAnApprover","false"),isTaskApprovalRequired:"true"===w()(c,"IsTaskApprovalRequired",!1),riskResults:_.has(c,"RiskResultData")?JSON.parse(w()(c,"RiskResultData","[]")):"[]",productAspects:_.has(c,"ProductAspects")?JSON.parse(w()(c,"ProductAspects",[])):[],componentTarget:T()(w()(c,"ComponentTarget","")),hideWeightsAndScore:"true"===_.get(c,"HideWeightsAndScore","false"),siblingSubmissions:z.parseAlltaskSubmissionforQuestionnaire(c)},e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)})},{key:"batchUpdateTaskSubmissionData",value:(f=Pr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s,l,f,p,m,y,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Tr({},t),r=n.uuid,o=n.questionIDList,a=n.answerDataList,i=n.csrfToken,c=n.secureToken,o.length===a.length){e.next=3;break}throw q;case 3:for(u=[],s=0;s<o.length;s++)l=o[s],f=a[s],p=window.btoa(unescape(encodeURIComponent(JSON.stringify(f)))),m="\nupdateQuestion".concat(l,': updateTaskSubmission(\n  UUID: "').concat(r,'",\n  QuestionID: "').concat(l,'",\n  AnswerData: "').concat(p,'",\n  SecureToken: "').concat(c||"",'"\n) {\n  UUID\n  Status\n}'),u.push(m);return y="\nmutation {\n  ".concat(u.join("\n"),"\n}\n"),e.next=8,M.request({query:y,csrfToken:i});case 8:if(b=e.sent,w()(b,"data",null)){e.next=12;break}throw q;case 12:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)})},{key:"completeTaskSubmission",value:(l=Pr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tr({},t),r=n.uuid,o=n.result,a=n.csrfToken,i=n.secureToken,c='\nmutation {\n completeTaskSubmission(UUID: "'.concat(r,'", Result: "').concat(o,'", SecureToken: "').concat(i||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,M.request({query:c,csrfToken:a});case 4:if(u=e.sent,w()(u,"data.completeTaskSubmission.UUID",null)){e.next=7;break}throw q;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"editTaskSubmission",value:(s=Pr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tr({},t),r=n.uuid,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n editTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,M.request({query:i,csrfToken:o});case 4:if(c=e.sent,w()(c,"data.editTaskSubmission.UUID",null)){e.next=7;break}throw q;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"fetchStandaloneTask",value:(u=Pr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tr({},t),r=n.taskId,o='\nquery {\n  readTask(ID: "'.concat(r,'") {\n    ID\n    Name\n    TaskType\n    QuestionsDataJSON\n  }\n}'),e.next=4,M.request({query:o});case 4:if(a=e.sent,i=w()(a,"data.readTask",null)){e.next=8;break}throw q;case 8:return c=z.parseFromJSONObject(i),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})},{key:"updateTaskSubmissionWithSelectedComponents",value:(c=Pr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tr({},t),r=n.uuid,o=n.csrfToken,a=n.components,i=n.jiraKey,c='\nmutation {\n updateTaskSubmissionWithSelectedComponents(\n UUID: "'.concat(r,'",\n Components: "').concat(window.btoa(JSON.stringify(a)),'",\n JiraKey: "').concat(i,'"\n ) {\n   UUID\n   Status\n }\n}'),e.next=4,M.request({query:c,csrfToken:o});case 4:if(u=e.sent,w()(u,"data.updateTaskSubmissionWithSelectedComponents.UUID",null)){e.next=7;break}throw q;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"approveTaskSubmission",value:(i=Pr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tr({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n updateTaskStatusToApproved(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,M.request({query:a,csrfToken:o});case 4:if(i=e.sent,(c=T()(w()(i,"data.updateTaskStatusToApproved.Status",null)))&&r){e.next=8;break}throw q;case 8:return e.abrupt("return",{status:c});case 9:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"denyTaskSubmission",value:(a=Pr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tr({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n updateTaskStatusToDenied(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,M.request({query:a,csrfToken:o});case 4:if(i=e.sent,(c=T()(w()(i,"data.updateTaskStatusToDenied.Status",null)))&&r){e.next=8;break}throw q;case 8:return e.abrupt("return",{status:c});case 9:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"fetchTaskSubmissionList",value:(o=Pr(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='query {\n      readTaskSubmission(UserID: "'.concat(t,'", PageType: "').concat(n,'") {\n        ID\n        UUID\n        Created\n        TaskName\n        QuestionnaireSubmission {\n          ProductName\n        }\n        Submitter {\n          FirstName\n          Surname\n        }\n        Status\n      }\n    }'),e.next=3,M.request({query:r});case 3:if(o=e.sent,a=w()(o,"data.readTaskSubmission",[]),Array.isArray(a)){e.next=7;break}throw"error";case 7:return e.abrupt("return",a.map((function(e){var t={};return t.id=w()(e,"ID",""),t.uuid=w()(e,"UUID",""),t.created=w()(e,"Created",""),t.taskName=w()(e,"TaskName",""),t.productName=w()(e,"QuestionnaireSubmission.ProductName",""),t.submitterName=T()(w()(e,"Submitter.FirstName",""))+" "+T()(w()(e,"Submitter.Surname","")),t.status=w()(e,"Status",""),t})));case 8:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})}],n&&_r(t.prototype,n),r&&_r(t,r),e}();function Cr(e){return function(e){if(Array.isArray(e))return Rr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dr(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Nr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Dr(a,r,o,i,c,"next",e)}function c(e){Dr(a,r,o,i,c,"throw",e)}i(void 0)}))}}function xr(e,t){return void 0===t&&(t=""),function(){var n=Nr(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r({type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST});case 2:return n.prev=2,n.next=5,pr.fetchSubmissionData(e,t);case 5:o=n.sent,r((a=o,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS,payload:a})),n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(2),n.next=13,r({type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE,error:n.t0});case 13:alert(n.t0);case 14:case"end":return n.stop()}var a}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()}function Ur(e){return function(){var t=Nr(regeneratorRuntime.mark((function t(n,r){var o,a,i,c,u,s,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:return i=hr.getDataUpdateIntent({answeredQuestion:e,questions:a.questions}),c=i.currentIndex,u=i.targetIndex,s=i.nonApplicableIndexes,f=i.complete,s.length>0&&n({type:l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE,nonApplicableIndexes:s}),u>c&&n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:u}),t.next=9,Lr(r(),R.a.uniq([c].concat(Cr(s),[u])));case 9:f&&N.redirectToQuestionnaireReview(a.submissionUUID);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function Lr(e,t){return Br.apply(this,arguments)}function Br(){return(Br=Nr(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.questionnaireState.submissionState.submission){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,_e.getCSRFToken();case 5:return o=e.sent,e.prev=6,e.next=9,pr.batchUpdateSubmissionData({submissionID:r.submissionID,questionIDList:n.map((function(e){return r.questions[e].id})),answerDataList:n.map((function(e){return hr.transformFromFullQuestionToData(r.questions[e])})),csrfToken:o});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),alert(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[6,11]])})))).apply(this,arguments)}function Qr(e){return(Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hr(e,t){return(Hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wr(e);if(t){var o=Wr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jr(this,n)}}function Jr(e,t){return!t||"object"!==Qr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wr(e){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Yr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hr(e,t)}(i,e);var t,n,r,a=Kr(i);function i(){return Fr(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(n),!0).forEach((function(t){qr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.title,n=e.subtitle,r=e.showLogoutButton,a=e.username,i=e.logopath;return o.a.createElement("header",{className:"Header"},o.a.createElement("div",{className:"top-banner"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:i,className:"logo"}))),o.a.createElement("div",{className:"logout-layout"},r&&o.a.createElement("div",{className:"logout-block"},o.a.createElement("span",{className:"username"},a),o.a.createElement(qe,null))),o.a.createElement("h1",null,t),o.a.createElement("h2",null,n))}}])&&Vr(t.prototype,n),r&&Vr(t,r),i}(r.Component);Yr.defaultProps={title:"",subtitle:"",username:"",logopath:"",showLogoutButton:!0};var Gr=Yr;function zr(e){return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(n),!0).forEach((function(t){Xr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function to(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function no(e,t){return(no=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ro(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ao(e);if(t){var o=ao(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oo(this,n)}}function oo(e,t){return!t||"object"!==zr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ao(e){return(ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var io=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&no(e,t)}(i,e);var t,n,r,a=ro(i);function i(){return eo(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=Zr({},this.props),t=e.questionnaireID;(0,e.dispatchLoadQuestionnaireAction)(t)}},{key:"render",value:function(){var e=Zr({},this.props.startState),t=e.title,n=e.siteConfig,r=e.keyInformation,a=e.user,i=Zr({},this.props),c=i.questionnaireID,u=i.dispatchCreateInProgressSubmissionAction;return a?o.a.createElement("div",{className:"StartContainer"},o.a.createElement(Gr,{title:t,subtitle:n.siteTitle,username:a.name,logopath:n.logoPath}),o.a.createElement(rr,{keyInformation:r,user:a,onStartButtonClick:function(){u(c)}}),o.a.createElement($t,{footerCopyrightText:n.footerCopyrightText})):null}}])&&to(t.prototype,n),r&&to(t,r),i}(r.Component),co=Object(c.b)((function(e){return{startState:e.questionnaireState.startState}}),(function(e,t){return{dispatchLoadQuestionnaireAction:function(t){e(function(e){return function(){var t=Nr(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pr.fetchStartData(e);case 3:r=t.sent,n((o=r,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE,payload:o})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0);case 10:case"end":return t.stop()}var o}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))},dispatchCreateInProgressSubmissionAction:function(t){e(function(e){return function(){var t=Nr(regeneratorRuntime.mark((function t(n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return r=t.sent,t.next=6,pr.createInProgressSubmission({questionnaireID:e,csrfToken:r});case 6:o=t.sent,N.redirectToQuestionnaireEditing(o),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(io),uo=n(58);function so(e){return(so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lo(Object(n),!0).forEach((function(t){po(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function po(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bo(e,t){return(bo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ho(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oo(e);if(t){var o=Oo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vo(this,n)}}function vo(e,t){return!t||"object"!==so(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oo(e){return(Oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var So=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bo(e,t)}(i,e);var t,n,r,a=ho(i);function i(){return mo(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=fo({},this.props),t=e.question,n=e.onItemClick,r=e.index;return o.a.createElement("div",{className:"LeftBarItem"},this.renderIcon(t),o.a.createElement("button",{className:"btn",disabled:!t.isApplicable,onClick:function(e){n(t)}},r+1,". ",t.title))}},{key:"renderIcon",value:function(e){var t=fo({},e),n=t.isCurrent,r=t.hasAnswer,a=t.isApplicable;return n?o.a.createElement("img",{src:Ve.a}):a?r&&a?o.a.createElement("i",{className:"fas fa-check-circle success"}):o.a.createElement("i",{className:"fas fa-check-circle pending"}):o.a.createElement("i",{className:"fas fa-question-circle not-applicable"})}}])&&yo(t.prototype,n),r&&yo(t,r),i}(r.Component);function go(e){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function To(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ao(e,t){return(Ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_o(e);if(t){var o=_o(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Po(this,n)}}function Po(e,t){return!t||"object"!==go(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _o(e){return(_o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Io=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ao(e,t)}(i,e);var t,n,r,a=jo(i);function i(){return ko(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach((function(t){wo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.questions,n=e.onItemClick;return o.a.createElement("div",{className:"LeftBar"},o.a.createElement("div",{className:"title"},"QUESTIONS:"),o.a.createElement("div",{className:"items"},t.map((function(e,t){return o.a.createElement(So,{question:e,onItemClick:n,key:e.id,index:t})}))))}}])&&To(t.prototype,n),r&&To(t,r),i}(r.Component);function Co(e){return(Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ro(){return(Ro=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Do(e){return function(e){if(Array.isArray(e))return No(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return No(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return No(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function No(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lo(e,t){return(Lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mo(e);if(t){var o=Mo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qo(this,n)}}function Qo(e,t){return!t||"object"!==Co(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mo(e){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lo(e,t)}(i,e);var t,n,r,a=Bo(i);function i(){return xo(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(Ln,Ro({},this.props,{classes:["DarkButton"].concat(Do(this.props.classes))}))}}])&&Uo(t.prototype,n),r&&Uo(t,r),i}(r.Component);qo.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Fo=qo,Vo=n(3),Ho=n.n(Vo),Ko=n(423),Jo=n.n(Ko),Wo=(n(669),n(422)),Yo=n.n(Wo);function Go(e){return(Go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zo(){return(zo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$o(Object(n),!0).forEach((function(t){Xo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ea(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function na(e,t){return(na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ra(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=aa(e);if(t){var o=aa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oa(this,n)}}function oa(e,t){return!t||"object"!==Go(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function aa(e){return(aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ia=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&na(e,t)}(i,e);var t,n,r,a=ra(i);function i(){return ea(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=Zo({},this.props),t=e.question,n=e.index;return o.a.createElement("div",{className:"QuestionForm"},o.a.createElement("div",{className:"heading"},n+1,". ",t.heading),o.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:t.description}}),this.renderActions(t),this.renderInputsForm(t),o.a.createElement("div",{className:"saveText"},o.a.createElement(Yo.a,{className:"icon-blue"}),o.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question.")))}},{key:"renderActions",value:function(e){var t=Zo({},this.props).handleActionClick;if("action"===e.type){var n=R.a.get(e,"actions",null);if(!n)return null;var r=null,a=n.find((function(e){return e.isChose}));return a&&a.message&&(r=o.a.createElement("div",{className:"message"},o.a.createElement("b",null,"Message:"),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.message}}))),o.a.createElement("div",null,o.a.createElement("div",{className:"actions"},n.map((function(e,n){switch(n){case 0:return o.a.createElement(Fo,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return o.a.createElement(Gn,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}}))),r)}}},{key:"renderInputsForm",value:function(e){var t=Zo({},this.props).handleFormSubmit;if("input"===e.type){var n=R.a.get(e,"inputs",null);if(!n)return null;var r={};return n.forEach((function(e){r[e.id]=e.data||"","radio"==e.type&&null===e.data&&e.defaultRadioButtonValue&&(r[e.id]=e.defaultRadioButtonValue),"checkbox"==e.type&&null===e.data&&e.defaultCheckboxValue&&(r[e.id]=e.defaultCheckboxValue)})),o.a.createElement(uo.c,{initialValues:r,validate:function(e){var t={};return n.forEach((function(n){var r=Zo({},n),o=r.id,a=r.type,i=r.required,c=r.label,u=r.minLength,s=R.a.get(e,o,null);if(i&&(!s||"[]"===s))return t[o]="- Please enter a value for ".concat(c),void("radio"!==a&&"checkbox"!==a||(t[o]="- Please select an option for ".concat(c)));u>0&&s&&s.length<u?t[o]="- Please enter a value with at least ".concat(u," characters for ").concat(c):"email"!==a||/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(s)?("date"!==a&&"release date"!==a||Ho()(s,"YYYY-MM-DD").isValid()||(t[o]="- Invalid date"),"product aspects"!==a||!s||/^[0-9a-zA-Z\s\n]+$/i.test(s)||(t[o]="- Please enter alpha-numeric characters only.")):t[o]="- Invalid email address"})),t},onSubmit:function(e,n){t(n,e)}},(function(e){e.isSubmitting;var t=e.errors,r=e.touched,a=e.setFieldValue,i=e.values,c=[];return R.a.keys(t).filter((function(e){return Boolean(r[e])})).forEach((function(e){c[e]=t[e]})),o.a.createElement(uo.b,null,o.a.createElement("table",null,o.a.createElement("tbody",null,n.map((function(e){var t=Zo({},e),n=t.id,r=t.type,u=t.label,s=t.placeholder,l=t.options,f=(t.defaultRadioButtonValue,t.defaultCheckboxValue,t.maxLength),p=Boolean(R.a.get(c,n,null)),m=[];return p&&m.push("error"),["text","email","url"].includes(r)?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,u)),o.a.createElement("td",null,o.a.createElement(uo.a,{type:r,name:n,className:m.join(" "),placeholder:s,maxlength:f>0?f:4096}),p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"radio"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,u)),o.a.createElement("td",null,l.length&&l.map((function(e,t){var r=R.a.toString(e.value)===R.a.toString(i[n]);return o.a.createElement("div",{key:t},o.a.createElement("label",null,o.a.createElement(uo.a,{type:"radio",name:n,value:e.value,className:"radio",checked:r}),e.label))}))),o.a.createElement("td",null,p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"checkbox"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,u)),o.a.createElement("td",null,l.length&&l.map((function(e,t){var r=i[n]?JSON.parse(i[n]):[],c=r.includes(e.value);return o.a.createElement("div",{key:t},o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",name:n,className:"checkbox",checked:c,onChange:function(t){t.target.checked?r.push(e.value):r.splice(r.indexOf(e.value),1),a(n,JSON.stringify(r))}}),e.label))}))),o.a.createElement("td",null,p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"date"===r||"release date"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,u)),o.a.createElement("td",null,o.a.createElement(uo.a,{name:n,render:function(e){var t=null,r=e.field.value||null;return r&&r.trim().length>0&&(t=Ho()(r).toDate()),o.a.createElement(Jo.a,{dateFormat:"dd-MM-yyyy",className:m.join(" "),selected:t,onChange:function(e){if(e){var t=Ho()(e).format("YYYY-MM-DD");a(n,t)}else a(n,null)},placeholderText:s,dropdownMode:"scroll",withPortal:!0})}}),p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"textarea"===r||"product aspects"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,u)),o.a.createElement("td",null,o.a.createElement(uo.a,{name:n},(function(e){var t=e.field;return o.a.createElement("textarea",zo({},t,{className:m.join(" "),placeholder:s}))})),p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):null})),o.a.createElement("tr",null,o.a.createElement("td",null),o.a.createElement("td",null,o.a.createElement(Fo,{title:"Continue"}))),o.a.createElement("tr",null,o.a.createElement("td",null),o.a.createElement("td",{className:"text-danger"},c&&R.a.keys(c).length>0&&o.a.createElement("div",null,"Whoops!",R.a.keys(c).map((function(e){return o.a.createElement("div",{className:"text-error",key:e},c[e])}))))))))}))}}}])&&ta(t.prototype,n),r&&ta(t,r),i}(r.Component);function ca(e){return(ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(n),!0).forEach((function(t){la(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function la(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ma(e,t){return(ma=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ya(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=da(e);if(t){var o=da(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ba(this,n)}}function ba(e,t){return!t||"object"!==ca(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function da(e){return(da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ha=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ma(e,t)}(i,e);var t,n,r,a=ya(i);function i(){return fa(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"handleFormSubmit",value:function(e,t){var n=sa({},this.props),r=n.questions,o=n.saveAnsweredQuestion,a=r.find((function(e){return!0===e.isCurrent}));if(a){var i=sa({},a);R.a.forIn(t,(function(e,t){var n=i.inputs.findIndex((function(e){return e.id===t}));n>=0&&R.a.set(i,"inputs.".concat(n,".data"),e)})),i.hasAnswer=!0,i.isApplicable=!0,o(i)}}},{key:"handleActionClick",value:function(e){var t=sa({},this.props),n=t.questions,r=t.saveAnsweredQuestion,o=n.find((function(e){return!0===e.isCurrent}));if(o){var a=sa({},o);a.actions=a.actions.map((function(t){return t.isChose=t.id===e.id,t})),a.hasAnswer=!0,a.isApplicable=!0,r(a)}}},{key:"render",value:function(){var e=sa({},this.props),t=e.questions,n=e.onLeftBarItemClick,r=t.find((function(e){return!0===e.isCurrent})),a=t.findIndex((function(e){return e.id===r.id}));return o.a.createElement("div",{className:"Questionnaire mx-1"},o.a.createElement("div",{className:"major"},o.a.createElement(Io,{questions:t,onItemClick:n}),r&&o.a.createElement(ia,{index:a,key:r.id,question:r,handleFormSubmit:this.handleFormSubmit.bind(this),handleActionClick:this.handleActionClick.bind(this)})))}}])&&pa(t.prototype,n),r&&pa(t,r),i}(r.Component);function va(e){return(va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(n),!0).forEach((function(t){ga(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ga(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ea(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ka(e,t){return(ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ta(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ja(e);if(t){var o=ja(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Aa(this,n)}}function Aa(e,t){return!t||"object"!==va(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ja(e){return(ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ka(e,t)}(i,e);var t,n,r,a=Ta(i);function i(){return Ea(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=Sa({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=Sa({},this.props),t=e.dispatchSaveAnsweredQuestionAction,n=e.dispatchMoveToPreviousQuestionAction,r=e.loadingState,a=Sa({},this.props.submissionState),i=a.title,c=a.siteConfig,u=a.user,s=a.submission;return u&&s&&c?r["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"]?null:"in_progress"!==s.status?o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(Gr,{title:i,subtitle:c.siteTitle,username:u.name,logopath:c.logoPath}),o.a.createElement("div",{className:"questionnaire-message"},o.a.createElement("h3",null,"The questionnaire is not in progress...")),o.a.createElement($t,{footerCopyrightText:c.footerCopyrightText})):o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(Gr,{title:i,subtitle:c.siteTitle,logopath:c.logoPath,username:u.name}),o.a.createElement(ha,{questions:s.questions,saveAnsweredQuestion:function(e){t(e)},onLeftBarItemClick:function(e){n(e)}}),o.a.createElement($t,{footerCopyrightText:c.footerCopyrightText})):null}}])&&wa(t.prototype,n),r&&wa(t,r),i}(r.Component),_a=Object(c.b)((function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadSubmissionAction:function(t){e(xr(t))},dispatchSaveAnsweredQuestionAction:function(t){var n;e((n=t,function(){var e=Nr(regeneratorRuntime.mark((function e(t,r){var o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER,payload:n}),o=r(),a=R.a.get(o,"questionnaireState.submissionState.submission.submissionID",null)){e.next=5;break}throw new Error("Something is wrong, please reload the page");case 5:return e.next=7,_e.getCSRFToken();case 7:return i=e.sent,c=n.id,u=hr.transformFromFullQuestionToData(n),e.prev=10,e.next=13,pr.updateSubmissionData({submissionID:a,questionID:c,csrfToken:i,answerData:u});case 13:t(Ur(n)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),alert(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(t,n){return e.apply(this,arguments)}}()))},dispatchMoveToPreviousQuestionAction:function(t){e(function(e){return function(){var t=Nr(regeneratorRuntime.mark((function t(n,r){var o,a,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:if(!((i=a.questions.findIndex((function(e){return e.isCurrent})))<0)){t.next=7;break}throw new Error("Wrong state, please reload the questionnaire");case 7:if(e.isApplicable&&e.hasAnswer){t.next=9;break}return t.abrupt("return");case 9:if(!((c=a.questions.findIndex((function(t){return t.id===e.id})))<0)){t.next=12;break}return t.abrupt("return");case 12:return n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:c}),t.next=15,Lr(r(),[i,c]);case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(Pa),Ia=n(56),Ca=n.n(Ia),Ra=n(85),Da=n.n(Ra);function Na(e){return(Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ua(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function La(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qa(e,t){return(Qa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ma(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fa(e);if(t){var o=Fa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qa(this,n)}}function qa(e,t){return!t||"object"!==Na(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fa(e){return(Fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Va=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qa(e,t)}(i,e);var t,n,r,a=Ma(i);function i(){return La(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xa(Object(n),!0).forEach((function(t){Ua(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).questions;return o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement("div",{className:"questions"},t.map((function(t,n,r){var a=e.renderData(t);return o.a.createElement("div",{className:"row",key:t.id},o.a.createElement("div",{className:"col"},o.a.createElement("b",null,n+1,". ",t.heading)),o.a.createElement("div",{className:"vertical-divider"}),o.a.createElement("div",{className:"col"},a))}))))}},{key:"renderData",value:function(e){if(!e.isApplicable)return o.a.createElement("div",null,"(Not applicable)");if(!e.hasAnswer)return o.a.createElement("div",null,"(Has no answer)");if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var t=function(e){var t=e.data||"";if("date"!==e.type&&"release date"!==e.type||(t=Ho()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find((function(e){return e.value===t}));n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),o=e.options.filter((function(e){return r.includes(e.value)})).map((function(e){return e.label}));t=o.join(", ")}return t};return e.inputs.length>1?o.a.createElement("div",null,e.inputs.map((function(e){var n=t(e);return o.a.createElement("div",{key:e.id},o.a.createElement("b",null,e.label)," ",o.a.createElement("span",null,"-")," ",o.a.createElement("span",null,n))}))):o.a.createElement("div",null,t(e.inputs[0]).trim())}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var n=R.a.head(e.actions.filter((function(e){return e.isChose})));return o.a.createElement("div",null,n&&o.a.createElement("div",null,n.label))}}}])&&Ba(t.prototype,n),r&&Ba(t,r),i}(r.Component);function Ha(e){return(Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ka(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ja(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ya(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ga(e,t){return(Ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function za(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Za(e);if(t){var o=Za(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $a(this,n)}}function $a(e,t){return!t||"object"!==Ha(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Za(e){return(Za=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ga(e,t)}(i,e);var t,n,r,a=za(i);function i(){return Wa(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ka(Object(n),!0).forEach((function(t){Ja(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ka(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.submission,n=e.viewAs,r=e.secureToken,a=e.handleSubmitButtonClick,i=e.handlePDFDownloadButtonClick,c=e.handleEditAnswerButtonClick;if(!t)return null;var u=o.a.createElement("div",{className:"alert alert-success text-center"},"This questionnaire has already been submitted."),s=o.a.createElement("div",{className:"buttons"},o.a.createElement(Gn,{title:"EDIT ANSWERS",iconImage:Ca.a,classes:["button"],onClick:c}),o.a.createElement(Gn,{title:"DOWNLOAD PDF",iconImage:Da.a,classes:["button"],onClick:i}),o.a.createElement(Fo,{title:"SUBMIT QUESTIONNAIRE",classes:["button"],disabled:hr.existsUnansweredQuestion(t.questions),onClick:a})),l=o.a.createElement("div",{className:"buttons"},o.a.createElement(Gn,{title:"BACK TO SUMMARY",classes:["button"],onClick:function(){return N.redirectToQuestionnaireSummary(t.submissionUUID,r)}}));return o.a.createElement("div",{className:"Review"},"in_progress"!==t.status&&u,o.a.createElement(Va,{questions:t.questions}),"submitter"===n&&("in_progress"===t.status||"submitted"===t.status)&&s,"submitter"!==n&&l)}}])&&Ya(t.prototype,n),r&&Ya(t,r),i}(r.Component),ei=n(183),ti=n.n(ei),ni=n(426),ri=n.n(ni);function oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ai=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"toString",value:function(e){return e?"".concat(e):""}}],(n=null)&&oi(t.prototype,n),r&&oi(t,r),e}();function ii(e){return(ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ci(Object(n),!0).forEach((function(t){si(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fi(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function pi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){fi(a,r,o,i,c,"next",e)}function c(e){fi(a,r,o,i,c,"throw",e)}i(void 0)}))}}function mi(e){return yi.apply(this,arguments)}function yi(){return(yi=pi(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new FileReader;n.addEventListener("load",(function(t){e(t.target.result)})),n.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bi(e){return di.apply(this,arguments)}function di(){return(di=pi(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t||fallback);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.next=8,mi(r);case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"generatePDF",value:(a=pi(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s,l,f,p,m,y,b,d,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ui({},t),r=n.questions,o=n.submitter,a=n.questionnaireTitle,i=n.siteConfig,c=n.result,u=n.riskResults,l=[],f={questionnaireTitle:{bold:!0,fontSize:4+(s=12),color:"#004071",alignment:"center"},siteTitle:{bold:!0,fontSize:s,color:"#004071",alignment:"center"},sectionHeading:{bold:!0,fontSize:s+2,color:"#004071"},questionHeading:{bold:!0}},p={fontSize:s},m={title:"".concat(a," - ").concat(o.name,".pdf")},y=ri.a.pdfMake.vfs,ti.a.vfs=y,e.next=10,bi(i.pdfHeaderImageLink);case 10:return b=e.sent,l.push({image:b,width:500,margin:[0,0,0,s]}),l.push({text:a,style:"questionnaireTitle",margin:[0,0,0,s/2]}),l.push({text:i.siteTitle,style:"siteTitle",margin:[0,0,0,2*s]}),l.push({text:"Submitted by:",style:"sectionHeading",margin:[0,0,0,s]}),l.push({text:"Name: ".concat(o.name),style:"questionHeading",margin:[0,0,0,s/2]}),l.push({text:"Email: ".concat(o.email),margin:[0,0,0,2*s]}),c&&(l.push({text:"Result:",style:"sectionHeading",margin:[0,0,0,s]}),l.push({text:"".concat(c),margin:[0,0,0,2*s]})),l.push({text:"Responses",style:"sectionHeading",margin:[0,0,0,s]}),r.forEach((function(e,t){if(l.push({text:"".concat(t+1,". ").concat(e.heading),style:"questionHeading",margin:[0,0,0,s/2]}),e.isApplicable)if(e.hasAnswer){if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var n=function(e){var t=e.data||"";if("date"===e.type&&(t=Ho()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find((function(e){return e.value===t}));n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),o=e.options.filter((function(e){return r.includes(e.value)})).map((function(e){return e.label}));t=o.join(", ")}return t};return e.inputs.length>1?void e.inputs.forEach((function(e,t,r){var o=t===r.length-1;l.push({text:"".concat(e.label,": ").concat(ai.toString(n(e))),margin:[0,0,0,o?s:parseInt("".concat(s/3))]})})):void l.push({text:n(e.inputs[0]).trim(),margin:[0,0,0,s]})}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var r=R.a.head(e.actions.filter((function(e){return e.isChose})));l.push({text:r.label,margin:[0,0,0,s]})}}else l.push({text:"(Has no answer)",margin:[0,0,0,s]});else l.push({text:"(Not applicable)",margin:[0,0,0,s]})})),"object"===ii(u)&&u.length>0&&(d=[[{text:"Risk Name",bold:!0,alignment:"center"},{text:"Weights",bold:!0,alignment:"center"},{text:"Score",bold:!0,alignment:"center"},{text:"Rating",bold:!0,alignment:"center"}]],u.forEach((function(e,t){var n={text:e.rating,alignment:"center",color:"#"+e.colour,bold:!0};"Unknown"==e.rating&&(n={text:"Unknown",alignment:"center",color:"#000000",bold:!0}),d.push([{text:e.riskName},e.weights,e.score,n])})),l.push({table:{headerRows:1,widths:[237,75,75,75],body:d},width:500,margin:[0,0,0,s]})),e.next=23,bi(i.pdfFooterImageLink);case 23:return h=e.sent,l.push({image:h,width:500,margin:[0,0,0,s]}),e.prev=25,e.next=28,ti.a.createPdf({info:m,content:l,styles:f,defaultStyle:p}).download(m.title);case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(25),alert("Unable to generate your PDF. Maybe you have a browser Ad-Block extension enabled?");case 33:case"end":return e.stop()}}),e,null,[[25,30]])}))),function(e){return a.apply(this,arguments)})},{key:"blobToDataURL",value:(o=pi(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}],n&&li(t.prototype,n),r&&li(t,r),e}();function vi(e){return(vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oi(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ei(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ki(e,t){return(ki=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ti(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ji(e);if(t){var o=ji(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ai(this,n)}}function Ai(e,t){return!t||"object"!==vi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ji(e){return(ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ki(e,t)}(i,e);var t,n,r,a=Ti(i);function i(){return Ei(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=Si({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=Si({},this.props).secureToken,t=Si({},this.props.submissionState),n=t.title,r=t.siteConfig,a=t.user,i=t.submission,c=t.isCurrentUserApprover,u=t.isCurrentUserABusinessOwnerApprover;if(!a||!r)return null;var s="others";do{if(a.id===i.submitter.id){s="submitter";break}if(c){s="approver";break}if(u){s="businessOwnerApprover";break}}while(0);return o.a.createElement("div",{className:"ReviewContainer"},o.a.createElement(Gr,{title:n,subtitle:"Review Responses",username:a.name,logopath:r.logoPath}),o.a.createElement(Xa,{siteTitle:r.siteTitle,viewAs:s,submission:i,secureToken:e,handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleEditAnswerButtonClick:this.handleEditAnswerButtonClick.bind(this)}),o.a.createElement($t,{footerCopyrightText:r.footerCopyrightText}))}},{key:"handleSubmitButtonClick",value:function(){this.props.dispatchSubmitQuestionnaire()}},{key:"handlePDFDownloadButtonClick",value:function(){var e=Si({},this.props.submissionState),t=e.submission,n=(e.siteTitle,e.siteConfig);t&&n&&hi.generatePDF({questions:t.questions,submitter:t.submitter,questionnaireTitle:t.questionnaireTitle,siteConfig:n})}},{key:"handleEditAnswerButtonClick",value:function(){var e=R.a.get(this.props.submissionState,"submission.submissionUUID","");e&&N.redirectToQuestionnaireEditing(e)}}])&&wi(t.prototype,n),r&&wi(t,r),i}(r.Component),_i=Object(c.b)((function(e){return{submissionState:e.questionnaireState.submissionState}}),(function(e,t){return{dispatchLoadSubmissionAction:function(t){e(xr(t))},dispatchSubmitQuestionnaire:function(){e(function(){var e=Nr(regeneratorRuntime.mark((function e(t,n){var r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n(),o=r.questionnaireState.submissionState,a=o.submission){e.next=6;break}return e.abrupt("return");case 6:if(!hr.existsUnansweredQuestion(a.questions)){e.next=9;break}return alert("There are questions not answered properly, please check your answers"),e.abrupt("return");case 9:return e.next=11,_e.getCSRFToken();case 11:return i=e.sent,e.next=14,pr.submitQuestionnaire({submissionID:a.submissionID,csrfToken:i});case 14:c=e.sent,u=c.uuid,N.redirectToQuestionnaireSummary(u),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),alert(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,n){return e.apply(this,arguments)}}())}}}))(Pi);function Ii(e){return(Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Di(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ni(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xi(e,t){return(xi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ui(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bi(e);if(t){var o=Bi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Li(this,n)}}function Li(e,t){return!t||"object"!==Ii(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bi(e){return(Bi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xi(e,t)}(i,e);var t,n,r,a=Ui(i);function i(){return Di(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ci(Object(n),!0).forEach((function(t){Ri(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.riskResults,n=e.hideWeightsAndScore;return t&&0!==t.length?o.a.createElement("div",{className:"risks"},o.a.createElement("h3",null,"Risk Result"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"risk_table_header"},o.a.createElement("th",null,"Risk Name"),!n&&o.a.createElement("th",null,"Weights"),!n&&o.a.createElement("th",null,"Score"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,t.map((function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.riskName),!n&&o.a.createElement("td",null,e.weights),!n&&o.a.createElement("td",null,e.score),o.a.createElement("td",{style:{color:"#"+e.colour}},e.rating))})))))):null}}])&&Ni(t.prototype,n),r&&Ni(t,r),i}(r.Component);n(758);function Mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var qi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isSRATaskFinalised",value:function(e){return e.filter((function(e){return"security risk assessment"===e.taskType&&"complete"===e.status})).length>0}},{key:"isSiblingTaskPending",value:function(e){var t=["start","in_progress","waiting_for_approval"];return e.filter((function(e){return"security risk assessment"!==e.taskType&&"control validation audit"==e.taskType&&t.includes(e.status)})).length>0}},{key:"getSraIsFinalisedAlert",value:function(){return o.a.createElement("div",{className:"alert alert-success text-center"},"The security risk assessment is finalised.  The tasks can no longer be edited and will be included in the Certification and Accreditation Report. If you need to change your task answers, you will need to submit a new questionnaire.")}}],(n=null)&&Mi(t.prototype,n),r&&Mi(t,r),e}();function Fi(e){return(Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ki(e,t){return(Ki=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ji(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yi(e);if(t){var o=Yi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wi(this,n)}}function Wi(e,t){return!t||"object"!==Fi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yi(e){return(Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ki(e,t)}(i,e);var t,n,r,a=Ji(i);function i(){return Vi(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"The submission you are attempting to view does not exist or has expired. Please follow ",o.a.createElement("a",{href:"/"},"this link")," to the homepage where you can create a new submission."))}}])&&Hi(t.prototype,n),r&&Hi(t,r),i}(r.Component);function zi(e){return(zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$i(Object(n),!0).forEach((function(t){Xi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ec(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tc(e,t){return(tc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oc(e);if(t){var o=oc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rc(this,n)}}function rc(e,t){return!t||"object"!==zi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oc(e){return(oc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ac=function(e){if(e)return e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")},ic=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tc(e,t)}(i,e);var t,n,r,a=nc(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={skipBoAndCisoApproval:!1},t}return t=i,(n=[{key:"unfinishedTaskSubmissionMessage",value:function(){var e="",t=this.props.submission.taskSubmissions.filter((function(e){return"risk questionnaire"===e.taskType}));if(t.length>0){var n=t[0],r="complete"===n.status||"approved"==n.status;n&&!r&&(e='Please complete "'.concat(n.taskName,'" to see the Security Risk Assessment'))}return e}},{key:"hasSelectableComponents",value:function(e){var t=e.taskSubmissions,n=!1;return t.forEach((function(e,t){"selection"===e.taskType&&(n=!0)})),n}},{key:"render",value:function(){var e=Zi({},this.props),t=e.submission,n=e.viewAs,r=e.user;return t?"in_progress"===t.status&&"submitter"===n?o.a.createElement("div",{className:"Summary"},o.a.createElement("h3",null,"Questionnaire Submission has not been completed...")):"expired"===t.status?o.a.createElement(Gi,null):o.a.createElement("div",{className:"Summary"},this.renderSubmitterInfo(t),this.renderTasks(t),this.renderApprovals(t),o.a.createElement(Qi,{riskResults:t.riskResults,hideWeightsAndScore:t.hideWeightsAndScore}),this.renderSkipCheckbox(t,n,r),this.renderButtons(t)):null}},{key:"renderSubmitterInfo",value:function(e){var t=e.submitter;return o.a.createElement("div",{className:"request-info"},o.a.createElement("h3",null,"Request Information"),o.a.createElement("div",null,o.a.createElement("b",null,"Product Name:")," ",e.productName," "),o.a.createElement("div",null,o.a.createElement("b",null,"Submitted by:")," ",t.name),o.a.createElement("div",null,o.a.createElement("b",null,"Email:")," ",t.email),o.a.createElement("div",null,o.a.createElement("b",null,"Status:")," ",ac(e.status)))}},{key:"renderTasks",value:function(e){var t=this,n=e.taskSubmissions,r=qi.isSRATaskFinalised(e.taskSubmissions);if(0===n.length)return null;var a=this.unfinishedTaskSubmissionMessage()?o.a.createElement("div",{className:"alert alert-warning"},this.unfinishedTaskSubmissionMessage()):null;return o.a.createElement("div",{className:"tasks"},o.a.createElement("h3",null,"Tasks"),a,r?qi.getSraIsFinalisedAlert():null,n.map((function(e){var n=e.uuid,r=e.taskName,i=e.taskType,c=e.status,u=e.approver,s=r+" ("+ac(c)+")";"start"===c&&(s=r+" (Please complete me)"),"approved"!==c&&"denied"!==c||!u.name||(s=r+" ("+ac(c)+" by "+u.name+")");var l=Zi({},t.props).token,f=N.redirectToTaskSubmission(n,l,"urlString");"selection"===i&&(f=N.redirectToComponentSelectionSubmission(n,l,"urlString")),"security risk assessment"===i&&(f=N.redirectToSecurityRiskAssessment(n,l,"urlString")),"control validation audit"===i&&(f=N.redirectToControlValidationAudit(n,l,"urlString"));var p=o.a.createElement(oe.a,{to:f},s);return o.a.createElement("div",{key:n},a&&"security risk assessment"===i?null:p)})))}},{key:"renderButtons",value:function(e){var t=this,n=Zi({},this.props),r=n.user,a=n.viewAs,i=n.token,c=n.handleSubmitButtonClick,u=n.handlePDFDownloadButtonClick,s=n.handleApproveButtonClick,l=(n.handleOptionalApproveButtonClick,n.handleAssignToMeButtonClick),f=n.handleDenyButtonClick,p=n.handleEditButtonClick,m=o.a.createElement(Gn,{title:"DOWNLOAD PDF",iconImage:Da.a,classes:["button"],onClick:u}),y=r?o.a.createElement(Gn,{title:"VIEW ANSWERS",classes:["button"],onClick:function(){return N.redirectToQuestionnaireReview(e.submissionUUID,i)}}):"";if("submitter"===a){var b=o.a.createElement(Gn,{title:"EDIT ANSWERS",iconImage:Ca.a,classes:["button"],onClick:p}),d=o.a.createElement(Fo,{title:"SEND FOR APPROVAL",classes:["button"],disabled:hr.existsIncompleteTaskSubmission(e.taskSubmissions),onClick:c});return"submitted"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,b,m,d),o.a.createElement("div",null)):"waiting_for_security_architect_approval"===e.status||"awaiting_security_architect_review"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,b,m),o.a.createElement("div",null)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,m),o.a.createElement("div",null))}if("approver"===a||"businessOwnerApprover"===a){var h=o.a.createElement(Gn,{title:"Assign to Me",classes:["button"],onClick:l}),v=o.a.createElement(Fo,{title:"APPROVE",classes:["button"],onClick:function(){return s(t.state.skipBoAndCisoApproval)}}),O=o.a.createElement(Gn,{title:"DENY",classes:["button"],onClick:function(){return f(t.state.skipBoAndCisoApproval)}});return"submitted"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,y,m),o.a.createElement("div",null)):"awaiting_security_architect_review"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,y,m,h),o.a.createElement("div",null)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,y,m),o.a.createElement("div",null,v,O))}return o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,y,m),o.a.createElement("div",null))}},{key:"renderApprovals",value:function(e){if("in_progress"===e.status||"submitted"===e.status)return null;var t=e.approvalStatus,n=e.securityArchitectApprover,r=e.cisoApprover,a=ac(t.securityArchitect);"Approved"==a&&(a=n.FirstName+" "+n.Surname+" - "+a),"waiting_for_security_architect_approval"===e.status&&(a="Being Reviewed by "+n.FirstName+" "+n.Surname);var i=ac(t.chiefInformationSecurityOfficer);"Pending"!==i&&"Not Required"!==i&&(i=r.FirstName+" "+r.Surname+" - "+i);var c=ac(t.businessOwner);return"Pending"!==c&&"Not Required"!==c&&(c=e.businessOwnerApproverName+" - "+c),o.a.createElement("div",{className:"approvals"},o.a.createElement("h3",null,"Approvals"),o.a.createElement("div",null,o.a.createElement("b",null,"Security Architect")," - ",a),o.a.createElement("div",null,o.a.createElement("b",null,"Chief Information Security Officer")," - ",i),o.a.createElement("div",null,o.a.createElement("b",null,"Business Owner")," - ",c))}},{key:"renderSkipCheckbox",value:function(e,t,n){var r=this;return n&&!n.isSA||!e.isApprovalOverrideBySecurityArchitect?null:"approver"===t&&n.isSA&&"waiting_for_security_architect_approval"===e.status?o.a.createElement("div",{className:"approvals"},o.a.createElement("h3",null,"Skip Business Owner and CISO approval"),o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:this.state.skipBoAndCisoApproval,onChange:function(e){r.setState({skipBoAndCisoApproval:e.target.checked})}}),"  This deliverable does not modify the current risk rating for this project. Business Owner and CISO approval is not required")):null}}])&&ec(t.prototype,n),r&&ec(t,r),i}(r.Component);ic.defaultProps={submission:null,handlePDFDownloadButtonClick:function(){},handleSubmitButtonClick:function(){},handleApproveButtonClick:function(){},handleDenyButtonClick:function(){},handleEditButtonClick:function(){},handleAssignToMeButtonClick:function(){},viewAs:"others",token:"",user:null};var cc=ic,uc=n(122),sc=n.n(uc);function lc(e){return(lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fc(Object(n),!0).forEach((function(t){mc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bc(e,t){return(bc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vc(e);if(t){var o=vc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hc(this,n)}}function hc(e,t){return!t||"object"!==lc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vc(e){return(vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bc(e,t)}(i,e);var t,n,r,a=dc(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this)).state={showModal:!1},e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=pc({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t,e.secureToken)}},{key:"render",value:function(){var e=pc({},this.props),t=e.secureToken,n=e.loadingState,r=pc({},this.props.submissionState),a=(r.location,r.title),i=r.user,c=r.submission,u=r.isCurrentUserApprover,s=r.isCurrentUserABusinessOwnerApprover,l=r.siteConfig;if(!i||!c||!l)return null;if(n["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"])return null;var f="others";do{if(i.id===c.submitter.id){f="submitter";break}if(s){f="businessOwnerApprover";break}if(u){f="approver";break}}while(0);return o.a.createElement("div",{className:"SummaryContainer"},o.a.createElement(Gr,{title:a,subtitle:"Summary",username:i.name,logopath:l.logoPath}),o.a.createElement(cc,{submission:c,handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleEditButtonClick:this.handleOpenModal.bind(this),handleAssignToMeButtonClick:this.handleAssignToMeButtonClick.bind(this),viewAs:f,user:i,token:t}),o.a.createElement($t,{footerCopyrightText:l.footerCopyrightText}),o.a.createElement(sc.a,{isOpen:this.state.showModal,parentSelector:function(){return document.querySelector(".SummaryContainer")}},o.a.createElement("h3",null,"Are you sure you want to edit this submission?"),o.a.createElement("div",{className:"content"},"This will cancel your current submission and require it to be resubmitted for approval."),o.a.createElement("div",null,o.a.createElement(Fo,{title:"Yes",onClick:this.handleEditButtonClick.bind(this)}),o.a.createElement(Gn,{title:"No",onClick:this.handleCloseModal.bind(this)}))))}},{key:"handlePDFDownloadButtonClick",value:function(){var e,t=pc({},this.props.submissionState),n=t.submission,r=t.siteConfig;n&&r&&(n&&n.riskResults&&(e=n.riskResults),hi.generatePDF({questions:n.questions,submitter:n.submitter,questionnaireTitle:n.questionnaireTitle,siteConfig:r,riskResults:e||[]}))}},{key:"handleSubmitButtonClick",value:function(){var e=pc({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchSubmitForApprovalAction(n.submissionID)}},{key:"handleApproveButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=pc({},this.props),n=t.secureToken,r=pc({},this.props.submissionState),o=r.user,a=r.submission,i=r.isCurrentUserApprover,c=r.isCurrentUserABusinessOwnerApprover;o&&a&&(c?this.props.dispatchBusinessOwnerApproveSubmissionAction(a.submissionID,n):i&&this.props.dispatchApproveSubmissionAction(a.submissionID,e))}},{key:"handleDenyButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=pc({},this.props),n=t.secureToken,r=pc({},this.props.submissionState),o=r.user,a=r.submission,i=r.isCurrentUserApprover,c=r.isCurrentUserABusinessOwnerApprover;o&&a&&(c?this.props.dispatchBusinessOwnerDenySubmissionAction(a.submissionID,n):i&&this.props.dispatchDenySubmissionAction(a.submissionID,e))}},{key:"handleAssignToMeButtonClick",value:function(){var e=pc({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchAssignToMeAction(n.submissionID)}},{key:"handleEditButtonClick",value:function(){var e=pc({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&(this.handleCloseModal(),this.props.dispatchEditSubmissionAction(n.submissionID))}},{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}}])&&yc(t.prototype,n),r&&yc(t,r),i}(r.Component),Sc=Object(c.b)((function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadSubmissionAction:function(t,n){e(xr(t,n))},dispatchBusinessOwnerApproveSubmissionAction:function(t,n){e(function(e,t){return function(){var n=Nr(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e.getCSRFToken();case 3:return a=n.sent,n.next=6,pr.approveQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:a,secureToken:t});case 6:i=n.sent,c=i.uuid,r(xr(c,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchBusinessOwnerDenySubmissionAction:function(t,n){e(function(e,t){return function(){var n=Nr(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e.getCSRFToken();case 3:return a=n.sent,n.next=6,pr.denyQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:a,secureToken:t});case 6:i=n.sent,c=i.uuid,r(xr(c,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchSubmitForApprovalAction:function(t){e(function(e){return function(){var t=Nr(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,pr.submitQuestionnaireForApproval({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(xr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchEditSubmissionAction:function(t){e(function(e){return function(){var t=Nr(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,pr.editQuestionnaireSubmission({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,N.redirectToQuestionnaireEditing(i),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchApproveSubmissionAction:function(t,n){e(function(e,t){return function(){var n=Nr(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e.getCSRFToken();case 3:return a=n.sent,n.next=6,pr.approveQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,c=i.uuid,r(xr(c)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchDenySubmissionAction:function(t,n){e(function(e,t){return function(){var n=Nr(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e.getCSRFToken();case 3:return a=n.sent,n.next=6,pr.denyQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,c=i.uuid,r(xr(c)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchAssignToMeAction:function(t){e(function(e){return function(){var t=Nr(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,pr.assignQuestionnaireSubmissionToSecurityArchitect({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(xr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(Oc),gc=n(427),Ec=n.n(gc);function wc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wc(Object(n),!0).forEach((function(t){Tc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ac(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function jc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ac(a,r,o,i,c,"next",e)}function c(e){Ac(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Pc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"loadAvailableComponents",value:(a=jc(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,M.request({query:"\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n    Controls {\n      ID\n      Name\n      Description\n      ImplementationGuidance\n    }\n  }\n}"});case 3:if(t=e.sent,n=w()(t,"data.readSecurityComponents"),Array.isArray(n)){e.next=7;break}return e.abrupt("return",[]);case 7:return r=n.map((function(e){return gr.parseFromJSONObject(e)})),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"createJiraTickets",value:(o=jc(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=kc({},t),r=n.jiraKey,o=n.componentIDList,a=n.csrfToken,i=o.map((function(e){return"\ncreateJiraTicket".concat(e,': createJiraTicket(ComponentID: "').concat(e,'", JiraKey: "').concat(r,'") {\n  ID\n  JiraKey\n  TicketLink\n}')})),c="\nmutation {\n  ".concat(i.join("\n"),"\n}"),e.next=5,M.request({query:c,csrfToken:a});case 5:if(u=e.sent,s=w()(u,"data",null)){e.next=9;break}throw q;case 9:return l=Ec()(o.map((function(e){var t="createJiraTicket".concat(e),n=w()(s,t,null);return n?{id:T()(w()(n,"ID","")),jiraKey:T()(w()(n,"JiraKey","")),link:T()(w()(n,"TicketLink",""))}:null}))),e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}],n&&Pc(t.prototype,n),r&&Pc(t,r),e}();function Ic(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Cc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ic(a,r,o,i,c,"next",e)}function c(e){Ic(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Rc(){return function(){var e=Cc(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_c.loadAvailableComponents();case 2:return n=e.sent,r={type:l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS,payload:n},e.next=6,t(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Dc(e,t){return function(){var n=Cc(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(o);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function Nc(e,t){return function(){var n=Cc(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(o);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function xc(e){return function(){var t=Cc(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_VIEW_MODE,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Uc(e){return function(){var t=Cc(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_JIRA_TICKETS,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Lc(e){var t=e.selectedComponents.map((function(e){return e.isSaved=!0,e}));return function(){var e=Cc(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:l.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS,payload:t},e.next=3,n(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Bc(e){return function(e){if(Array.isArray(e))return Qc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Qc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mc(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function qc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Mc(a,r,o,i,c,"next",e)}function c(e){Mc(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Fc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fc(Object(n),!0).forEach((function(t){Hc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kc(e){var t=Vc({},e),n=t.uuid,r=t.secureToken,o=t.type;return function(){var e=qc(regeneratorRuntime.mark((function e(t){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ir.fetchTaskSubmission({uuid:n,secureToken:r});case 3:return a=e.sent,i={type:l.TASK.LOAD_TASK_SUBMISSION,payload:a},e.next=7,t(i);case 7:if("componentSelection"!==o){e.next=10;break}return e.next=10,t(Lc(a));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),te.displayError(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}function Jc(e){var t=Vc({},e),n=t.answeredQuestion,r=t.secureToken,o=t.bypassNetwork;return function(){var e=qc(regeneratorRuntime.mark((function e(t,a){var i,c,u,s,f,p,m,y,b,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=function(){return a().taskSubmissionState.taskSubmission})()){e.next=3;break}return e.abrupt("return");case 3:return c={type:l.TASK.PUT_DATA_IN_TASK_SUBMISSION,payload:n},e.next=6,t(c);case 6:if(o){e.next=24;break}return e.prev=7,e.t0=Ir,e.t1=i().uuid,e.t2=[n.id],e.t3=[hr.transformFromFullQuestionToData(n)],e.next=14,_e.getCSRFToken();case 14:return e.t4=e.sent,e.t5=r,e.t6={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5},e.next=19,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t6);case 19:e.next=24;break;case 21:e.prev=21,e.t7=e.catch(7),te.displayError(e.t7);case 24:if(u=hr.getDataUpdateIntent({answeredQuestion:n,questions:i().questions}),s=u.currentIndex,f=u.nonApplicableIndexes,p=u.targetIndex,m=u.complete,u.terminate,y=u.result,!(f.length>0)){e.next=29;break}return b={type:l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE,payload:f},e.next=29,t(b);case 29:if(!(p>s)){e.next=33;break}return d={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:s,targetIndex:p}},e.next=33,t(d);case 33:if(o){e.next=42;break}return e.prev=34,e.next=37,$c(i(),R.a.uniq([s].concat(Bc(f),[p])),r);case 37:e.next=42;break;case 39:e.prev=39,e.t8=e.catch(34),te.displayError(e.t8);case 42:if(!m){e.next=45;break}return e.next=45,t(Yc({bypassNetwork:o,secureToken:r,result:y}));case 45:case"end":return e.stop()}}),e,null,[[7,21],[34,39]])})));return function(t,n){return e.apply(this,arguments)}}()}function Wc(e){return function(){var t=qc(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.taskSubmissionState.taskSubmission){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,n({type:l.TASK.SAVE_SELECTED_COMPONENT_REQUEST});case 6:return i=o.componentSelectionState.selectedComponents.map((function(e){return{SecurityComponentID:e.id,ProductAspect:e.productAspect,TaskSubmissionID:a.id}})),t.prev=7,t.t0=Ir,t.t1=e,t.t2=i,t.t3=a.uuid,t.next=14,_e.getCSRFToken();case 14:return t.t4=t.sent,t.t5={jiraKey:t.t1,components:t.t2,uuid:t.t3,csrfToken:t.t4},t.next=18,t.t0.updateTaskSubmissionWithSelectedComponents.call(t.t0,t.t5);case 18:return t.next=20,n(Yc());case 20:return t.next=22,n({type:l.TASK.SAVE_SELECTED_COMPONENT_SUCCESS});case 22:t.next=29;break;case 24:return t.prev=24,t.t6=t.catch(7),t.next=28,n({type:l.TASK.SAVE_SELECTED_COMPONENT_FAILURE});case 28:te.displayError(t.t6);case 29:case"end":return t.stop()}}),t,null,[[7,24]])})));return function(e,n){return t.apply(this,arguments)}}()}function Yc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Vc({},e),n=t.secureToken,r=t.bypassNetwork,o=t.result,a=t.taskSubmissionUUID,i=t.questionnaireUUID;return function(){var e=qc(regeneratorRuntime.mark((function e(t,c){var u,s,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(){return c().taskSubmissionState.taskSubmission},r){e.next=20;break}return e.prev=2,e.next=5,_e.getCSRFToken();case 5:return s=e.sent,e.next=8,Ir.completeTaskSubmission({uuid:void 0===a?u().uuid:a,result:o||"",secureToken:n,csrfToken:s});case 8:return f=e.sent,p=f.uuid,e.next=12,t(Kc({uuid:p,secureToken:n}));case 12:void 0!==i&&N.redirectToQuestionnaireSummary(i,n),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),te.displayError(e.t0);case 18:e.next=22;break;case 20:return e.next=22,t({type:l.TASK.COMPLETE_TASK_SUBMISSION,payload:o});case 22:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n){return e.apply(this,arguments)}}()}function Gc(e){var t=Vc({},e),n=t.targetQuestion,r=t.secureToken,o=t.bypassNetwork;return function(){var e=qc(regeneratorRuntime.mark((function e(t,a){var i,c,u,s,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(c=i.questions,!((u=c.findIndex((function(e){return e.isCurrent})))<0)){e.next=7;break}throw new Error("Wrong state, please reload the task");case 7:if(n.isApplicable&&n.hasAnswer){e.next=9;break}return e.abrupt("return");case 9:if(!((s=c.findIndex((function(e){return e.id===n.id})))<0)){e.next=12;break}return e.abrupt("return");case 12:return f={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:u,targetIndex:s}},e.next=15,t(f);case 15:if(o){e.next=18;break}return e.next=18,$c(i,R.a.uniq([u,s]),r);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function zc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Vc({},e),n=t.secureToken,r=t.bypassNetwork,o=t.type;return function(){var e=qc(regeneratorRuntime.mark((function e(t,a){var i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(r){e.next=28;break}return e.prev=4,e.t0=Ir,e.t1=i.uuid,e.next=9,_e.getCSRFToken();case 9:return e.t2=e.sent,e.t3=n,e.t4={uuid:e.t1,csrfToken:e.t2,secureToken:e.t3},e.next=14,e.t0.editTaskSubmission.call(e.t0,e.t4);case 14:return c=e.sent,u=c.uuid,e.next=18,t(Kc({uuid:u,secureToken:n}));case 18:if("componentSelection"!==o){e.next=21;break}return e.next=21,t(Lc(i));case 21:e.next=26;break;case 23:e.prev=23,e.t5=e.catch(4),te.displayError(e.t5);case 26:e.next=29;break;case 28:t({type:l.TASK.EDIT_TASK_SUBMISSION});case 29:case"end":return e.stop()}}),e,null,[[4,23]])})));return function(t,n){return e.apply(this,arguments)}}()}function $c(e,t,n){return Zc.apply(this,arguments)}function Zc(){return(Zc=qc(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=Ir,e.t1=t.uuid,e.t2=n.map((function(e){return t.questions[e].id})),e.t3=n.map((function(e){return hr.transformFromFullQuestionToData(t.questions[e])})),e.next=7,_e.getCSRFToken();case 7:return e.t4=e.sent,e.t5=r,e.t6={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5},e.next=12,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t6);case 12:e.next=17;break;case 14:e.prev=14,e.t7=e.catch(0),te.displayError(e.t7.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function Xc(e){return(Xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eu(Object(n),!0).forEach((function(t){nu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ru(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ou(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function au(e,t){return(au=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function iu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=uu(e);if(t){var o=uu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cu(this,n)}}function cu(e,t){return!t||"object"!==Xc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uu(e){return(uu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var su=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&au(e,t)}(i,e);var t,n,r,a=iu(i);function i(){return ru(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=tu({},this.props),n=t.taskSubmission,r=t.saveAnsweredQuestion,a=t.moveToPreviousQuestion,i=t.handleApproveButtonClick,c=t.handleDenyButtonClick,u=t.editAnswers,s=t.showBackButton,l=t.showEditButton,f=t.canUpdateAnswers,p=t.viewAs,m=t.secureToken,y=o.a.createElement(Va,{questions:n.questions});f&&(y=o.a.createElement(ha,{questions:n.questions,saveAnsweredQuestion:r,onLeftBarItemClick:a}));var b=s?o.a.createElement(Fo,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){N.redirectToQuestionnaireSummary(n.questionnaireSubmissionUUID,m)}}):null,d="risk questionnaire"===n.taskType&&qi.isSRATaskFinalised(n.siblingSubmissions),h=l&&!d?o.a.createElement(Gn,{title:"EDIT ANSWERS",onClick:u,iconImage:Ca.a}):null,v=["complete","waiting_for_approval","approved","denied"],O=v.indexOf(n.status)>-1?o.a.createElement(Gn,{title:"DOWNLOAD PDF",iconImage:Da.a,onClick:function(){return e.downloadPdf()}}):null,S=n.result&&v.indexOf(n.status)>-1?o.a.createElement("div",{className:"result"},o.a.createElement("h3",null,"Result:"),o.a.createElement("div",null,n.result)):null,g=n.riskResults&&v.indexOf(n.status)>-1?o.a.createElement(Qi,{riskResults:n.riskResults,hideWeightsAndScore:n.hideWeightsAndScore}):null,E="approver"===p&&"waiting_for_approval"===n.status?o.a.createElement(Fo,{title:"APPROVE",onClick:i,classes:["button"]}):null,w="approver"===p&&"waiting_for_approval"===n.status?o.a.createElement(Gn,{title:"DENY",onClick:c,classes:["button"]}):null;return o.a.createElement("div",{className:"TaskSubmission"},"expired"===n.status&&o.a.createElement(Gi,null),"expired"!==n.status&&o.a.createElement("div",null,!("risk questionnaire"!==n.taskType||!d)&&qi.getSraIsFinalisedAlert(),S,y,g,o.a.createElement("div",{className:"buttons"},h,O,b,o.a.createElement("div",null,E,w))))}},{key:"downloadPdf",value:function(){var e=tu({},this.props),t=e.taskSubmission,n=e.currentUser,r=e.siteConfig;(t||r||n)&&hi.generatePDF({questions:t.questions,submitter:t.submitter.email?t.submitter:n,questionnaireTitle:t.taskName,siteConfig:r,result:t.result,riskResults:t.riskResults})}}])&&ou(t.prototype,n),r&&ou(t,r),i}(r.Component);function lu(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function fu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var pu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"fetchCurrentUser",value:(o=regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,M.request({query:"\nquery {\n  readCurrentMember {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n}"});case 3:if(t=e.sent,n=R.a.get(t,"data.readCurrentMember.0",null)){e.next=7;break}throw new Error("Authenticate error");case 7:if((r=ar.parseUserFromJSON(n)).id){e.next=10;break}throw new Error("Authenticate error");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){lu(a,n,r,i,c,"next",e)}function c(e){lu(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})}],n&&fu(t.prototype,n),r&&fu(t,r),e}();function mu(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function yu(){return function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pu.fetchCurrentUser();case 3:n=e.sent,r={type:l.USER.SET_CURRENT_USER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),te.displayError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){mu(a,r,o,i,c,"next",e)}function c(e){mu(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()}function bu(e){return(bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function du(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?du(Object(n),!0).forEach((function(t){vu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):du(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ou(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Su(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gu(e,t){return(gu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Eu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ku(e);if(t){var o=ku(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wu(this,n)}}function wu(e,t){return!t||"object"!==bu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ku(e){return(ku=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gu(e,t)}(i,e);var t,n,r,a=Eu(i);function i(){return Ou(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=hu({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken)}},{key:"render",value:function(){var e=hu({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,a=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,c=e.dispatchEditAnswersAction,u=(e.dispatchApproveTaskSubmissionAction,e.dispatchDenyTaskSubmissionAction,e.secureToken);if(!n||!r||!t)return null;var s="others";do{if(parseInt(n.id)===parseInt(r.submitter.id)){s="submitter";break}if(r.isCurrentUserAnApprover){s="approver";break}}while(0);var l=parseInt(n.id)===parseInt(r.submitter.id),f=("in_progress"===r.status||"start"===r.status)&&(n.isSA||l),p=("complete"===r.status||"waiting_for_approval"===r.status||"denied"===r.status)&&"submitted"===r.questionnaireSubmissionStatus&&(n.isSA||l&&!r.lockWhenComplete);return o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(Gr,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),o.a.createElement(su,{taskSubmission:r,saveAnsweredQuestion:a,moveToPreviousQuestion:i,editAnswers:c,showEditButton:p,canUpdateAnswers:f,handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),showBackButton:!!r.questionnaireSubmissionUUID,viewAs:s,siteConfig:t,secureToken:u}),o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText}))}},{key:"handleApproveButtonClick",value:function(){var e=hu({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchApproveTaskSubmissionAction(r)}},{key:"handleDenyButtonClick",value:function(){var e=hu({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchDenyTaskSubmissionAction(r)}}])&&Su(t.prototype,n),r&&Su(t,r),i}(r.Component),Au=Object(c.b)((function(e){return{questionnaireSubmission:e.questionnaireState.submissionState,taskSubmission:e.taskSubmissionState.taskSubmission,siteTitle:e.siteConfigState.siteTitle,currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadDataAction:function(t,n){e(yu()),e(mn()),e(Kc({uuid:t,secureToken:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(Jc({answeredQuestion:t}))},dispatchMoveToPreviousQuestionAction:function(t){e(Gc({targetQuestion:t}))},dispatchEditAnswersAction:function(){e(zc())},dispatchApproveTaskSubmissionAction:function(t){e(function(e){return function(){var t=qc(regeneratorRuntime.mark((function t(n,r){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,Ir.approveTaskSubmission({uuid:e,csrfToken:o});case 6:return a=t.sent,a.status,t.next=10,n(Kc({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),te.displayError(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchDenyTaskSubmissionAction:function(t){e(function(e){return function(){var t=qc(regeneratorRuntime.mark((function t(n,r){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,Ir.denyTaskSubmission({uuid:e,csrfToken:o});case 6:return a=t.sent,a.status,t.next=10,n(Kc({uuid:e}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),te.displayError(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(Tu);function ju(e){return(ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Iu(e,t){return(Iu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Du(e);if(t){var o=Du(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ru(this,n)}}function Ru(e,t){return!t||"object"!==ju(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Du(e){return(Du=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nu(Object(n),!0).forEach((function(t){Uu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Iu(e,t)}(i,e);var t,n,r,a=Cu(i);function i(){return Pu(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,xu({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=xu({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,a=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,c=e.dispatchEditAnswersAction;if(!n||!r||!t)return null;var u="in_progress"===r.status||"start"===r.status,s="complete"===r.status;return o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(Gr,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),o.a.createElement(su,{taskSubmission:r,saveAnsweredQuestion:a,moveToPreviousQuestion:i,editAnswers:c,showEditButton:s,canUpdateAnswers:u,showBackButton:!1,siteConfig:t,currentUser:n}),o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText}))}}])&&_u(t.prototype,n),r&&_u(t,r),i}(r.Component),Bu=Object(c.b)((function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user}}),(function(e,t){return{dispatchLoadDataAction:function(){var n=xu({},t).taskId;e(yu()),e(mn()),e(function(e){var t=Vc({},e).taskId;return function(){var e=qc(regeneratorRuntime.mark((function e(n,r){var o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ir.fetchStandaloneTask({taskId:t});case 3:return o=e.sent,a={id:"",uuid:"",taskName:o.name,taskType:"questionnaire",status:"in_progress",result:"",questions:o.questions,selectedComponents:[],jiraTickets:[],questionnaireSubmissionUUID:"",questionnaireSubmissionID:"",submitter:r().currentUserState,lockWhenComplete:!1},i={type:l.TASK.LOAD_TASK_SUBMISSION,payload:a},e.next=8,n(i);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),te.displayError(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()}({taskId:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(Jc({answeredQuestion:t,bypassNetwork:!0}))},dispatchMoveToPreviousQuestionAction:function(t){e(Gc({targetQuestion:t,bypassNetwork:!0}))},dispatchEditAnswersAction:function(){e(zc({bypassNetwork:!0}))}}}))(Lu);function Qu(e){return(Qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mu(Object(n),!0).forEach((function(t){Fu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ku(e,t){return(Ku=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ju(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yu(e);if(t){var o=Yu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wu(this,n)}}function Wu(e,t){return!t||"object"!==Qu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yu(e){return(Yu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ku(e,t)}(i,e);var t,n,r,a=Ju(i);function i(){return Vu(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=qu({},this.props),t=e.title,n=e.disabled,r=e.onItemClick;return o.a.createElement("div",{className:"LeftBarItem"},o.a.createElement("button",{className:"btn",disabled:n,onClick:function(e){e.preventDefault(),r()}},this.renderIcon(),t))}},{key:"renderIcon",value:function(){switch(qu({},this.props).iconType){case"editing":return o.a.createElement("img",{src:Ve.a,alt:""});case"success":return o.a.createElement("i",{className:"fas fa-check-circle success"});case"pending":return o.a.createElement("i",{className:"fas fa-check-circle pending"});case"not-applicable":return o.a.createElement("i",{className:"fas fa-question-circle not-applicable"});default:return null}}}])&&Hu(t.prototype,n),r&&Hu(t,r),i}(r.Component);function zu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isComponentExist",value:function(e,t){return t.filter((function(t){return t.id===e})).length>0}},{key:"isSelectedComponentExist",value:function(e,t,n){return""!==t?n.filter((function(n){return n.id===e&&n.productAspect===t})).length>0:n.filter((function(t){return t.id===e})).length>0}},{key:"isComponentSaved",value:function(e,t,n){return n.filter((function(n){return n.id===e&&n.productAspect===t&&n.isSaved})).length>0}},{key:"doescomponentExistForProductAspect",value:function(e,t){return t.filter((function(t){return t.productAspect===e})).length>0}}],(n=null)&&zu(t.prototype,n),r&&zu(t,r),e}();function Zu(e){return(Zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xu(Object(n),!0).forEach((function(t){ts(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ts(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ns(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rs(e,t){return(rs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function os(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=is(e);if(t){var o=is(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return as(this,n)}}function as(e,t){return!t||"object"!==Zu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function is(e){return(is=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rs(e,t)}(i,e);var t,n,r,a=os(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={filter:"",selectedProductAspect:e.productAspects&&e.productAspects.length?e.productAspects[0]:""},t}return t=i,(n=[{key:"handleChange",value:function(e){alert(e.target.value)}},{key:"render",value:function(){var e=this,t=es({},this.props),n=t.title,r=t.availableComponents,a=t.selectedComponents,i=t.removeComponent,c=t.addComponent,u=t.productAspects,s=t.componentTarget,l=es({},this.state),f=l.filter,p=l.selectedProductAspect;return o.a.createElement("div",{className:"LeftBar"},u&&u.length>0&&o.a.createElement("div",{className:"product-aspect"},o.a.createElement("label",null,o.a.createElement("span",{className:"product-aspect-label"},"Please select a Product Aspect:"),o.a.createElement("select",{className:"custom-select custom-select-sm",onChange:function(t){var n=T()(t.target.value).trim();e.setState({selectedProductAspect:n})},value:p},u.map((function(e,t){return o.a.createElement("option",{key:t,value:e},e)}))))),o.a.createElement("div",{className:"title"},n),o.a.createElement("div",{className:"search"},o.a.createElement("i",{className:"fas fa-search"}),o.a.createElement("input",{type:"text",placeholder:"Filter component...",onChange:function(t){var n=T()(t.target.value).trim();e.setState({filter:n})}})),o.a.createElement("div",{className:"items"},r.filter((function(e){return!f||e.name.toUpperCase().includes(f.toUpperCase())})).map((function(e){var t=$u.isSelectedComponentExist(e.id,p,a),n=$u.isComponentSaved(e.id,p,a,s)&&"JIRA Cloud"==s;return o.a.createElement(Gu,{title:e.name,iconType:t?"success":"pending",disabled:n,key:e.id,onItemClick:function(){t?i(e.id,p):c(e.id,p)}})}))))}}])&&ns(t.prototype,n),r&&ns(t,r),i}(r.Component),us=n(95),ss=n(432);function ls(e){return(ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ps(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fs(Object(n),!0).forEach((function(t){ms(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ms(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ys(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bs(e,t){return(bs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ds(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vs(e);if(t){var o=vs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hs(this,n)}}function hs(e,t){return!t||"object"!==ls(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vs(e){return(vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Os=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bs(e,t)}(i,e);var t,n,r,a=ds(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={isExpanded:!1,isImplementationEvidenceExpaned:!0},t}return t=i,(n=[{key:"handleOnBlurForImplementationEvidence",value:function(e){this.props.isCVATaskEditable&&this.props.updateEvidenceTextareaData(e.target.getContent())}},{key:"render",value:function(){var e=this,t=ps({},this.props),n=(t.id,t.name),r=t.description,a=t.implementationGuidance,i=t.implementationEvidence,c=t.className,u=t.showImplementationEvidence,s=(t.updateEvidenceTextareaData,t.implementationEvidenceUserInput),l=t.isCVATaskEditable,f=ps({},this.state),p=f.isExpanded,m=f.isImplementationEvidenceExpaned;return o.a.createElement("div",{className:"ControlInfo "+c},n&&o.a.createElement("h5",null,n),r&&o.a.createElement("div",{className:"control-description"},o.a.createElement("span",null,o.a.createElement("b",null,"Description: ")),o.a.createElement("span",{className:"control-description-cs",dangerouslySetInnerHTML:{__html:r}})),a&&o.a.createElement("div",{className:"implementation-Guidance"},o.a.createElement("div",{className:"implementation-Guidance-title",onClick:function(){return e.setState({isExpanded:!p})}},o.a.createElement("span",null,o.a.createElement("b",null,"Implementation Guidance "),o.a.createElement(us.Icon,{name:"".concat(p?"caret-up":"caret-down")}))),p&&o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}})),u&&o.a.createElement("div",{className:"implementation-Guidance"},o.a.createElement("div",{className:"implementation-Guidance-title",onClick:function(){return e.setState({isImplementationEvidenceExpaned:!m})}},o.a.createElement("span",null,o.a.createElement("b",null,"Evidence of Implementation / Rationale of Not Applicable"),o.a.createElement(us.Icon,{name:"".concat(m?"caret-up":"caret-down")}))),m&&o.a.createElement("div",null,o.a.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),l?o.a.createElement("div",null,o.a.createElement(ss.a,{className:"implementation-evidence",initialValue:s,init:{selector:"textarea",menubar:!1,toolbar:!1,statusbar:!1,skin_url:"resources/vendor/silverstripe/admin/thirdparty/tinymce/skins/silverstripe"},onBlur:function(t){return e.handleOnBlurForImplementationEvidence(t)}})):o.a.createElement("div",{className:"implementation-evidence"},o.a.createElement("span",{dangerouslySetInnerHTML:{__html:s.replace(/ href=/gi," target='_blank' href=")}})))))}}])&&ys(t.prototype,n),r&&ys(t,r),i}(o.a.Component);function Ss(e){return(Ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Es(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ws(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ks(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ts(e,t){return(Ts=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function As(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ps(e);if(t){var o=Ps(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return js(this,n)}}function js(e,t){return!t||"object"!==Ss(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ps(e){return(Ps=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ts(e,t)}(i,e);var t,n,r,a=As(i);function i(){return ws(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gs(Object(n),!0).forEach((function(t){Es(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.id,n=e.name,r=e.description,a=e.removeComponent,i=e.childControls,c=e.isDisable;return o.a.createElement("div",{className:"ComponentInfo",key:t+n},o.a.createElement("h3",null,!c&&o.a.createElement("button",{onClick:function(e){e.preventDefault(),a()}},o.a.createElement("i",{className:"fas fa-minus-circle text-danger"}),o.a.createElement("span",null," ",n))),o.a.createElement("p",null,r),i&&i.length>0&&o.a.createElement("div",{className:"control-heading"},"Controls"),i&&i.length>0&&i.map((function(e,t){return o.a.createElement(Os,{key:t,id:e.id,name:e.name,description:e.description,implementationGuidance:e.implementationGuidance,className:"control-cs"})})))}}])&&ks(t.prototype,n),r&&ks(t,r),i}(o.a.Component);function Is(e){return(Is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cs(Object(n),!0).forEach((function(t){Ds(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ns(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xs(e,t){return(xs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Us(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bs(e);if(t){var o=Bs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ls(this,n)}}function Ls(e,t){return!t||"object"!==Is(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bs(e){return(Bs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xs(e,t)}(i,e);var t,n,r,a=Us(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={jiraKey:""},t}return t=i,(n=[{key:"render",value:function(){var e=this,t=Rs({},this.props),n=t.availableComponents,r=t.selectedComponents,a=t.createJIRATickets,i=t.removeComponent,c=t.addComponent,u=t.finishWithSelection,s=t.saveControls,l=t.extraButtons,f=t.componentTarget,p=t.productAspects,m=t.isStandaloneTask,y=Rs({},this.state).jiraKey,b=p&&p.length>0&&r.length>0;return o.a.createElement("div",{className:"ComponentSelection"},o.a.createElement("div",{className:"main-wrapper"},o.a.createElement(cs,{selectedComponents:r,availableComponents:n,title:"Available Components",removeComponent:i,addComponent:c,productAspects:p,componentTarget:f}),o.a.createElement("div",{className:"main-content"},o.a.createElement("div",{className:"heading"},"Selected Components"),o.a.createElement("div",{className:"selected-components"},b>0&&p.map((function(e,t){return o.a.createElement("div",{key:t},$u.doescomponentExistForProductAspect(e,r)&&o.a.createElement("h4",{key:t},e),r.map((function(t,n){var r=t.hasOwnProperty("isSaved")&&t.isSaved&&"JIRA Cloud"==f;if(t.productAspect===e)return o.a.createElement(_s,{key:t.id+(t.productAspect?"_".concat(t.productAspect):""),id:t.id,name:t.name,description:t.description,removeComponent:function(){i(t.id,t.productAspect)},childControls:t.controls,isDisable:r})})))})),(void 0===p||""===p||0===p.length)&&r.map((function(e,t){var n=e.hasOwnProperty("isSaved")&&e.isSaved&&"JIRA Cloud"==f;return o.a.createElement(_s,{key:e.id,id:e.id,name:e.name,description:e.description,removeComponent:function(){i(e.id,e.productAspect)},childControls:e.controls,isDisable:n})}))))),o.a.createElement("div",{className:"buttons-wrapper"},o.a.createElement("div",{className:"extra-buttons"},l),o.a.createElement("div",null,r.length>0&&"JIRA Cloud"===f&&o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"text",style:{height:"100%",marginRight:"10px"},placeholder:"JIRA Project Key",onChange:function(t){var n=T()(t.target.value).trim();e.setState({jiraKey:n})}}),o.a.createElement(Fo,{title:"CREATE JIRA TICKETS",classes:["mr-3"],onClick:function(){a(y)}})),"Local"===f&&!m&&o.a.createElement(Gn,{title:"SAVE CONTROLS",classes:["mr-3"],onClick:function(){s()}}),o.a.createElement(Gn,{title:"COMPLETE WITHOUT SELECTION",classes:["mr-3"],onClick:function(){u()}}))))}}])&&Ns(t.prototype,n),r&&Ns(t,r),i}(r.Component);function Ms(e){return(Ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ks(e,t){return(Ks=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Js(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ys(e);if(t){var o=Ys(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ws(this,n)}}function Ws(e,t){return!t||"object"!==Ms(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ys(e){return(Ys=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ks(e,t)}(i,e);var t,n,r,a=Js(i);function i(){return Vs(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qs(Object(n),!0).forEach((function(t){Fs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.selectedComponents,n=e.jiraTickets,r=e.buttons,a=e.componentTarget,i=e.productAspects,c=i&&i.length>0&&t.length>0;return o.a.createElement("div",{className:"ComponentSelectionReview"},o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Selected Components"),c>0&&i.map((function(e,n){return o.a.createElement("ul",{key:n},$u.doescomponentExistForProductAspect(e,t)&&o.a.createElement("h5",{key:n},e),t.map((function(t,n){if(t.productAspect===e)return o.a.createElement("li",{key:t.id+(e?"_".concat(e):"")},t.name)})))})),o.a.createElement("ul",null,(void 0===i||""===i||0===i.length)&&t.map((function(e){return o.a.createElement("li",{key:e.id},e.name)})))),"JIRA Cloud"===a&&o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Created Jira Tickets"),o.a.createElement("ul",null,n.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("a",{href:e.link,target:"_blank"},e.link))})))),o.a.createElement("div",{className:"buttons"},r))}}])&&Hs(t.prototype,n),r&&Hs(t,r),i}(o.a.Component);function zs(e){return(zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$s(Object(n),!0).forEach((function(t){Xs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function el(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nl(e,t){return(nl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=al(e);if(t){var o=al(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ol(this,n)}}function ol(e,t){return!t||"object"!==zs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function al(e){return(al=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var il=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nl(e,t)}(i,e);var t,n,r,a=rl(i);function i(){return el(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,Zs({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Zs({},this.props),t=e.siteConfig,n=e.currentUser,r=e.availableComponents,a=e.selectedComponents,i=e.dispatchAddComponentAction,c=e.dispatchRemoveComponentAction,u=e.dispatchCreateJIRATicketsAction,s=e.viewMode,l=e.jiraTickets,f=e.componentTarget;if(!n||!t)return null;var p=null;switch(s){case"edit":p=o.a.createElement(Qs,{availableComponents:r,selectedComponents:a,componentTarget:f,isStandaloneTask:!0,createJIRATickets:function(e){u(e)},removeComponent:function(e){c(e)},addComponent:function(e){i(e)},finishWithSelection:function(){N.redirectToHome()}});break;case"review":p=o.a.createElement(Gs,{selectedComponents:a,jiraTickets:l},o.a.createElement("div",{className:"buttons"},o.a.createElement(Fo,{title:"BACK TO HOME",onClick:function(){N.redirectToHome()}})))}return o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement(Gr,{title:"Component Selection",subtitle:t.siteTitle,logopath:t.logoPath,username:n.name}),p,o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText}))}}])&&tl(t.prototype,n),r&&tl(t,r),i}(r.Component),cl=Object(c.b)((function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents,viewMode:e.componentSelectionState.viewMode,jiraTickets:e.componentSelectionState.jiraTickets}}),(function(e,t){return{dispatchLoadDataAction:function(){e(yu()),e(mn()),e(Rc())},dispatchAddComponentAction:function(t){e(Dc(t))},dispatchRemoveComponentAction:function(t){e(Nc(t))},dispatchCreateJIRATicketsAction:function(t){e(function(e){return function(){var t=Cc(regeneratorRuntime.mark((function t(n,r){var o,a,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("Please enter the project key!");case 3:if(o=r(),a=o.componentSelectionState.selectedComponents){t.next=7;break}throw new Error("Nothing to create in JIRA!");case 7:return t.next=9,_e.getCSRFToken();case 9:return i=t.sent,t.next=12,_c.createJiraTickets({jiraKey:e,componentIDList:Or()(a.map((function(e){return e.id}))),csrfToken:i});case 12:return c=t.sent,t.next=15,n(Uc(c));case 15:return t.next=17,n(xc("review"));case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),te.displayError(t.t0);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(il);function ul(e){return(ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ll(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fl(e,t){return(fl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yl(e);if(t){var o=yl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ml(this,n)}}function ml(e,t){return!t||"object"!==ul(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yl(e){return(yl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fl(e,t)}(i,e);var t,n,r,a=pl(i);function i(){return sl(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",{className:"alert alert-warning"},"The submission you are attempting to view has not been completed yet.")}}])&&ll(t.prototype,n),r&&ll(t,r),i}(r.Component);function dl(e){return(dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ol(e,t){return(Ol=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=El(e);if(t){var o=El(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gl(this,n)}}function gl(e,t){return!t||"object"!==dl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function El(e){return(El=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wl(Object(n),!0).forEach((function(t){Tl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Al=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ol(e,t)}(i,e);var t,n,r,a=Sl(i);function i(){return hl(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,kl({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=kl({},this.props),t=e.siteConfig,n=(e.siteTitle,e.secureToken),r=e.currentUser,a=e.taskSubmission,i=e.availableComponents,c=e.selectedComponents,u=e.dispatchAddComponentAction,s=e.dispatchRemoveComponentAction,l=e.dispatchCreateJIRATicketsAction,f=e.dispatchSaveLocalControlsAction,p=e.dispatchFinishAction,m=e.dispatchEditAnswersAction;if(!r||!a||!t)return null;var y=parseInt(r.id)===parseInt(a.submitter.id),b=qi.isSRATaskFinalised(a.siblingSubmissions),d=("complete"===a.status||"waiting_for_approval"===a.status||"denied"===a.status)&&"submitted"===a.questionnaireSubmissionStatus&&(r.isSA||y)&&!a.lockWhenComplete,h=o.a.createElement(Fo,{key:"back",title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){N.redirectToQuestionnaireSummary(a.questionnaireSubmissionUUID,n)}}),v=d&&!b?o.a.createElement(Gn,{title:"EDIT CONTROLS",onClick:m,classes:["button"],iconImage:Ca.a}):null,O=null;switch(a.status){case"start":case"in_progress":if(y){O=o.a.createElement(Qs,{availableComponents:i,selectedComponents:c,componentTarget:a.componentTarget,productAspects:a.productAspects,extraButtons:h,createJIRATickets:function(e){l(e)},saveControls:function(){f()},removeComponent:function(e,t){s(e,t)},addComponent:function(e,t){u(e,t)},finishWithSelection:function(){p()}});break}O=o.a.createElement("div",{className:"ComponentSelectionReview"},o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Selected Components"),o.a.createElement("br",null),o.a.createElement(bl,null)),o.a.createElement("div",{className:"buttons"},h));break;case"complete":O=o.a.createElement("div",null,o.a.createElement("div",{className:"ComponentSelectionReview"},!!b&&qi.getSraIsFinalisedAlert()),o.a.createElement(Gs,{selectedComponents:a.selectedComponents,jiraTickets:a.jiraTickets,componentTarget:a.componentTarget,productAspects:a.productAspects,buttons:[o.a.createElement("div",{key:"component-selection-review-button-container"},v,h)]}));break;case"expired":O=o.a.createElement(Gi,null)}return o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement(Gr,{title:"Component Selection",subtitle:t.siteTitle,logopath:t.logoPath,username:r.name}),O,o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText}))}}])&&vl(t.prototype,n),r&&vl(t,r),i}(r.Component),jl=Object(c.b)((function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,taskSubmission:e.taskSubmissionState.taskSubmission,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents}}),(function(e,t){return{dispatchLoadDataAction:function(){var n=kl({},t),r=n.uuid,o=n.secureToken;e(mn()),e(yu()),e(Rc()),e(Kc({uuid:r,secureToken:o,type:"componentSelection"}))},dispatchAddComponentAction:function(t,n){e(Dc(t,n))},dispatchRemoveComponentAction:function(t,n){e(Nc(t,n))},dispatchCreateJIRATicketsAction:function(t){e(Wc(t))},dispatchSaveLocalControlsAction:function(){e(Wc(""))},dispatchFinishAction:function(){e(Yc())},dispatchEditAnswersAction:function(){e(zc({type:"componentSelection"}))}}}))(Al);function Pl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"prettifyStatus",value:function(e,t,n,r,o,a){if("awaiting_security_architect_review"===e)return"Waiting for Security Architect Approval - unassigned";if("waiting_for_security_architect_approval"===e){if(n.id==t)return"Waiting for Security Architect Approval - assigned to me";if(n.id!==t)return"Waiting for Security Architect Approval - "+r}if("waiting_for_approval"===e){if("pending"===o&&"pending"===a)return"Waiting for Approval - Business Owner and Chief Information Security Officer";if("pending"!==o&&"pending"===a)return"Waiting for Approval - Business Owner"}return"approved"===e&&"pending"===o&&"approved"===a?"Approved - Chief Information Security Officer Approval Pending":e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}}],(n=null)&&Pl(t.prototype,n),r&&Pl(t,r),e}();function Il(e){return(Il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cl(Object(n),!0).forEach((function(t){Dl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ul(e,t){return(Ul=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ll(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ql(e);if(t){var o=Ql(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bl(this,n)}}function Bl(e,t){return!t||"object"!==Il(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ql(e){return(Ql=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ml(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}var ql=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ul(e,t)}(i,e);var t,n,r,a=Ll(i);function i(){return Nl(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,Rl({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Rl({},this.props),t=e.currentUser,n=e.mySubmissionList,r=e.siteConfig,a=e.loadingState;return t&&n&&r?a["QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(Gr,{title:"My Submission",subtitle:r.siteTitle,username:t.name,logopath:r.logoPath}),function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Pillar"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map((function(e){var n="";return n="in_progress"===e.status?"#/questionnaire/submission/"+e.uuid:"#/questionnaire/summary/"+e.uuid,o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Ho()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.questionnaireName),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,_l.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))})))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display."))}(n,t),o.a.createElement($t,{footerCopyrightText:r.footerCopyrightText})):null}}])&&xl(t.prototype,n),r&&xl(t,r),i}(r.Component),Fl=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,mySubmissionList:e.questionnaireSubmissionListState.mySubmissionList,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadDataAction:function(){return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(yu());case 2:return t.next=4,e(function(){var e=Nr(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_REQUEST});case 5:return e.prev=5,e.next=8,pr.fetchQuestionnaireSubmissionList(r.id,"my_submission_list");case 8:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(mn());case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){Ml(a,r,o,i,c,"next",e)}function c(e){Ml(a,r,o,i,c,"throw",e)}i(void 0)}))})();var t}}}))(ql);function Vl(e){return(Vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hl(Object(n),!0).forEach((function(t){Jl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yl(e,t){return(Yl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$l(e);if(t){var o=$l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zl(this,n)}}function zl(e,t){return!t||"object"!==Vl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $l(e){return($l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zl(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}var Xl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yl(e,t)}(i,e);var t,n,r,a=Gl(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={currentApprovalList:"QuestionnaireApproval"},t}return t=i,(n=[{key:"componentDidMount",value:function(){(0,Kl({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=this,t=Kl({},this.props),n=t.currentUser,r=t.siteConfig,a=t.awaitingApprovalList,i=t.awaitingApprovalTaskList,c=t.loadingState;return n&&a&&r&&i?c["QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(Gr,{title:"Awaiting Approvals",username:n.name,subtitle:r.siteTitle,logopath:r.logoPath}),o.a.createElement("div",{className:"container text-center tab-container"},o.a.createElement("button",{className:"QuestionnaireApproval"==this.state.currentApprovalList?"tab-button mr-3 active":"tab-button mr-3",onClick:function(){return e.setState({currentApprovalList:"QuestionnaireApproval"})}},"Questionnaire Approvals"),o.a.createElement("button",{className:"TaskApproval"==this.state.currentApprovalList?"tab-button active":"tab-button",onClick:function(){return e.setState({currentApprovalList:"TaskApproval"})}},"Task Approvals")),"QuestionnaireApproval"==this.state.currentApprovalList&&ef(a,n),"TaskApproval"==this.state.currentApprovalList&&tf(i,n),o.a.createElement($t,{footerCopyrightText:r.footerCopyrightText})):null}}])&&Wl(t.prototype,n),r&&Wl(t,r),i}(r.Component),ef=function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Business Owner"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Deliverable Release Date"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map((function(e){var n="#/questionnaire/summary/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Ho()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.businessOwner),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,_l.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,e.releaseDate?Ho()(e.releaseDate).format("DD MMM YYYY"):""),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))})))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display for Questionnaire."))},tf=function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Task Name"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map((function(e){var n="#/task/submission/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Ho()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.taskName),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,_l.prettifyStatus(e.status,"",t,"","","")),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))})))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display for Task."))},nf=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,awaitingApprovalList:e.questionnaireSubmissionListState.awaitingApprovalList,awaitingApprovalTaskList:e.questionnaireSubmissionListState.awaitingApprovalTaskList,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadDataAction:function(){return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(yu());case 2:return t.next=4,e(function(){var e=Nr(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_REQUEST});case 5:return e.prev=5,e.next=8,pr.fetchQuestionnaireSubmissionList(r.id,"awaiting_approval_list");case 8:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(function(){var e=qc(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST});case 5:return e.prev=5,e.next=8,Ir.fetchTaskSubmissionList(r.id,"awaiting_approval_list");case 8:o=e.sent,t({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE,error:e.t0});case 16:te.displayError(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}());case 6:return t.next=8,e(mn());case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){Zl(a,r,o,i,c,"next",e)}function c(e){Zl(a,r,o,i,c,"throw",e)}i(void 0)}))})();var t}}}))(Xl);function rf(e){return(rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function of(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function af(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?of(Object(n),!0).forEach((function(t){cf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):of(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lf(e,t){return(lf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ff(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mf(e);if(t){var o=mf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pf(this,n)}}function pf(e,t){return!t||"object"!==rf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mf(e){return(mf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yf(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}var bf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lf(e,t)}(i,e);var t,n,r,a=ff(i);function i(){return uf(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,af({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=af({},this.props),t=e.currentUser,n=e.myProductList,r=e.siteConfig,a=e.loadingState;return t&&n&&r?a["QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(Gr,{title:"My Products",subtitle:r.siteTitle,username:t.name,logopath:r.logoPath}),function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map((function(e){var n="#/questionnaire/summary/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Ho()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,_l.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))})))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display."))}(n,t),o.a.createElement($t,{footerCopyrightText:r.footerCopyrightText})):null}}])&&sf(t.prototype,n),r&&sf(t,r),i}(r.Component),df=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,myProductList:e.questionnaireSubmissionListState.myProductList,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadDataAction:function(){return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(yu());case 2:return t.next=4,e(function(){var e=Nr(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_REQUEST});case 5:return e.prev=5,e.next=8,pr.fetchQuestionnaireSubmissionList(r.id,"my_product_list");case 8:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(mn());case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){yf(a,r,o,i,c,"next",e)}function c(e){yf(a,r,o,i,c,"throw",e)}i(void 0)}))})();var t}}}))(bf);function hf(e){return(hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Of(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ef(e,t){return(Ef=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tf(e);if(t){var o=Tf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kf(this,n)}}function kf(e,t){return!t||"object"!==hf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tf(e){return(Tf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Af=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ef(e,t)}(i,e);var t,n,r,a=wf(i);function i(){return Sf(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vf(Object(n),!0).forEach((function(t){Of(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).likelihoodThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"LikelihoodLegend"},o.a.createElement("h3",null,"Likelihood Legend"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-sm"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"likelihood_legend_header"},o.a.createElement("th",null,"Threshold"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,e.map((function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.operator+e.value),o.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))})))))):null}}])&&gf(t.prototype,n),r&&gf(t,r),i}(r.Component);function jf(e){return(jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function If(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rf(e,t){return(Rf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Df(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xf(e);if(t){var o=xf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nf(this,n)}}function Nf(e,t){return!t||"object"!==jf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xf(e){return(xf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Uf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rf(e,t)}(i,e);var t,n,r,a=Df(i);function i(){return If(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pf(Object(n),!0).forEach((function(t){_f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).impactThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"ImapctLegend"},o.a.createElement("h3",null,"Impact Legend"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-sm"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"impact_legend_header"},o.a.createElement("th",null,"Threshold"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,e.map((function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.operator+e.value),o.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))})))))):null}}])&&Cf(t.prototype,n),r&&Cf(t,r),i}(r.Component);var Lf=n(185),Bf=n.n(Lf);function Qf(e){return(Qf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ff(e,t){return(Ff=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kf(e);if(t){var o=Kf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hf(this,n)}}function Hf(e,t){return!t||"object"!==Qf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kf(e){return(Kf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ff(e,t)}(i,e);var t,n,r,a=Vf(i);function i(){return Mf(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"renderTableHeader",value:function(){return o.a.createElement("tr",{key:"sra_header"},o.a.createElement("th",null,"Risk"),this.props.hasProductAspects&&o.a.createElement("th",null,"Product Aspect"),o.a.createElement("th",null,"Current Controls"),o.a.createElement("th",null,"Current Likelihood"),o.a.createElement("th",null,"Current Impact"),o.a.createElement("th",null,"Current Risk Rating"),o.a.createElement("th",null,"Recommended Treatments"))}},{key:"renderTableBody",value:function(){var e=this;return this.props.hasProductAspects?this.props.calculatedSRAData.map((function(t,n){return t.productAspects.map((function(n,r){var o={riskId:t.riskId,riskName:0==r?"".concat(t.riskName," (").concat(t.baseImpactScore,")"):null,riskDescription:0==r?t.description:null,components:n.components,currentLikelihood:n.currentLikelihood,currentImpact:n.currentImpact,currentRiskRating:n.currentRiskRating};return e.renderTableRow(o,n.productAspectName)}))})):this.props.calculatedSRAData.map((function(t,n){var r={riskId:t.riskId,riskName:"".concat(t.riskName," (").concat(t.baseImpactScore,")"),riskDescription:t.description,components:t.riskDetail.components,currentLikelihood:t.riskDetail.currentLikelihood,currentImpact:t.riskDetail.currentImpact,currentRiskRating:t.riskDetail.currentRiskRating};return e.renderTableRow(r)}))}},{key:"renderTableRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o.a.createElement("tr",{key:t+"_"+e.riskId},o.a.createElement("td",null,o.a.createElement("span",{style:{display:"block"}},e.riskName),o.a.createElement("small",{className:"text-muted"},e.riskDescription)),this.props.hasProductAspects&&t&&o.a.createElement("td",null,t),o.a.createElement("td",null,this.renderComponents(e.components,"Implemented")),o.a.createElement("td",null,this.renderCurrentLikelihood(e.currentLikelihood)),o.a.createElement("td",null,this.renderCurrentImapct(e.currentImpact)),o.a.createElement("td",{style:e.currentRiskRating.colour?{backgroundColor:e.currentRiskRating.colour}:null},this.renderCurrentRiskRating(e.currentRiskRating)),o.a.createElement("td",null,this.renderComponents(e.components,"Recommened")))}},{key:"renderComponents",value:function(e,t){var n=this;return e&&Array.isArray(e)&&0!=e.length?e.map((function(e,r){var a="Implemented"===t?e.implementedControls:e.recommendedControls;return o.a.createElement("div",{key:r+1},o.a.createElement("strong",{key:e.id},a.length>0?e.name:null),a.length>0&&n.renderControls(a,t))})):null}},{key:"renderControls",value:function(e,t){return e.map((function(e,n){var r=!1;return"Recommened"==t&&(Bf()(e.likelihoodPenalty)>0||Bf()(e.impactPenalty)>0)&&(r=!0),o.a.createElement("div",{key:n+1},o.a.createElement("span",{key:e.id,className:"".concat(r?"font-weight-bold control-title":"font-weight-normal control-title")},e.name,"  "),o.a.createElement("small",{className:"text-muted"},"( L: ",e.likelihoodWeight,", I: ",e.impactWeight,", LP: ",e.likelihoodPenalty,", IP: ",e.impactPenalty,")"))}))}},{key:"renderCurrentLikelihood",value:function(e){return o.a.createElement("div",null,o.a.createElement("span",{style:e.colour?{color:e.colour,display:"block"}:null},e.name," ",e.score?"("+e.score+")":null),o.a.createElement("small",{className:"text-muted"},e.formula))}},{key:"renderCurrentImapct",value:function(e){return o.a.createElement("div",null,o.a.createElement("span",{style:e.colour?{color:e.colour,display:"block"}:null},e.name," ",e.score?"("+e.score+")":null),o.a.createElement("small",{className:"text-muted"},e.formula))}},{key:"renderCurrentRiskRating",value:function(e){return o.a.createElement("div",null,e.name)}},{key:"render",value:function(){return this.props.calculatedSRAData?o.a.createElement("div",{className:"RiskMatrix"},o.a.createElement("h3",null,"Your risk assessment results"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:"thead-light"},this.renderTableHeader()),o.a.createElement("tbody",null,this.renderTableBody())))):null}}])&&qf(t.prototype,n),r&&qf(t,r),i}(r.Component);function Wf(e){return(Wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zf(e,t){return(Zf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tp(e);if(t){var o=tp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ep(this,n)}}function ep(e,t){return!t||"object"!==Wf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tp(e){return(tp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var np=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zf(e,t)}(i,e);var t,n,r,a=Xf(i);function i(){return zf(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yf(Object(n),!0).forEach((function(t){Gf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).riskRatingThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"RiskRatingLegend"},o.a.createElement("h3",null,"Risk Rating Matix"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("p",{className:"impact-heading"},"Impact"),o.a.createElement("table",{className:"table table-sm table-bordered"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"risk_rating_legend_header"},e.tableHeader.map((function(e,t){return o.a.createElement("th",{key:t},e)})))),o.a.createElement("tbody",null,e.tableRows.map((function(e,t){return o.a.createElement("tr",{key:"row_"+t},e.map((function(e,t){return o.a.createElement("td",{key:"column_"+t,style:e.color?{backgroundColor:e.color}:null},e.name)})))})))))):null}}])&&$f(t.prototype,n),r&&$f(t,r),i}(r.Component);function rp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function op(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rp(Object(n),!0).forEach((function(t){ap(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ap(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ip(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function cp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ip(a,r,o,i,c,"next",e)}function c(e){ip(a,r,o,i,c,"throw",e)}i(void 0)}))}}function up(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var sp=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"fetchSecurityRiskAssessmentTasK",value:(a=cp(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=op({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    UUID\n    TaskName\n    QuestionnaireSubmission {\n      UUID\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    Submitter {\n      ID\n    }\n    Status\n    SecurityRiskAssessmentData\n  }\n}'),e.next=4,M.request({query:a});case 4:if(i=e.sent,c=w()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw q;case 8:return u=JSON.parse(w()(c,"SecurityRiskAssessmentData","")),s={uuid:c&&c.UUID?c.UUID:"",taskName:T()(w()(c,"TaskName","")),status:T()(w()(c,"Status","")),submitterID:T()(w()(c,"Submitter.ID","")),questionnaireSubmissionUUID:T()(w()(c,"QuestionnaireSubmission.UUID","")),taskSubmissions:z.parseAlltaskSubmissionforQuestionnaire(c),sraData:u},e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"fetchImpactThreshold",value:(o=cp(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,M.request({query:"\nquery {\n  readImpactThreshold {\n    Name\n    Value\n    Colour\n    Operator\n  }\n}"});case 3:if(t=e.sent,n=w()(t,"data.readImpactThreshold",null)){e.next=7;break}throw q;case 7:return r=n.map((function(e){return{name:_.toString(_.get(e,"Name","")),color:_.toString(_.get(e,"Colour","")),operator:_.toString(_.get(e,"Operator","")),value:_.toString(_.get(e,"Value",""))}})),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})}],n&&up(t.prototype,n),r&&up(t,r),e}();function lp(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function fp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){lp(a,r,o,i,c,"next",e)}function c(e){lp(a,r,o,i,c,"throw",e)}i(void 0)}))}}function pp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yp(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pp(Object(n),!0).forEach((function(t){mp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=fp(regeneratorRuntime.mark((function e(t){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_REQUEST});case 2:return e.prev=2,e.next=5,sp.fetchSecurityRiskAssessmentTasK({uuid:n,secureToken:r});case 5:return o=e.sent,a={type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS,payload:o},e.next=9,t(a);case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(2),e.next=15,t({type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_FAILURE,error:e.t0});case 15:te.displayError(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()}function bp(e){return(bp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dp(Object(n),!0).forEach((function(t){vp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Op(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gp(e,t){return(gp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ep(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kp(e);if(t){var o=kp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wp(this,n)}}function wp(e,t){return!t||"object"!==bp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kp(e){return(kp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gp(e,t)}(i,e);var t,n,r,a=Ep(i);function i(){return Op(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=hp({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken)}},{key:"render",value:function(){var e=this,t=hp({},this.props),n=t.siteConfig,r=t.currentUser,a=t.securityRiskAssessmentData,i=t.secureToken,c=t.impactThresholdData;if(!r||!n||!a)return null;var u=hp({},a),s=u.uuid,l=(u.taskName,u.questionnaireSubmissionUUID),f=(u.submitterID,u.taskSubmissions),p=u.sraData,m=(u.status,qi.isSRATaskFinalised(f)),y=o.a.createElement(Gn,{title:"BACK TO QUESTIONNAIRE SUMMARY",classes:["button ml-3"],onClick:function(){N.redirectToQuestionnaireSummary(l,i)}}),b=qi.isSiblingTaskPending(f),d=a.submitterID===r.id,h=m||b||!d?null:o.a.createElement(Fo,{title:"FINALISE",classes:["button ml-3"],onClick:function(){e.props.dispatchFinaliseAction(s,i,l)}});return o.a.createElement("div",{className:"SecurityRiskAssessmentContainer"},o.a.createElement(Gr,{title:a.taskName,subtitle:n.siteTitle,username:r.name,logopath:n.logoPath}),"expired"===a.status&&o.a.createElement(Gi,null),"expired"!==a.status&&o.a.createElement("div",{className:"SecurityRiskAssessmentResult"},!!m&&qi.getSraIsFinalisedAlert(),o.a.createElement(Jf,{calculatedSRAData:p.calculatedSRAData,hasProductAspects:p.hasProductAspects}),o.a.createElement(Af,{likelihoodThresholds:p.likelihoodThresholds}),o.a.createElement(Uf,{impactThresholds:c}),o.a.createElement(np,{riskRatingThresholds:p.riskRatingThresholds}),o.a.createElement("div",{className:"buttons"},y,h)),o.a.createElement($t,{footerCopyrightText:n.footerCopyrightText}))}}])&&Sp(t.prototype,n),r&&Sp(t,r),i}(r.Component),Ap=Object(c.b)((function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,securityRiskAssessmentData:e.securityRiskAssessmentState.securityRiskAssessmentData,impactThresholdData:e.securityRiskAssessmentState.impactThresholdData}}),(function(e,t){return{dispatchLoadDataAction:function(t,n){e(yu()),e(mn()),e(yp({uuid:t,secureToken:n})),e(function(){var e=fp(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sp.fetchImpactThreshold();case 3:return n=e.sent,r={type:l.SRA.LOAD_IMPACT_THRESHOLD,payload:n},e.next=7,t(r);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),te.displayError(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())},dispatchFinaliseAction:function(t,n,r){e(Yc({taskSubmissionUUID:t,secureToken:n,questionnaireUUID:r}))}}}))(Tp);function jp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jp(Object(n),!0).forEach((function(t){_p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ip(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Cp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ip(a,r,o,i,c,"next",e)}function c(e){Ip(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Rp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Dp=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a,i;return t=e,n=null,r=[{key:"fetchControlValidationAuditTaskSubmission",value:(i=Cp(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pp({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    QuestionnaireSubmission {\n      UUID\n      TaskSubmissions {\n        UUID\n        TaskType\n        Status\n      }\n    }\n    TaskName\n    CVATaskData\n    ProductAspects\n    CVATaskDataSource\n    Status\n    Submitter {\n      ID\n    }\n  }\n}'),e.next=4,M.request({query:a});case 4:if(i=e.sent,c=w()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw q;case 8:return u=JSON.parse(w()(c,"CVATaskData","[]")),Array.isArray(u)||(u=[]),s=u.length>0?gr.parseCVAFromJSONObject(u):u,l={id:T()(w()(c,"ID","")),status:T()(w()(c,"Status","")),uuid:T()(w()(c,"UUID","")),questionnaireSubmissionUUID:T()(w()(c,"QuestionnaireSubmission.UUID","")),taskName:T()(w()(c,"TaskName","")),selectedComponents:s,submitterID:T()(w()(c,"Submitter.ID","")),componentTarget:T()(w()(c,"CVATaskDataSource","")),productAspects:_.has(c,"ProductAspects")?JSON.parse(w()(c,"ProductAspects",[])):[],siblingSubmissions:z.parseAlltaskSubmissionforQuestionnaire(c)},e.abrupt("return",l);case 13:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"saveControlValidationAuditData",value:(a=Cp(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pp({},t),r=n.uuid,o=n.controlData,a=n.csrfToken,i=window.btoa(unescape(encodeURIComponent(JSON.stringify(o)))),c='\nmutation {\n  updateControlValidationAuditTaskSubmission(UUID: "'.concat(r,'", CVATaskData: "').concat(i,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=5,M.request({query:c,csrfToken:a});case 5:if(u=e.sent,_.get(u,"data.updateControlValidationAuditTaskSubmission.CVATaskData",null)){e.next=9;break}throw q;case 9:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"reSyncWithJira",value:(o=Cp(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pp({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n  reSyncWithJira(UUID: "'.concat(r,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=4,M.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=_.get(i,"data.reSyncWithJira",null)){e.next=8;break}throw q;case 8:return u=JSON.parse(w()(c,"CVATaskData","[]")),Array.isArray(u)||(u=[]),s=u.length>0?gr.parseCVAFromJSONObject(u):u,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}],n&&Rp(t.prototype,n),r&&Rp(t,r),e}();function Np(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function xp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Np(a,r,o,i,c,"next",e)}function c(e){Np(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Up(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bp(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Up(Object(n),!0).forEach((function(t){Lp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Up(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=xp(regeneratorRuntime.mark((function e(t){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_REQUEST});case 2:return e.prev=2,e.next=5,t({type:l.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA,payload:null});case 5:return e.next=7,Dp.fetchControlValidationAuditTaskSubmission({uuid:n,secureToken:r});case 7:return o=e.sent,a={type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS,payload:o},e.next=11,t(a);case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(2),e.next=17,t({type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_FAILURE,error:e.t0});case 17:te.displayError(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}()}function Qp(e){return(Qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mp(Object(n),!0).forEach((function(t){Fp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kp(e,t){return(Kp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yp(e);if(t){var o=Yp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wp(this,n)}}function Wp(e,t){return!t||"object"!==Qp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yp(e){return(Yp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gp(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function zp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Gp(a,r,o,i,c,"next",e)}function c(e){Gp(a,r,o,i,c,"throw",e)}i(void 0)}))}}var $p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kp(e,t)}(c,e);var t,n,r,a,i=Jp(c);function c(){return Vp(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"componentDidMount",value:(a=zp(regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=qp({},this.props),n=t.uuid,r=t.dispatchLoadDataAction,o=t.secureToken,e.next=3,r(n,o);case 3:this.keepSessionActive=setInterval(function(){var e=zp(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.getCSRFToken();case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),6e5);case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){clearInterval(this.keepSessionActive)}},{key:"renderCVAQuestionsForm",value:function(e){var t=this,n=this.props.controlValidationAuditData.productAspects,r=this.props.cvaSelectedComponents;return this.props.controlValidationAuditData.componentTarget,n.length>0&&r.length>0?this.renderComponentGroupByProductAspect(n,r,e):r.length>0?o.a.createElement("div",null,r.map((function(n){return t.renderComponent(n,e)}))):o.a.createElement("div",{className:"alert alert-warning",key:"unfinished_cs_task_message"},"No components have been selected. Please complete the component selection task with at least one component selected.")}},{key:"renderComponentGroupByProductAspect",value:function(e,t,n){var r=this;return o.a.createElement("div",null,e.map((function(e,a){var i=t.filter((function(t){return t.productAspect===e}));return 0==i.length?null:o.a.createElement("div",{className:"mt-2",key:a},o.a.createElement("h4",null,e),i.map((function(e){return r.renderComponent(e,n)})))})))}},{key:"renderComponent",value:function(e,t){var n=this,r=e.productAspect?"".concat(e.productAspect,"_").concat(e.id):e.id,a=e.controls,i=e.jiraTicketLink?o.a.createElement("a",{href:e.jiraTicketLink},e.jiraTicketLink):null;return o.a.createElement("div",{key:r},o.a.createElement("h5",null,e.name,i&&"JIRA Cloud"==this.props.controlValidationAuditData.componentTarget&&o.a.createElement("span",null," - ",i)),a&&a.length>0&&a.map((function(r){return n.renderControl(r,e,t)})),!a||0==a.length&&o.a.createElement("div",{className:"alert alert-warning",key:"no_controls_message"},"There are no controls for the component."))}},{key:"renderControl",value:function(e,t,n){var r=t.productAspect?"".concat(t.productAspect,"_").concat(t.id,"_").concat(e.id):"".concat(t.id,"_").concat(e.id);return"JIRA Cloud"===this.props.controlValidationAuditData.componentTarget?this.renderRemoteControls(e,r):this.renderLocalControl(e,r,t,n)}},{key:"renderLocalControl",value:function(e,t,n,r){var a=this,i=[{value:"Realised",label:"Yes"},{value:"Intended",label:"No"},{value:"Not Applicable",label:"N/A"}];return o.a.createElement("div",{className:"my-0 container row",key:t},o.a.createElement("div",{className:"col-xs-2"},i.map((function(i,c){return o.a.createElement("label",{key:"optionlabel_".concat(t,"_").concat(c)},o.a.createElement("input",{type:"radio",key:"radiobutton_".concat(t,"_").concat(c),name:t,value:i.value,defaultChecked:e.selectedOption===i.value,disabled:!r,onClick:function(){return a.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:i.value,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:e.implementationEvidenceUserInput})}}),i.label)}))),o.a.createElement("div",{className:"col-10"},o.a.createElement("label",{key:e.id},o.a.createElement("strong",null,e.name)),o.a.createElement(Os,{key:"controlInfo_".concat(e.id),id:e.id,name:"",description:e.description,implementationGuidance:e.implementationGuidance,implementationEvidence:e.implementationEvidence,implementationEvidenceUserInput:e.implementationEvidenceUserInput,showImplementationEvidence:!0,className:"text-muted",isCVATaskEditable:r,updateEvidenceTextareaData:function(t){return a.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:e.selectedOption,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:t})}})))}},{key:"renderRemoteControls",value:function(e,t){var n=e.selectedOption.toLowerCase().replace(" ","-");return o.a.createElement("div",{className:"my-0",key:t},o.a.createElement("label",{className:"ml-2",key:e.id},o.a.createElement("span",null,o.a.createElement("strong",null,e.name)," - "),o.a.createElement("span",{className:n},"(",e.selectedOption,")")))}},{key:"render",value:function(){var e=qp({},this.props),t=e.siteConfig,n=e.currentUser,r=e.controlValidationAuditData,a=e.secureToken,i=e.dispatchSaveControlValidationAuditDataAction,c=e.cvaSelectedComponents,u=e.dispatchReSyncWithJira;if(!n||!r||!t)return null;var s=r.submitterID===n.id,l=qi.isSRATaskFinalised(r.siblingSubmissions),f=s&&!l,p=f&&c.length>0?o.a.createElement(Gn,{title:"SUBMIT",onClick:function(){return i(r.uuid,c,r.questionnaireSubmissionUUID,a)}}):null,m=o.a.createElement(Fo,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){N.redirectToQuestionnaireSummary(r.questionnaireSubmissionUUID,a)}}),y=f&&"JIRA Cloud"==r.componentTarget&&c.length>0?o.a.createElement(Fo,{title:"RE SYNC WITH JIRA",onClick:function(){return u(r.uuid)}}):null;return o.a.createElement("div",{className:"ControlValidationAuditContainer"},o.a.createElement(Gr,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),"expired"===r.status&&o.a.createElement(Gi,null),"expired"!==r.status&&o.a.createElement("div",{className:"ControlValidationAuditResult",key:"0"},o.a.createElement("div",{className:"ControlValidationAuditForm"},o.a.createElement("h3",null,"Have These Controls Been Implemented?"),["start","in_progress"].includes(r.status)&&!s&&o.a.createElement(bl,null),(s||"complete"==r.status)&&o.a.createElement("div",null,!!l&&qi.getSraIsFinalisedAlert(),this.renderCVAQuestionsForm(f))),o.a.createElement("div",{className:"buttons",key:"component_validation_buttons"},o.a.createElement("div",null,p,y,m))),o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText}))}}])&&Hp(t.prototype,n),r&&Hp(t,r),c}(r.Component),Zp=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,controlValidationAuditData:e.controlValidationAuditState.controlValidationAuditData,cvaSelectedComponents:e.controlValidationAuditState.cvaSelectedComponents,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadDataAction:(n=zp(regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e(Bp({uuid:n,secureToken:r})),e(yu()),e(mn())]);case 2:case"end":return t.stop()}}),t)}))),function(e,t){return n.apply(this,arguments)}),dispatchSaveControlValidationAuditDataAction:function(t,n,r,o){e(function(e,t,n,r){return function(){var o=xp(regeneratorRuntime.mark((function o(a){var i,c,u;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,_e.getCSRFToken();case 3:return i=o.sent,o.next=6,Dp.saveControlValidationAuditData({uuid:e,controlData:t,csrfToken:i});case 6:return c=o.sent,u={type:l.CVA.SAVE_CONTROL_VALIDATION_AUDIT_DATA,payload:c},o.next=10,a(u);case 10:N.redirectToQuestionnaireSummary(n,r),o.next=16;break;case 13:o.prev=13,o.t0=o.catch(0),te.displayError(o.t0);case 16:case"end":return o.stop()}}),o,null,[[0,13]])})));return function(e){return o.apply(this,arguments)}}()}(t,n,r,o))},dispatchUpdateControlValidationQuestionDataAction:function(t){var n;e((n=t,function(){var e=xp(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:l.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA,payload:n},e.next=3,t(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},dispatchReSyncWithJira:function(t){e(function(e){return function(){var t=xp(regeneratorRuntime.mark((function t(n){var r,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n({type:l.CVA.RE_SYNC_WITH_JIRA_REQUEST});case 2:return t.prev=2,t.next=5,_e.getCSRFToken();case 5:return r=t.sent,t.next=8,Dp.reSyncWithJira({uuid:e,csrfToken:r});case 8:return o=t.sent,a={type:l.CVA.RE_SYNC_WITH_JIRA_SUCCESS,payload:o},t.next=12,n(a);case 12:t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(2),t.next=18,n({type:l.CVA.RE_SYNC_WITH_JIRA_FAILURE,error:t.t0});case 18:te.displayError(t.t0);case 19:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}()}(t))}};var n}))($p),Xp=n(42);function em(e){return(em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rm(e,t){return(rm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function om(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=im(e);if(t){var o=im(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return am(this,n)}}function am(e,t){return!t||"object"!==em(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function im(e){return(im=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rm(e,t)}(i,e);var t,n,r,a=om(i);function i(){return tm(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"loading-spinner-page-overlay"},o.a.createElement("div",{className:"loading-spinner"},o.a.createElement(us.Icon,{spin:!0,name:"spinner"})," Loading...")))}}])&&nm(t.prototype,n),r&&nm(t,r),i}(r.Component),um=n(839);function sm(e){return(sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pm(e,t){return(pm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bm(e);if(t){var o=bm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ym(this,n)}}function ym(e,t){return!t||"object"!==sm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bm(e){return(bm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pm(e,t)}(i,e);var t,n,r,a=mm(i);function i(){return lm(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",null,this.props.loading&&o.a.createElement(cm,null),o.a.createElement("main",null,o.a.createElement(u.a,null,o.a.createElement(s.a,{exact:!0,path:"/"},(function(){return o.a.createElement(kn,null)})),o.a.createElement(s.a,{path:"/questionnaire/start/:id"},(function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(co,{questionnaireID:t.params.id}))})),o.a.createElement(s.a,{path:"/questionnaire/submission/:hash"},(function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(_a,{submissionHash:t.params.hash}))})),o.a.createElement(s.a,{path:"/questionnaire/review/:hash"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(Xp.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(_i,{submissionHash:t.params.hash,secureToken:r}))})),o.a.createElement(s.a,{path:"/questionnaire/summary/:hash"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(Xp.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Sc,{submissionHash:t.params.hash,secureToken:r}))})),o.a.createElement(s.a,{path:"/task/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(Xp.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Au,{uuid:t.params.uuid,secureToken:r}))})),o.a.createElement(s.a,{path:"/tasks/standalone/:taskId"},(function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Bu,{taskId:t.params.taskId}))})),o.a.createElement(s.a,{path:"/component-selection/standalone/:taskId"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(Xp.parse)(n.search).componentTarget),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(cl,{taskId:t.params.taskId,componentTarget:r}))})),o.a.createElement(s.a,{path:"/component-selection/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(Xp.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(jl,{uuid:t.params.uuid,secureToken:r}))})),o.a.createElement(s.a,{path:"/control-validation-audit/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(Xp.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Zp,{uuid:t.params.uuid,secureToken:r}))})),o.a.createElement(s.a,{path:"/security-risk-assessment/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(Xp.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Ap,{uuid:t.params.uuid,secureToken:r}))})),o.a.createElement(s.a,{path:"/MySubmissions"},(function(e){return e.match,o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Fl,null))})),o.a.createElement(s.a,{path:"/AwaitingApprovals"},(function(e){return e.match,o.a.createElement("div",{className:"gray-bg"},o.a.createElement(nf,null))})),o.a.createElement(s.a,{path:"/MyProducts"},(function(e){return e.match,o.a.createElement("div",{className:"gray-bg"},o.a.createElement(df,null))})))))}}])&&fm(t.prototype,n),r&&fm(t,r),i}(r.Component),hm=Object(um.a)(Object(c.b)((function(e){return{loading:R.a.chain(e.loadingState).values().some((function(e){return e})).value()}}),(function(e,t){return{}}))(dm)),vm=n(837),Om=n(17),Sm=(n(784),{title:"",subtitle:"",pillars:[],tasks:[]});function gm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Em(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gm(Object(n),!0).forEach((function(t){wm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var km={title:"",subtitle:"",keyInformation:"",questionnaireID:"",user:null},Tm={title:"",siteTitle:"",user:null,submission:null,isCurrentUserApprover:!1,isCurrentUserABusinessOwnerApprover:!1};var Am=Object(Om.combineReducers)({startState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:km,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE?t.payload:e},submissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tm,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS)return t.payload;if(t.type===l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER){if(!e.submission)return e;var n=t.payload,r=e.submission.questions.findIndex((function(e){return e.id===n.id}));if(r<0)return e;var o=Em({},e);return R.a.set(o,"submission.questions.".concat(r),n),o}if(t.type===l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION){var a=e.submission;if(!a)return e;var i=Em({},t),c=i.targetIndex,u=a.questions.findIndex((function(e){return e.isCurrent}));if(c<0||c>=a.questions.length)return e;var s=Em({},e);return R.a.set(s,"submission.questions.".concat(u,".isCurrent"),!1),R.a.set(s,"submission.questions.".concat(c,".isCurrent"),!0),s}if(t.type===l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE){var f=e.submission;if(!f)return e;var p=Em({},e),m=t.nonApplicableIndexes;return m&&m.length>0&&m.forEach((function(e){var t=f.questions[e];t.isApplicable=!1,R.a.set(p,"submission.questions.".concat(e),t)})),p}return e}}),jm=n(86),Pm=n.n(jm),_m=n(49),Im=n.n(_m);function Cm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cm(Object(n),!0).forEach((function(t){Dm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nm={taskSubmission:null};function xm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Um(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xm(Object(n),!0).forEach((function(t){Lm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bm={user:null};function Qm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qm(Object(n),!0).forEach((function(t){qm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fm={siteConfig:null};var Vm=n(430),Hm=n.n(Vm);function Km(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Km(Object(n),!0).forEach((function(t){Wm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Km(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ym={availableComponents:[],selectedComponents:[],savedComponents:[],jiraTickets:[],viewMode:"edit"},Gm=$u.isComponentExist,zm=$u.isSelectedComponentExist;function $m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$m(Object(n),!0).forEach((function(t){Xm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ey={awaitingApprovalList:[],awaitingApprovalTaskList:[],mySubmissionList:[],myProductList:[]};function ty(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ny(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ty(Object(n),!0).forEach((function(t){ry(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ty(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ry(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oy={securityRiskAssessmentData:null,impactThresholdData:null};function ay(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ay(Object(n),!0).forEach((function(t){cy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ay(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uy={controlValidationAuditData:null,cvaSelectedComponents:[]};$u.isSelectedComponentExist;function sy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ly(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sy(Object(n),!0).forEach((function(t){fy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function py(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return my(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return my(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function my(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yy=Object(Om.combineReducers)({homeState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.HOME.LOAD_HOME_STATE_FINISHED:return t.payload;default:return e}},questionnaireState:Am,taskSubmissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nm,t=arguments.length>1?arguments[1]:void 0,n=e.taskSubmission;if(t.type===l.TASK.LOAD_TASK_SUBMISSION)return{taskSubmission:t.payload};if(t.type===l.TASK.PUT_DATA_IN_TASK_SUBMISSION){if(!n)return e;var r=t.payload,o=n.questions.findIndex((function(e){return e.id===r.id}));if(o<0)return e;var a=Pm()(e);return Im()(a,"taskSubmission.questions.".concat(o),r),a}if(t.type===l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE){if(!n)return e;var i=Pm()(e),c=t.payload;return c&&c.length>0&&c.forEach((function(e){var t=n.questions[e];t.isApplicable=!1,Im()(i,"taskSubmission.questions.".concat(e),t)})),i}if(t.type===l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION){if(!n)return e;var u=Rm({},t.payload),s=u.currentIndex,f=u.targetIndex;if(f<0||f>=n.questions.length)return e;var p=Pm()(e);return Im()(p,"taskSubmission.questions.".concat(s,".isCurrent"),!1),Im()(p,"taskSubmission.questions.".concat(f,".isCurrent"),!0),p}if(t.type===l.TASK.COMPLETE_TASK_SUBMISSION){var m=Pm()(e);return Im()(m,"taskSubmission.status","complete"),t.payload&&Im()(m,"taskSubmission.result",t.payload),m}if(t.type===l.TASK.EDIT_TASK_SUBMISSION){var y=Pm()(e);return Im()(y,"taskSubmission.status","in_progress"),Im()(y,"taskSubmission.result",null),y}return e},currentUserState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.USER.SET_CURRENT_USER:return Um(Um({},e),{},{user:t.payload});default:return e}},siteConfigState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.SITE_CONFIG.LOAD_SITE_CONFIG:return Mm(Mm({},e),{},{siteConfig:t.payload});default:return e}},componentSelectionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ym,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS){var n=t;return Jm(Jm({},e),{},{availableComponents:n.payload})}if(t.type===l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT){var r=t,o=r.payload.id,a=r.payload.productAspect;if(!zm(o,a,e.selectedComponents)&&Gm(o,e.availableComponents)){var i=e.availableComponents.filter((function(e){return e.id===o})),c=Object.assign({},i[0]);return c.productAspect=a,Jm(Jm({},e),{},{selectedComponents:Hm()(e.selectedComponents,c)})}}if(t.type===l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT){var u=t,s=u.payload.id,f=u.payload.productAspect;if(zm(s,f,e.selectedComponents)&&Gm(s,e.availableComponents))return Jm(Jm({},e),{},{selectedComponents:e.selectedComponents.filter((function(e){return e.id!==s||e.productAspect!==f}))})}if(t.type===l.COMPONENT_SELECTION.SET_JIRA_TICKETS){var p=t;return Jm(Jm({},e),{},{jiraTickets:p.payload})}if(t.type===l.COMPONENT_SELECTION.SET_VIEW_MODE){var m=t;return Jm(Jm({},e),{},{viewMode:m.payload})}if(t.type===l.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS){var y=t;return Jm(Jm({},e),{},{selectedComponents:y.payload})}return e},questionnaireSubmissionListState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ey,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS?Zm(Zm({},e),{},{awaitingApprovalList:t.payload}):t.type===l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS?Zm(Zm({},e),{},{awaitingApprovalTaskList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS?Zm(Zm({},e),{},{mySubmissionList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS?Zm(Zm({},e),{},{myProductList:t.payload}):e},securityRiskAssessmentState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oy,t=arguments.length>1?arguments[1]:void 0;return t.type===l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS?ny(ny({},e),{},{securityRiskAssessmentData:t.payload}):t.type===l.SRA.LOAD_IMPACT_THRESHOLD?ny(ny({},e),{},{impactThresholdData:t.payload}):e},controlValidationAuditState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uy,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS){var n=t.payload,r=[];return n&&(r=n.selectedComponents,delete n.selectedComponents),iy(iy({},e),{},{controlValidationAuditData:n,cvaSelectedComponents:r})}if(t.type===l.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA){var o=t.payload.selectedOption,a=t.payload.productAspect,i=t.payload.controlID,c=t.payload.componentID,u=t.payload.implementationEvidenceUserInput,s=Object(C.cloneDeep)(e.cvaSelectedComponents),f=[];if((f=""!==a?s.filter((function(e){return e.id==c&&e.productAspect==a})):s.filter((function(e){return e.id==c}))).length>0){var p=f[0].controls.filter((function(e){return e.id==i}));if(p.length>0)return p[0].selectedOption=o,p[0].implementationEvidenceUserInput=u,iy(iy({},e),{},{cvaSelectedComponents:s})}}if(t.type===l.CVA.RE_SYNC_WITH_JIRA_SUCCESS){var m=t.payload;return iy(iy({},e),{},{cvaSelectedComponents:m})}if(t.type===l.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA){var y=t.payload;return iy(iy({},e),{},{controlValidationAuditData:y,cvaSelectedComponents:[]})}return e},loadingState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=/(.*)\/(REQUEST|SUCCESS|FAILURE)/.exec(n);if(!r)return e;var o=py(r,3),a=(o[0],o[1]),i=o[2];return ly(ly({},e),{},fy({},a,"REQUEST"===i))}}),by=n(431),dy=[f.a];var hy=Object(Om.createStore)(yy,Object(by.composeWithDevTools)(Om.applyMiddleware.apply(void 0,dy)));function vy(e){return(vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gy(e,t){return(gy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ey(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ky(e);if(t){var o=ky(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wy(this,n)}}function wy(e,t){return!t||"object"!==vy(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ky(e){return(ky=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ty(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ay(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ty(Object(n),!0).forEach((function(t){jy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ty(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Py=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gy(e,t)}(i,e);var t,n,r,a=Ey(i);function i(){return Oy(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,Ay({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Ay({},this.props),t=e.siteConfig,n=e.taskSubmission,r=e.dispatchSaveAnsweredQuestionAction,a=e.dispatchMoveToPreviousQuestionAction,i=e.dispatchEditAnswersAction;return n&&t?o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(Gr,{title:n.taskName,subtitle:t.siteTitle,showLogoutButton:!1,logopath:t.logoPath}),o.a.createElement(su,{taskSubmission:n,saveAnsweredQuestion:r,moveToPreviousQuestion:a,editAnswers:i,showBackButton:!1,showEditButton:!1,canUpdateAnswers:"in_progress"===n.status||"start"===n.status,siteConfig:t,siteTitle:t.siteTitle}),o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText})):null}}])&&Sy(t.prototype,n),r&&Sy(t,r),i}(r.Component),_y=Object(c.b)((function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadDataAction:function(){var n=Ay({},t),r=n.uuid,o=n.secureToken;e(Kc({uuid:r,secureToken:o})),e(mn())},dispatchSaveAnsweredQuestionAction:function(n){var r=Ay({},t).secureToken;e(Jc({answeredQuestion:n,secureToken:r}))},dispatchMoveToPreviousQuestionAction:function(n){var r=Ay({},t).secureToken;e(Gc({targetQuestion:n,secureToken:r}))},dispatchEditAnswersAction:function(){var n=Ay({},t).secureToken;e(zc({secureToken:n}))}}}))(Py);function Iy(e){return(Iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ry(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dy(e,t){return(Dy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ny(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Uy(e);if(t){var o=Uy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xy(this,n)}}function xy(e,t){return!t||"object"!==Iy(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Uy(e){return(Uy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ly=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dy(e,t)}(i,e);var t,n,r,a=Ny(i);function i(){return Cy(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("main",null,o.a.createElement(u.a,null,o.a.createElement(s.a,{path:"/task/submission/:uuid"},(function(e){var t=e.match,n=e.location,r=Object(Xp.parse)(n.search);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(_y,{uuid:t.params.uuid,secureToken:r.token||""}))})))))}}])&&Ry(t.prototype,n),r&&Ry(t,r),i}(r.Component);window.addEventListener("load",(function(){sc.a.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},content:{background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",padding:"20px"}};var e=document.getElementById("main-app");e&&i.a.render(o.a.createElement(vm.a,null,o.a.createElement(c.a,{store:hy},o.a.createElement(hm,null))),e);var t=document.getElementById("vendor-app");t&&i.a.render(o.a.createElement(vm.a,null,o.a.createElement(c.a,{store:hy},o.a.createElement(Ly,null))),t)}))},83:function(e,t,n){e.exports=n.p+"../img/b0b707ee0bdf8b4add381179f4a89bf9.svg"},85:function(e,t,n){e.exports=n.p+"../img/64544011f835a0bcc13b668a98a70f78.svg"}});
//# sourceMappingURL=main.bundle.js.map